# 実装開始前チェックリスト

**バージョン:** 1.0.0  
**最終更新:** 2026-02-07

---

このチェックリストは、TDnet Data Collectorプロジェクトの実装を開始する前に確認すべき項目をまとめたものです。すべての項目をチェックしてから実装を開始してください。

**チェック記録:**
- **確認者:** _______________
- **確認日:** _______________
- **備考:** _______________

---

## 1. 要件・設計の確認

- [ ] 1.1. すべての要件（1-15）が設計に反映されている
- [ ] 1.2. Correctness Properties（1-15）が定義されている
- [ ] 1.3. データモデルが確定している
- [ ] 1.4. API仕様が確定している
- [ ] 1.5. アーキテクチャ図が最新である
- [ ] 1.6. date_partition生成ロジックが定義されている

**完了率:** 0/6 (0%)

## 2. 技術スタックの確認

- [ ] 2.1. Node.js 20.x環境が準備されている
- [ ] 2.2. AWS CDK v2がインストールされている
- [ ] 2.3. TypeScript 5.x以上がインストールされている
- [ ] 2.4. 必要なnpmパッケージがpackage.jsonに記載されている
- [ ] 2.5. AWSアカウントが準備されている
- [ ] 2.6. AWS CLIが設定されている

**完了率:** 0/6 (0%)

## 3. 開発環境の準備

- [ ] 3.1. GitHubリポジトリが作成されている
- [ ] 3.2. ブランチ戦略が決定されている（main, develop）
- [ ] 3.3. .gitignoreが設定されている
- [ ] 3.4. ESLint設定が完了している
- [ ] 3.5. Prettier設定が完了している
- [ ] 3.6. Jest設定が完了している
- [ ] 3.7. fast-checkがインストールされている
- [ ] 3.8. huskyでpre-commitフックが設定されている

**完了率:** 0/8 (0%)

## 4. CI/CDの準備

- [ ] 4.1. GitHub Actionsワークフローが作成されている（test.yml）
- [ ] 4.2. GitHub Actionsワークフローが作成されている（deploy.yml）
- [ ] 4.3. GitHub Actionsワークフローが作成されている（dependency-update.yml）
- [ ] 4.4. AWS認証情報がGitHub Secretsに設定されている
- [ ] 4.5. テスト自動実行が設定されている
- [ ] 4.6. カバレッジ閾値（80%）が設定されている
- [ ] 4.7. デプロイワークフローが設定されている
- [ ] 4.8. Slack通知が設定されている（オプション）

**完了率:** 0/8 (0%)

## 5. セキュリティの準備

- [ ] 5.1. IAMロールが設計されている
- [ ] 5.2. Secrets Managerの使用が計画されている
- [ ] 5.3. WAF設定が計画されている
- [ ] 5.4. CloudTrail有効化が計画されている
- [ ] 5.5. CloudTrailログ用S3バケットが計画されている
- [ ] 5.6. 暗号化設定（S3, DynamoDB）が計画されている
- [ ] 5.7. APIキー認証が計画されている

**完了率:** 0/7 (0%)

## 6. 監視の準備

- [ ] 6.1. CloudWatch Logsの設定が計画されている
- [ ] 6.2. カスタムメトリクスが定義されている
- [ ] 6.3. アラームが設計されている
- [ ] 6.4. SNS Topicが計画されている
- [ ] 6.5. ダッシュボードが設計されている
- [ ] 6.6. X-Rayトレーシングが計画されている

**完了率:** 0/6 (0%)

## 7. ドキュメントの確認

- [ ] requirements.mdが最新である
- [ ] design.mdが最新である
- [ ] すべてのsteeringファイルが作成されている
  - [ ] tdnet-implementation-rules.md
  - [ ] tdnet-scraping-patterns.md
  - [ ] error-handling-patterns.md
  - [ ] data-validation.md
  - [ ] api-design-guidelines.md
  - [ ] deployment-checklist.md
  - [ ] security-best-practices.md
  - [ ] monitoring-alerts.md
- [ ] READMEが作成されている
- [ ] CONTRIBUTING.mdが作成されている（必要に応じて）

## 8. テスト戦略の確認

- [ ] 8.1. ユニットテストの方針が決定されている
- [ ] 8.2. プロパティベーステストの方針が決定されている
- [ ] 8.3. 統合テストの方針が決定されている
- [ ] 8.4. E2Eテストの方針が決定されている
- [ ] 8.5. スモークテストが準備されている
- [ ] 8.6. テストカバレッジ80%以上の目標が設定されている

**完了率:** 0/6 (0%)

## 9. コスト管理の準備

- [ ] 9.1. コスト見積もりが完了している（月額約$16）
- [ ] 9.2. AWS Budgetsが設定される予定である
- [ ] 9.3. コストアラートが設定される予定である
- [ ] 9.4. 無料枠の活用が計画されている
- [ ] 9.5. コスト最適化の方針が決定されている

**完了率:** 0/5 (0%)

## 10. 実装順序の確認

- [ ] Phase 1（基本機能）の範囲が明確である
  - Lambda Collector（スクレイピング、PDF保存）
  - DynamoDB（メタデータ保存）
  - S3（PDFファイル保存）
  - EventBridge（日次スケジュール）
- [ ] Phase 2（拡張機能）の範囲が明確である
  - API Gateway（REST API）
  - Lambda Query（データクエリ）
  - Lambda Export（データエクスポート）
  - Webダッシュボード
- [ ] Phase 3（最適化）の範囲が明確である
  - 監視・アラート
  - セキュリティ強化
  - パフォーマンス最適化
- [ ] マイルストーンが設定されている

## 11. チーム体制の確認（該当する場合）

- [ ] 開発担当者が決定されている
- [ ] レビュー担当者が決定されている
- [ ] コミュニケーション方法が決定されている
- [ ] 定例ミーティングが設定されている

## 12. リスク管理

- [ ] 技術的リスクが洗い出されている
  - TDnetのHTML構造変更
  - AWS Lambda実行時間制限
  - DynamoDBスロットリング
- [ ] スケジュールリスクが洗い出されている
- [ ] コストリスクが洗い出されている
- [ ] 外部依存リスク（TDnet）が認識されている

## 13. 環境変数の準備

- [ ] 13.1. 開発環境の環境変数が定義されている
- [ ] 13.2. 本番環境の環境変数が定義されている
- [ ] 13.3. Secrets Managerに保存する機密情報が特定されている
- [ ] 13.4. SSM Parameter Storeに保存する設定値が特定されている

**完了率:** 0/4 (0%)

## 14. データベース設計の確認

- [ ] DynamoDBテーブル設計が確定している
  - tdnet_disclosures（開示情報）
  - tdnet_executions（実行状態）
- [ ] GSI設計が確定している
  - GSI_CompanyCode_DiscloseDate
  - GSI_DateRange
  - GSI_Status_StartedAt
- [ ] date_partitionの生成ロジックが実装されている

## 15. S3バケット設計の確認

- [ ] PDFファイル用バケットが設計されている
- [ ] エクスポートファイル用バケットが設計されている
- [ ] Webダッシュボード用バケットが設計されている
- [ ] CloudTrailログ用バケットが設計されている
- [ ] ライフサイクルポリシーが設計されている
- [ ] バケットポリシーが設計されている

## 16. 最終確認

- [ ] 16.1. すべてのsteeringファイルを読んで理解した
- [ ] 16.2. requirements.mdとdesign.mdに矛盾がない
- [ ] 16.3. 実装に必要な情報がすべて揃っている
- [ ] 16.4. 不明点や懸念事項がすべて解決されている
- [ ] 16.5. 実装開始の準備が整っている

**完了率:** 0/5 (0%)

---

## チェックリスト完了後のアクション

すべての項目をチェックしたら、以下のアクションを実行してください：

1. **リポジトリの初期化**
   ```bash
   git init
   npm init -y
   npm install
   ```

2. **CDKプロジェクトの初期化**
   ```bash
   npx cdk init app --language typescript
   ```

3. **最初のコミット**
   ```bash
   git add .
   git commit -m "chore: initial commit"
   git push origin main
   ```

4. **開発ブランチの作成**
   ```bash
   git checkout -b develop
   git push origin develop
   ```

5. **Phase 1の実装開始**
   - Lambda Collectorの実装
   - DynamoDBテーブルの作成
   - S3バケットの作成
   - EventBridgeスケジュールの設定

---

**注意**: このチェックリストは実装開始前に必ず確認してください。不足している項目がある場合は、実装を開始する前に準備を完了させてください。
