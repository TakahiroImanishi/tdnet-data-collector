# Production Environment Configuration Template
# This file contains production environment settings template
# 
# IMPORTANT: 
# - DO NOT commit actual production values to Git
# - Replace placeholders ({account-id}, etc.) with actual values
# - Store sensitive information in AWS Secrets Manager
# - Store configuration values in AWS SSM Parameter Store

# ========================================
# Environment
# ========================================
ENVIRONMENT=prod

# ========================================
# Logging
# ========================================
LOG_LEVEL=DEBUG

# ========================================
# AWS Configuration
# ========================================
AWS_REGION=ap-northeast-1
AWS_ACCOUNT_ID={account-id}  # Replace with your AWS account ID

# ========================================
# DynamoDB Configuration
# ========================================
DYNAMODB_TABLE_NAME=tdnet_disclosures_prod
DYNAMODB_EXECUTIONS_TABLE=tdnet_executions_prod
DYNAMODB_EXPORT_STATUS_TABLE=tdnet_export_status_prod

# ========================================
# S3 Configuration
# ========================================
S3_BUCKET_NAME=tdnet-data-collector-pdfs-prod-{account-id}
S3_EXPORTS_BUCKET=tdnet-data-collector-exports-prod-{account-id}
S3_DASHBOARD_BUCKET=tdnet-dashboard-prod-{account-id}

# ========================================
# Lambda Configuration
# ========================================
# Collector Lambda
COLLECTOR_LAMBDA_TIMEOUT=900
COLLECTOR_LAMBDA_MEMORY_SIZE=512

# Query Lambda
QUERY_LAMBDA_TIMEOUT=30
QUERY_LAMBDA_MEMORY_SIZE=256

# Export Lambda
EXPORT_LAMBDA_TIMEOUT=300
EXPORT_LAMBDA_MEMORY_SIZE=512

# Collect Lambda
COLLECT_LAMBDA_TIMEOUT=30
COLLECT_LAMBDA_MEMORY_SIZE=256

# Collect Status Lambda
COLLECT_STATUS_LAMBDA_TIMEOUT=30
COLLECT_STATUS_LAMBDA_MEMORY_SIZE=256

# Export Status Lambda
EXPORT_STATUS_LAMBDA_TIMEOUT=30
EXPORT_STATUS_LAMBDA_MEMORY_SIZE=256

# PDF Download Lambda
PDF_DOWNLOAD_LAMBDA_TIMEOUT=30
PDF_DOWNLOAD_LAMBDA_MEMORY_SIZE=256

# ========================================
# TDnet Scraping Configuration
# ========================================
TDNET_BASE_URL=https://www.release.tdnet.info
TDNET_REQUEST_DELAY_MS=2000
TDNET_MAX_RETRIES=3

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_REQUESTS_PER_MINUTE=30

# ========================================
# Feature Flags
# ========================================
ENABLE_DETAILED_LOGGING=false
ENABLE_METRICS=true
ENABLE_XRAY_TRACING=true

# ========================================
# API Gateway Configuration
# ========================================
API_GATEWAY_ENDPOINT=https://{api-id}.execute-api.ap-northeast-1.amazonaws.com/prod

# ========================================
# CloudWatch Configuration
# ========================================
CLOUDWATCH_NAMESPACE=TDnet
CLOUDWATCH_LOG_RETENTION_DAYS=30

# ========================================
# Monitoring & Alerts
# ========================================
ALERT_SNS_TOPIC_ARN=arn:aws:sns:ap-northeast-1:{account-id}:tdnet-alerts-prod
ERROR_RATE_THRESHOLD=10
DURATION_THRESHOLD=840
COLLECTION_SUCCESS_RATE_THRESHOLD=95

# ========================================
# CloudTrail Configuration
# ========================================
CLOUDTRAIL_LOGS_BUCKET=tdnet-cloudtrail-logs-{account-id}
CLOUDTRAIL_LOG_GROUP=/aws/cloudtrail/tdnet-prod

# ========================================
# WAF Configuration
# ========================================
WAF_WEB_ACL_ARN=arn:aws:wafv2:ap-northeast-1:{account-id}:regional/webacl/tdnet-web-acl-prod/{web-acl-id}

# ========================================
# Development Tools (Disabled in Production)
# ========================================
USE_LOCALSTACK=false
LOCALSTACK_ENDPOINT=

# ========================================
# Notes
# ========================================
# 1. Replace all {account-id} placeholders with your AWS account ID
# 2. Replace {api-id} with your API Gateway ID
# 3. Replace {web-acl-id} with your WAF Web ACL ID
# 4. API authentication is handled at API Gateway level using API Keys
# 5. Store configuration values in AWS SSM Parameter Store if needed
# 6. Refer to docs/ssm-parameter-store-setup.md for SSM Parameter Store setup
