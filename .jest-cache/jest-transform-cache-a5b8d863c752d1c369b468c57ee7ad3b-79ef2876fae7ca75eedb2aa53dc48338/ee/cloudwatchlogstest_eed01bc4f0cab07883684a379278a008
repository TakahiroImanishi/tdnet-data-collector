852a77638eeeeef4c46b1f5f500fa0a4
"use strict";
/**
 * CloudWatch Logs Construct Tests
 *
 * Tests for CloudWatch Logs configuration with environment-specific retention periods
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = __importStar(require("aws-cdk-lib"));
const logs = __importStar(require("aws-cdk-lib/aws-logs"));
const lambda = __importStar(require("aws-cdk-lib/aws-lambda"));
const assertions_1 = require("aws-cdk-lib/assertions");
const cloudwatch_logs_1 = require("../lib/constructs/cloudwatch-logs");
describe('CloudWatchLogs Construct', () => {
    describe('Development Environment', () => {
        let app;
        let stack;
        let cloudWatchLogs;
        beforeEach(() => {
            app = new cdk.App();
            stack = new cdk.Stack(app, 'TestStack');
            cloudWatchLogs = new cloudwatch_logs_1.CloudWatchLogs(stack, 'CloudWatchLogs', {
                environment: 'dev',
            });
        });
        test('should set retention to 7 days for dev environment', () => {
            expect(cloudWatchLogs.retentionDays).toBe(logs.RetentionDays.ONE_WEEK);
            expect(cloudWatchLogs.getRetentionDaysAsNumber()).toBe(7);
        });
        test('should set removal policy to DESTROY for dev environment', () => {
            expect(cloudWatchLogs.removalPolicy).toBe(cdk.RemovalPolicy.DESTROY);
        });
        test('should configure log group for Lambda function', () => {
            // Lambda関数を作成
            const testFunction = new lambda.Function(stack, 'TestFunction', {
                runtime: lambda.Runtime.NODEJS_20_X,
                handler: 'index.handler',
                code: lambda.Code.fromInline('exports.handler = async () => {};'),
                functionName: 'test-function',
            });
            // ログ設定を適用
            const logGroup = cloudWatchLogs.configureForLambda(testFunction);
            // CloudFormationテンプレートを検証
            const template = assertions_1.Template.fromStack(stack);
            // ログ保持期間が7日であることを確認
            template.hasResourceProperties('AWS::Logs::LogGroup', {
                LogGroupName: '/aws/lambda/test-function',
                RetentionInDays: 7,
            });
            // ロググループが作成されたことを確認
            expect(logGroup).toBeDefined();
            expect(logGroup.logGroupName).toBe('/aws/lambda/test-function');
        });
        test('should configure log groups for multiple Lambda functions', () => {
            // 複数のLambda関数を作成
            const functions = [
                new lambda.Function(stack, 'Function1', {
                    runtime: lambda.Runtime.NODEJS_20_X,
                    handler: 'index.handler',
                    code: lambda.Code.fromInline('exports.handler = async () => {};'),
                    functionName: 'function-1',
                }),
                new lambda.Function(stack, 'Function2', {
                    runtime: lambda.Runtime.NODEJS_20_X,
                    handler: 'index.handler',
                    code: lambda.Code.fromInline('exports.handler = async () => {};'),
                    functionName: 'function-2',
                }),
            ];
            // ログ設定を適用
            const logGroups = cloudWatchLogs.configureForLambdas(functions);
            // CloudFormationテンプレートを検証
            const template = assertions_1.Template.fromStack(stack);
            // 2つのロググループが作成されたことを確認
            template.resourceCountIs('AWS::Logs::LogGroup', 2);
            // 各ロググループの設定を確認
            template.hasResourceProperties('AWS::Logs::LogGroup', {
                LogGroupName: '/aws/lambda/function-1',
                RetentionInDays: 7,
            });
            template.hasResourceProperties('AWS::Logs::LogGroup', {
                LogGroupName: '/aws/lambda/function-2',
                RetentionInDays: 7,
            });
            // ロググループが作成されたことを確認
            expect(logGroups).toHaveLength(2);
            expect(logGroups[0].logGroupName).toBe('/aws/lambda/function-1');
            expect(logGroups[1].logGroupName).toBe('/aws/lambda/function-2');
        });
        test('should support custom log group name', () => {
            const testFunction = new lambda.Function(stack, 'CustomFunction', {
                runtime: lambda.Runtime.NODEJS_20_X,
                handler: 'index.handler',
                code: lambda.Code.fromInline('exports.handler = async () => {};'),
                functionName: 'custom-function',
            });
            // カスタムロググループ名を指定
            const logGroup = cloudWatchLogs.configureForLambda(testFunction, '/custom/log/group');
            // CloudFormationテンプレートを検証
            const template = assertions_1.Template.fromStack(stack);
            template.hasResourceProperties('AWS::Logs::LogGroup', {
                LogGroupName: '/custom/log/group',
                RetentionInDays: 7,
            });
            expect(logGroup.logGroupName).toBe('/custom/log/group');
        });
    });
    describe('Production Environment', () => {
        let app;
        let stack;
        let cloudWatchLogs;
        beforeEach(() => {
            app = new cdk.App();
            stack = new cdk.Stack(app, 'TestStack');
            cloudWatchLogs = new cloudwatch_logs_1.CloudWatchLogs(stack, 'CloudWatchLogs', {
                environment: 'prod',
            });
        });
        test('should set retention to 90 days for prod environment', () => {
            expect(cloudWatchLogs.retentionDays).toBe(logs.RetentionDays.THREE_MONTHS);
            expect(cloudWatchLogs.getRetentionDaysAsNumber()).toBe(90);
        });
        test('should set removal policy to RETAIN for prod environment', () => {
            expect(cloudWatchLogs.removalPolicy).toBe(cdk.RemovalPolicy.RETAIN);
        });
        test('should configure log group for Lambda function with 90 days retention', () => {
            const testFunction = new lambda.Function(stack, 'ProdFunction', {
                runtime: lambda.Runtime.NODEJS_20_X,
                handler: 'index.handler',
                code: lambda.Code.fromInline('exports.handler = async () => {};'),
                functionName: 'prod-function',
            });
            cloudWatchLogs.configureForLambda(testFunction);
            const template = assertions_1.Template.fromStack(stack);
            // ログ保持期間が90日であることを確認
            template.hasResourceProperties('AWS::Logs::LogGroup', {
                LogGroupName: '/aws/lambda/prod-function',
                RetentionInDays: 90,
            });
        });
    });
    describe('CloudFormation Outputs', () => {
        test('should create CloudFormation output for log group', () => {
            const app = new cdk.App();
            const stack = new cdk.Stack(app, 'TestStack');
            const cloudWatchLogs = new cloudwatch_logs_1.CloudWatchLogs(stack, 'CloudWatchLogs', {
                environment: 'dev',
            });
            const testFunction = new lambda.Function(stack, 'OutputTestFunction', {
                runtime: lambda.Runtime.NODEJS_20_X,
                handler: 'index.handler',
                code: lambda.Code.fromInline('exports.handler = async () => {};'),
                functionName: 'output-test-function',
            });
            cloudWatchLogs.configureForLambda(testFunction);
            const template = assertions_1.Template.fromStack(stack);
            // CloudFormation Outputが作成されたことを確認
            template.hasOutput('CloudWatchLogsOutputTestFunctionLogGroupName', {
                Value: {
                    Ref: expect.any(String),
                },
                Export: {
                    Name: 'output-test-function-LogGroupName',
                },
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcY2RrXFxfX3Rlc3RzX19cXGNsb3Vkd2F0Y2gtbG9ncy50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVILGlEQUFtQztBQUNuQywyREFBNkM7QUFDN0MsK0RBQWlEO0FBQ2pELHVEQUFrRDtBQUNsRCx1RUFBbUU7QUFFbkUsUUFBUSxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRTtJQUN4QyxRQUFRLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ3ZDLElBQUksR0FBWSxDQUFDO1FBQ2pCLElBQUksS0FBZ0IsQ0FBQztRQUNyQixJQUFJLGNBQThCLENBQUM7UUFFbkMsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNwQixLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztZQUN4QyxjQUFjLEdBQUcsSUFBSSxnQ0FBYyxDQUFDLEtBQUssRUFBRSxnQkFBZ0IsRUFBRTtnQkFDM0QsV0FBVyxFQUFFLEtBQUs7YUFDbkIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsb0RBQW9ELEVBQUUsR0FBRyxFQUFFO1lBQzlELE1BQU0sQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkUsTUFBTSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVELENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLDBEQUEwRCxFQUFFLEdBQUcsRUFBRTtZQUNwRSxNQUFNLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxD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QUMsTUFBTSxDQUFDO2lCQUN4QjtnQkFDRCxNQUFNLEVBQUU7b0JBQ04sSUFBSSxFQUFFLG1DQUFtQztpQkFDMUM7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcY2RrXFxfX3Rlc3RzX19cXGNsb3Vkd2F0Y2gtbG9ncy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDbG91ZFdhdGNoIExvZ3MgQ29uc3RydWN0IFRlc3RzXHJcbiAqIFxyXG4gKiBUZXN0cyBmb3IgQ2xvdWRXYXRjaCBMb2dzIGNvbmZpZ3VyYXRpb24gd2l0aCBlbnZpcm9ubWVudC1zcGVjaWZpYyByZXRlbnRpb24gcGVyaW9kc1xyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XHJcbmltcG9ydCAqIGFzIGxvZ3MgZnJvbSAnYXdzLWNkay1saWIvYXdzLWxvZ3MnO1xyXG5pbXBvcnQgKiBhcyBsYW1iZGEgZnJvbSAnYXdzLWNkay1saWIvYXdzLWxhbWJkYSc7XHJcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSAnYXdzLWNkay1saWIvYXNzZXJ0aW9ucyc7XHJcbmltcG9ydCB7IENsb3VkV2F0Y2hMb2dzIH0gZnJvbSAnLi4vbGliL2NvbnN0cnVjdHMvY2xvdWR3YXRjaC1sb2dzJztcclxuXHJcbmRlc2NyaWJlKCdDbG91ZFdhdGNoTG9ncyBDb25zdHJ1Y3QnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ0RldmVsb3BtZW50IEVudmlyb25tZW50JywgKCkgPT4ge1xyXG4gICAgbGV0IGFwcDogY2RrLkFwcDtcclxuICAgIGxldCBzdGFjazogY2RrLlN0YWNrO1xyXG4gICAgbGV0IGNsb3VkV2F0Y2hMb2dzOiBDbG91ZFdhdGNoTG9ncztcclxuXHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgYXBwID0gbmV3IGNkay5BcHAoKTtcclxuICAgICAgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ1Rlc3RTdGFjaycpO1xyXG4gICAgICBjbG91ZFdhdGNoTG9ncyA9IG5ldyBDbG91ZFdhdGNoTG9ncyhzdGFjaywgJ0Nsb3VkV2F0Y2hMb2dzJywge1xyXG4gICAgICAgIGVudmlyb25tZW50OiAnZGV2JyxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgc2V0IHJldGVudGlvbiB0byA3IGRheXMgZm9yIGRldiBlbnZpcm9ubWVudCcsICgpID0+IHtcclxuICAgICAgZXhwZWN0KGNsb3VkV2F0Y2hMb2dzLnJldGVudGlvbkRheXMpLnRvQmUobG9ncy5SZXRlbnRpb25EYXlzLk9ORV9XRUVLKTtcclxuICAgICAgZXhwZWN0KGNsb3VkV2F0Y2hMb2dzLmdldFJldGVudGlvbkRheXNBc051bWJlcigpKS50b0JlKDcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIHNldCByZW1vdmFsIHBvbGljeSB0byBERVNUUk9ZIGZvciBkZXYgZW52aXJvbm1lbnQnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChjbG91ZFdhdGNoTG9ncy5yZW1vdmFsUG9saWN5KS50b0JlKGNkay5SZW1vdmFsUG9saWN5LkRFU1RST1kpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGNvbmZpZ3VyZSBsb2cgZ3JvdXAgZm9yIExhbWJkYSBmdW5jdGlvbicsICgpID0+IHtcclxuICAgICAgLy8gTGFtYmRh6Zai5pWw44KS5L2c5oiQXHJcbiAgICAgIGNvbnN0IHRlc3RGdW5jdGlvbiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2ssICdUZXN0RnVuY3Rpb24nLCB7XHJcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzIwX1gsXHJcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxyXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2V4cG9ydHMuaGFuZGxlciA9IGFzeW5jICgpID0+IHt9OycpLFxyXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogJ3Rlc3QtZnVuY3Rpb24nLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIOODreOCsOioreWumuOCkumBqeeUqFxyXG4gICAgICBjb25zdCBsb2dHcm91cCA9IGNsb3VkV2F0Y2hMb2dzLmNvbmZpZ3VyZUZvckxhbWJkYSh0ZXN0RnVuY3Rpb24pO1xyXG5cclxuICAgICAgLy8gQ2xvdWRGb3JtYXRpb27jg4bjg7Pjg5fjg6zjg7zjg4jjgpLmpJzoqLxcclxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spO1xyXG5cclxuICAgICAgLy8g44Ot44Kw5L+d5oyB5pyf6ZaT44GMN+aXpeOBp+OBguOCi+OBk+OBqOOCkueiuuiqjVxyXG4gICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6TG9nczo6TG9nR3JvdXAnLCB7XHJcbiAgICAgICAgTG9nR3JvdXBOYW1lOiAnL2F3cy9sYW1iZGEvdGVzdC1mdW5jdGlvbicsXHJcbiAgICAgICAgUmV0ZW50aW9uSW5EYXlzOiA3LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIOODreOCsOOCsOODq+ODvOODl+OBjOS9nOaIkOOBleOCjOOBn+OBk+OBqOOCkueiuuiqjVxyXG4gICAgICBleHBlY3QobG9nR3JvdXApLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChsb2dHcm91cC5sb2dHcm91cE5hbWUpLnRvQmUoJy9hd3MvbGFtYmRhL3Rlc3QtZnVuY3Rpb24nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBjb25maWd1cmUgbG9nIGdyb3VwcyBmb3IgbXVsdGlwbGUgTGFtYmRhIGZ1bmN0aW9ucycsICgpID0+IHtcclxuICAgICAgLy8g6KSH5pWw44GuTGFtYmRh6Zai5pWw44KS5L2c5oiQXHJcbiAgICAgIGNvbnN0IGZ1bmN0aW9ucyA9IFtcclxuICAgICAgICBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrLCAnRnVuY3Rpb24xJywge1xyXG4gICAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzIwX1gsXHJcbiAgICAgICAgICBoYW5kbGVyOiAnaW5kZXguaGFuZGxlcicsXHJcbiAgICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdleHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoKSA9PiB7fTsnKSxcclxuICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ2Z1bmN0aW9uLTEnLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2ssICdGdW5jdGlvbjInLCB7XHJcbiAgICAgICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMjBfWCxcclxuICAgICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcclxuICAgICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2V4cG9ydHMuaGFuZGxlciA9IGFzeW5jICgpID0+IHt9OycpLFxyXG4gICAgICAgICAgZnVuY3Rpb25OYW1lOiAnZnVuY3Rpb24tMicsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIF07XHJcblxyXG4gICAgICAvLyDjg63jgrDoqK3lrprjgpLpgannlKhcclxuICAgICAgY29uc3QgbG9nR3JvdXBzID0gY2xvdWRXYXRjaExvZ3MuY29uZmlndXJlRm9yTGFtYmRhcyhmdW5jdGlvbnMpO1xyXG5cclxuICAgICAgLy8gQ2xvdWRGb3JtYXRpb27jg4bjg7Pjg5fjg6zjg7zjg4jjgpLmpJzoqLxcclxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spO1xyXG5cclxuICAgICAgLy8gMuOBpOOBruODreOCsOOCsOODq+ODvOODl+OBjOS9nOaIkOOBleOCjOOBn+OBk+OBqOOCkueiuuiqjVxyXG4gICAgICB0ZW1wbGF0ZS5yZXNvdXJjZUNvdW50SXMoJ0FXUzo6TG9nczo6TG9nR3JvdXAnLCAyKTtcclxuXHJcbiAgICAgIC8vIOWQhOODreOCsOOCsOODq+ODvOODl+OBruioreWumuOCkueiuuiqjVxyXG4gICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6TG9nczo6TG9nR3JvdXAnLCB7XHJcbiAgICAgICAgTG9nR3JvdXBOYW1lOiAnL2F3cy9sYW1iZGEvZnVuY3Rpb24tMScsXHJcbiAgICAgICAgUmV0ZW50aW9uSW5EYXlzOiA3LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMb2dzOjpMb2dHcm91cCcsIHtcclxuICAgICAgICBMb2dHcm91cE5hbWU6ICcvYXdzL2xhbWJkYS9mdW5jdGlvbi0yJyxcclxuICAgICAgICBSZXRlbnRpb25JbkRheXM6IDcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8g44Ot44Kw44Kw44Or44O844OX44GM5L2c5oiQ44GV44KM44Gf44GT44Go44KS56K66KqNXHJcbiAgICAgIGV4cGVjdChsb2dHcm91cHMpLnRvSGF2ZUxlbmd0aCgyKTtcclxuICAgICAgZXhwZWN0KGxvZ0dyb3Vwc1swXS5sb2dHcm91cE5hbWUpLnRvQmUoJy9hd3MvbGFtYmRhL2Z1bmN0aW9uLTEnKTtcclxuICAgICAgZXhwZWN0KGxvZ0dyb3Vwc1sxXS5sb2dHcm91cE5hbWUpLnRvQmUoJy9hd3MvbGFtYmRhL2Z1bmN0aW9uLTInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBzdXBwb3J0IGN1c3RvbSBsb2cgZ3JvdXAgbmFtZScsICgpID0+IHtcclxuICAgICAgY29uc3QgdGVzdEZ1bmN0aW9uID0gbmV3IGxhbWJkYS5GdW5jdGlvbihzdGFjaywgJ0N1c3RvbUZ1bmN0aW9uJywge1xyXG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18yMF9YLFxyXG4gICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcclxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdleHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoKSA9PiB7fTsnKSxcclxuICAgICAgICBmdW5jdGlvbk5hbWU6ICdjdXN0b20tZnVuY3Rpb24nLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIOOCq+OCueOCv+ODoOODreOCsOOCsOODq+ODvOODl+WQjeOCkuaMh+WumlxyXG4gICAgICBjb25zdCBsb2dHcm91cCA9IGNsb3VkV2F0Y2hMb2dzLmNvbmZpZ3VyZUZvckxhbWJkYShcclxuICAgICAgICB0ZXN0RnVuY3Rpb24sXHJcbiAgICAgICAgJy9jdXN0b20vbG9nL2dyb3VwJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gQ2xvdWRGb3JtYXRpb27jg4bjg7Pjg5fjg6zjg7zjg4jjgpLmpJzoqLxcclxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spO1xyXG5cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxvZ3M6OkxvZ0dyb3VwJywge1xyXG4gICAgICAgIExvZ0dyb3VwTmFtZTogJy9jdXN0b20vbG9nL2dyb3VwJyxcclxuICAgICAgICBSZXRlbnRpb25JbkRheXM6IDcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGxvZ0dyb3VwLmxvZ0dyb3VwTmFtZSkudG9CZSgnL2N1c3RvbS9sb2cvZ3JvdXAnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUHJvZHVjdGlvbiBFbnZpcm9ubWVudCcsICgpID0+IHtcclxuICAgIGxldCBhcHA6IGNkay5BcHA7XHJcbiAgICBsZXQgc3RhY2s6IGNkay5TdGFjaztcclxuICAgIGxldCBjbG91ZFdhdGNoTG9nczogQ2xvdWRXYXRjaExvZ3M7XHJcblxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIGFwcCA9IG5ldyBjZGsuQXBwKCk7XHJcbiAgICAgIHN0YWNrID0gbmV3IGNkay5TdGFjayhhcHAsICdUZXN0U3RhY2snKTtcclxuICAgICAgY2xvdWRXYXRjaExvZ3MgPSBuZXcgQ2xvdWRXYXRjaExvZ3Moc3RhY2ssICdDbG91ZFdhdGNoTG9ncycsIHtcclxuICAgICAgICBlbnZpcm9ubWVudDogJ3Byb2QnLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBzZXQgcmV0ZW50aW9uIHRvIDkwIGRheXMgZm9yIHByb2QgZW52aXJvbm1lbnQnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChjbG91ZFdhdGNoTG9ncy5yZXRlbnRpb25EYXlzKS50b0JlKGxvZ3MuUmV0ZW50aW9uRGF5cy5USFJFRV9NT05USFMpO1xyXG4gICAgICBleHBlY3QoY2xvdWRXYXRjaExvZ3MuZ2V0UmV0ZW50aW9uRGF5c0FzTnVtYmVyKCkpLnRvQmUoOTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIHNldCByZW1vdmFsIHBvbGljeSB0byBSRVRBSU4gZm9yIHByb2QgZW52aXJvbm1lbnQnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChjbG91ZFdhdGNoTG9ncy5yZW1vdmFsUG9saWN5KS50b0JlKGNkay5SZW1vdmFsUG9saWN5LlJFVEFJTik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgY29uZmlndXJlIGxvZyBncm91cCBmb3IgTGFtYmRhIGZ1bmN0aW9uIHdpdGggOTAgZGF5cyByZXRlbnRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRlc3RGdW5jdGlvbiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24oc3RhY2ssICdQcm9kRnVuY3Rpb24nLCB7XHJcbiAgICAgICAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzIwX1gsXHJcbiAgICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxyXG4gICAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21JbmxpbmUoJ2V4cG9ydHMuaGFuZGxlciA9IGFzeW5jICgpID0+IHt9OycpLFxyXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogJ3Byb2QtZnVuY3Rpb24nLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNsb3VkV2F0Y2hMb2dzLmNvbmZpZ3VyZUZvckxhbWJkYSh0ZXN0RnVuY3Rpb24pO1xyXG5cclxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spO1xyXG5cclxuICAgICAgLy8g44Ot44Kw5L+d5oyB5pyf6ZaT44GMOTDml6XjgafjgYLjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxvZ3M6OkxvZ0dyb3VwJywge1xyXG4gICAgICAgIExvZ0dyb3VwTmFtZTogJy9hd3MvbGFtYmRhL3Byb2QtZnVuY3Rpb24nLFxyXG4gICAgICAgIFJldGVudGlvbkluRGF5czogOTAsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDbG91ZEZvcm1hdGlvbiBPdXRwdXRzJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnc2hvdWxkIGNyZWF0ZSBDbG91ZEZvcm1hdGlvbiBvdXRwdXQgZm9yIGxvZyBncm91cCcsICgpID0+IHtcclxuICAgICAgY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcclxuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKGFwcCwgJ1Rlc3RTdGFjaycpO1xyXG4gICAgICBjb25zdCBjbG91ZFdhdGNoTG9ncyA9IG5ldyBDbG91ZFdhdGNoTG9ncyhzdGFjaywgJ0Nsb3VkV2F0Y2hMb2dzJywge1xyXG4gICAgICAgIGVudmlyb25tZW50OiAnZGV2JyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB0ZXN0RnVuY3Rpb24gPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrLCAnT3V0cHV0VGVzdEZ1bmN0aW9uJywge1xyXG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18yMF9YLFxyXG4gICAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcclxuICAgICAgICBjb2RlOiBsYW1iZGEuQ29kZS5mcm9tSW5saW5lKCdleHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoKSA9PiB7fTsnKSxcclxuICAgICAgICBmdW5jdGlvbk5hbWU6ICdvdXRwdXQtdGVzdC1mdW5jdGlvbicsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY2xvdWRXYXRjaExvZ3MuY29uZmlndXJlRm9yTGFtYmRhKHRlc3RGdW5jdGlvbik7XHJcblxyXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IFRlbXBsYXRlLmZyb21TdGFjayhzdGFjayk7XHJcblxyXG4gICAgICAvLyBDbG91ZEZvcm1hdGlvbiBPdXRwdXTjgYzkvZzmiJDjgZXjgozjgZ/jgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzT3V0cHV0KCdDbG91ZFdhdGNoTG9nc091dHB1dFRlc3RGdW5jdGlvbkxvZ0dyb3VwTmFtZScsIHtcclxuICAgICAgICBWYWx1ZToge1xyXG4gICAgICAgICAgUmVmOiBleHBlY3QuYW55KFN0cmluZyksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBFeHBvcnQ6IHtcclxuICAgICAgICAgIE5hbWU6ICdvdXRwdXQtdGVzdC1mdW5jdGlvbi1Mb2dHcm91cE5hbWUnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwidmVyc2lvbiI6M30=