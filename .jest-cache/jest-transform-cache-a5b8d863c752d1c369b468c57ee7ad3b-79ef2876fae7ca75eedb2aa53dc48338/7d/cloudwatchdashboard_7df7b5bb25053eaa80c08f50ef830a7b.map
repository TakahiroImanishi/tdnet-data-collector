{"file":"C:\\Users\\ti198\\investment_analysis_opopo\\cdk\\lib\\constructs\\cloudwatch-dashboard.ts","mappings":"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","names":[],"sources":["C:\\Users\\ti198\\investment_analysis_opopo\\cdk\\lib\\constructs\\cloudwatch-dashboard.ts"],"sourcesContent":["import * as cdk from 'aws-cdk-lib';\r\nimport * as cloudwatch from 'aws-cdk-lib/aws-cloudwatch';\r\nimport * as lambda from 'aws-cdk-lib/aws-lambda';\r\nimport * as dynamodb from 'aws-cdk-lib/aws-dynamodb';\r\nimport * as s3 from 'aws-cdk-lib/aws-s3';\r\nimport * as apigateway from 'aws-cdk-lib/aws-apigateway';\r\nimport { Construct } from 'constructs';\r\n\r\n/**\r\n * CloudWatch Dashboard Construct Properties\r\n */\r\nexport interface CloudWatchDashboardProps {\r\n  /**\r\n   * Environment name (dev, staging, prod)\r\n   */\r\n  environment: string;\r\n\r\n  /**\r\n   * Lambda functions to monitor\r\n   */\r\n  lambdaFunctions: {\r\n    collector: lambda.IFunction;\r\n    query: lambda.IFunction;\r\n    export: lambda.IFunction;\r\n    collect: lambda.IFunction;\r\n    collectStatus: lambda.IFunction;\r\n    exportStatus: lambda.IFunction;\r\n    pdfDownload: lambda.IFunction;\r\n  };\r\n\r\n  /**\r\n   * DynamoDB tables to monitor\r\n   */\r\n  dynamodbTables: {\r\n    disclosures: dynamodb.ITable;\r\n    executions: dynamodb.ITable;\r\n    exportStatus: dynamodb.ITable;\r\n  };\r\n\r\n  /**\r\n   * S3 buckets to monitor\r\n   */\r\n  s3Buckets: {\r\n    pdfs: s3.IBucket;\r\n    exports: s3.IBucket;\r\n  };\r\n\r\n  /**\r\n   * API Gateway to monitor\r\n   */\r\n  apiGateway: apigateway.IRestApi;\r\n}\r\n\r\n/**\r\n * CloudWatch Dashboard Construct\r\n * \r\n * TDnet Data Collectorの監視ダッシュボードを作成します。\r\n * 以下のメトリクスを可視化：\r\n * - Lambda実行メトリクス（Invocations、Errors、Duration）\r\n * - DynamoDB読み書きメトリクス\r\n * - ビジネスメトリクス（日次収集件数、失敗件数）\r\n * - API Gatewayメトリクス\r\n * - S3ストレージメトリクス\r\n */\r\nexport class CloudWatchDashboard extends Construct {\r\n  public readonly dashboard: cloudwatch.Dashboard;\r\n\r\n  constructor(scope: Construct, id: string, props: CloudWatchDashboardProps) {\r\n    super(scope, id);\r\n\r\n    // ダッシュボード作成\r\n    this.dashboard = new cloudwatch.Dashboard(this, 'Dashboard', {\r\n      dashboardName: `tdnet-collector-${props.environment}`,\r\n    });\r\n\r\n    // Lambda実行メトリクスウィジェット\r\n    this.addLambdaMetricsWidgets(props);\r\n\r\n    // DynamoDBメトリクスウィジェット\r\n    this.addDynamoDBMetricsWidgets(props);\r\n\r\n    // ビジネスメトリクスウィジェット\r\n    this.addBusinessMetricsWidgets(props);\r\n\r\n    // API Gatewayメトリクスウィジェット\r\n    this.addApiGatewayMetricsWidgets(props);\r\n\r\n    // S3ストレージメトリクスウィジェット\r\n    this.addS3MetricsWidgets(props);\r\n  }\r\n\r\n  /**\r\n   * Lambda実行メトリクスウィジェットを追加\r\n   */\r\n  private addLambdaMetricsWidgets(props: CloudWatchDashboardProps): void {\r\n    const { lambdaFunctions } = props;\r\n\r\n    // Lambda Invocations\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'Lambda Invocations',\r\n        left: [\r\n          lambdaFunctions.collector.metricInvocations({ label: 'Collector' }),\r\n          lambdaFunctions.query.metricInvocations({ label: 'Query' }),\r\n          lambdaFunctions.export.metricInvocations({ label: 'Export' }),\r\n          lambdaFunctions.collect.metricInvocations({ label: 'Collect' }),\r\n          lambdaFunctions.collectStatus.metricInvocations({ label: 'CollectStatus' }),\r\n          lambdaFunctions.exportStatus.metricInvocations({ label: 'ExportStatus' }),\r\n          lambdaFunctions.pdfDownload.metricInvocations({ label: 'PdfDownload' }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n        statistic: 'Sum',\r\n      })\r\n    );\r\n\r\n    // Lambda Errors\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'Lambda Errors',\r\n        left: [\r\n          lambdaFunctions.collector.metricErrors({ label: 'Collector' }),\r\n          lambdaFunctions.query.metricErrors({ label: 'Query' }),\r\n          lambdaFunctions.export.metricErrors({ label: 'Export' }),\r\n          lambdaFunctions.collect.metricErrors({ label: 'Collect' }),\r\n          lambdaFunctions.collectStatus.metricErrors({ label: 'CollectStatus' }),\r\n          lambdaFunctions.exportStatus.metricErrors({ label: 'ExportStatus' }),\r\n          lambdaFunctions.pdfDownload.metricErrors({ label: 'PdfDownload' }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n        statistic: 'Sum',\r\n      })\r\n    );\r\n\r\n    // Lambda Duration\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'Lambda Duration (ms)',\r\n        left: [\r\n          lambdaFunctions.collector.metricDuration({ label: 'Collector' }),\r\n          lambdaFunctions.query.metricDuration({ label: 'Query' }),\r\n          lambdaFunctions.export.metricDuration({ label: 'Export' }),\r\n          lambdaFunctions.collect.metricDuration({ label: 'Collect' }),\r\n          lambdaFunctions.collectStatus.metricDuration({ label: 'CollectStatus' }),\r\n          lambdaFunctions.exportStatus.metricDuration({ label: 'ExportStatus' }),\r\n          lambdaFunctions.pdfDownload.metricDuration({ label: 'PdfDownload' }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n        statistic: 'Average',\r\n      })\r\n    );\r\n\r\n    // Lambda Throttles\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'Lambda Throttles',\r\n        left: [\r\n          lambdaFunctions.collector.metricThrottles({ label: 'Collector' }),\r\n          lambdaFunctions.query.metricThrottles({ label: 'Query' }),\r\n          lambdaFunctions.export.metricThrottles({ label: 'Export' }),\r\n          lambdaFunctions.collect.metricThrottles({ label: 'Collect' }),\r\n          lambdaFunctions.collectStatus.metricThrottles({ label: 'CollectStatus' }),\r\n          lambdaFunctions.exportStatus.metricThrottles({ label: 'ExportStatus' }),\r\n          lambdaFunctions.pdfDownload.metricThrottles({ label: 'PdfDownload' }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n        statistic: 'Sum',\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * DynamoDBメトリクスウィジェットを追加\r\n   */\r\n  private addDynamoDBMetricsWidgets(props: CloudWatchDashboardProps): void {\r\n    const { dynamodbTables } = props;\r\n\r\n    // DynamoDB Read/Write Capacity\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'DynamoDB Consumed Capacity Units',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ConsumedReadCapacityUnits',\r\n            dimensionsMap: { TableName: dynamodbTables.disclosures.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Disclosures Read',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ConsumedReadCapacityUnits',\r\n            dimensionsMap: { TableName: dynamodbTables.executions.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Executions Read',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ConsumedReadCapacityUnits',\r\n            dimensionsMap: { TableName: dynamodbTables.exportStatus.tableName },\r\n            statistic: 'Sum',\r\n            label: 'ExportStatus Read',\r\n          }),\r\n        ],\r\n        right: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ConsumedWriteCapacityUnits',\r\n            dimensionsMap: { TableName: dynamodbTables.disclosures.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Disclosures Write',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ConsumedWriteCapacityUnits',\r\n            dimensionsMap: { TableName: dynamodbTables.executions.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Executions Write',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ConsumedWriteCapacityUnits',\r\n            dimensionsMap: { TableName: dynamodbTables.exportStatus.tableName },\r\n            statistic: 'Sum',\r\n            label: 'ExportStatus Write',\r\n          }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n      })\r\n    );\r\n\r\n    // DynamoDB Errors\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'DynamoDB Errors',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'UserErrors',\r\n            dimensionsMap: { TableName: dynamodbTables.disclosures.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Disclosures UserErrors',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'SystemErrors',\r\n            dimensionsMap: { TableName: dynamodbTables.disclosures.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Disclosures SystemErrors',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'UserErrors',\r\n            dimensionsMap: { TableName: dynamodbTables.executions.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Executions UserErrors',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'SystemErrors',\r\n            dimensionsMap: { TableName: dynamodbTables.executions.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Executions SystemErrors',\r\n          }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n      })\r\n    );\r\n\r\n    // DynamoDB Throttles\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'DynamoDB Throttled Requests',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ThrottledRequests',\r\n            dimensionsMap: { TableName: dynamodbTables.disclosures.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Disclosures',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ThrottledRequests',\r\n            dimensionsMap: { TableName: dynamodbTables.executions.tableName },\r\n            statistic: 'Sum',\r\n            label: 'Executions',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/DynamoDB',\r\n            metricName: 'ThrottledRequests',\r\n            dimensionsMap: { TableName: dynamodbTables.exportStatus.tableName },\r\n            statistic: 'Sum',\r\n            label: 'ExportStatus',\r\n          }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * ビジネスメトリクスウィジェットを追加\r\n   */\r\n  private addBusinessMetricsWidgets(props: CloudWatchDashboardProps): void {\r\n    const { environment } = props;\r\n\r\n    // 日次収集件数\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'Disclosures Collected (Daily)',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'TDnet/Collector',\r\n            metricName: 'DisclosuresCollected',\r\n            dimensionsMap: { Environment: environment },\r\n            statistic: 'Sum',\r\n            period: cdk.Duration.hours(1),\r\n          }),\r\n        ],\r\n        width: 12,\r\n      })\r\n    );\r\n\r\n    // 収集失敗件数\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'Disclosures Failed',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'TDnet/Collector',\r\n            metricName: 'DisclosuresFailed',\r\n            dimensionsMap: { Environment: environment },\r\n            statistic: 'Sum',\r\n            period: cdk.Duration.hours(1),\r\n          }),\r\n        ],\r\n        width: 12,\r\n      })\r\n    );\r\n\r\n    // 収集成功率\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'Collection Success Rate (%)',\r\n        left: [\r\n          new cloudwatch.MathExpression({\r\n            expression: '(collected / (collected + failed)) * 100',\r\n            usingMetrics: {\r\n              collected: new cloudwatch.Metric({\r\n                namespace: 'TDnet/Collector',\r\n                metricName: 'DisclosuresCollected',\r\n                dimensionsMap: { Environment: environment },\r\n                statistic: 'Sum',\r\n              }),\r\n              failed: new cloudwatch.Metric({\r\n                namespace: 'TDnet/Collector',\r\n                metricName: 'DisclosuresFailed',\r\n                dimensionsMap: { Environment: environment },\r\n                statistic: 'Sum',\r\n              }),\r\n            },\r\n            label: 'Success Rate',\r\n            period: cdk.Duration.hours(1),\r\n          }),\r\n        ],\r\n        width: 12,\r\n        leftYAxis: {\r\n          min: 0,\r\n          max: 100,\r\n        },\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * API Gatewayメトリクスウィジェットを追加\r\n   */\r\n  private addApiGatewayMetricsWidgets(props: CloudWatchDashboardProps): void {\r\n    const { apiGateway } = props;\r\n\r\n    // API Gateway Requests\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'API Gateway Requests',\r\n        left: [\r\n          apiGateway.metricCount({ label: 'Total Requests' }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n        statistic: 'Sum',\r\n      })\r\n    );\r\n\r\n    // API Gateway Errors\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'API Gateway Errors',\r\n        left: [\r\n          apiGateway.metricClientError({ label: '4XX Errors' }),\r\n          apiGateway.metricServerError({ label: '5XX Errors' }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n        statistic: 'Sum',\r\n      })\r\n    );\r\n\r\n    // API Gateway Latency\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'API Gateway Latency (ms)',\r\n        left: [\r\n          apiGateway.metricLatency({ label: 'Latency', statistic: 'Average' }),\r\n          apiGateway.metricIntegrationLatency({ label: 'Integration Latency', statistic: 'Average' }),\r\n        ],\r\n        width: 12,\r\n        period: cdk.Duration.minutes(5),\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * S3ストレージメトリクスウィジェットを追加\r\n   */\r\n  private addS3MetricsWidgets(props: CloudWatchDashboardProps): void {\r\n    const { s3Buckets } = props;\r\n\r\n    // S3 Bucket Size\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'S3 Bucket Size (Bytes)',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/S3',\r\n            metricName: 'BucketSizeBytes',\r\n            dimensionsMap: {\r\n              BucketName: s3Buckets.pdfs.bucketName,\r\n              StorageType: 'StandardStorage',\r\n            },\r\n            statistic: 'Average',\r\n            period: cdk.Duration.days(1),\r\n            label: 'PDFs Bucket',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/S3',\r\n            metricName: 'BucketSizeBytes',\r\n            dimensionsMap: {\r\n              BucketName: s3Buckets.exports.bucketName,\r\n              StorageType: 'StandardStorage',\r\n            },\r\n            statistic: 'Average',\r\n            period: cdk.Duration.days(1),\r\n            label: 'Exports Bucket',\r\n          }),\r\n        ],\r\n        width: 12,\r\n      })\r\n    );\r\n\r\n    // S3 Number of Objects\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'S3 Number of Objects',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/S3',\r\n            metricName: 'NumberOfObjects',\r\n            dimensionsMap: {\r\n              BucketName: s3Buckets.pdfs.bucketName,\r\n              StorageType: 'AllStorageTypes',\r\n            },\r\n            statistic: 'Average',\r\n            period: cdk.Duration.days(1),\r\n            label: 'PDFs Bucket',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/S3',\r\n            metricName: 'NumberOfObjects',\r\n            dimensionsMap: {\r\n              BucketName: s3Buckets.exports.bucketName,\r\n              StorageType: 'AllStorageTypes',\r\n            },\r\n            statistic: 'Average',\r\n            period: cdk.Duration.days(1),\r\n            label: 'Exports Bucket',\r\n          }),\r\n        ],\r\n        width: 12,\r\n      })\r\n    );\r\n\r\n    // S3 Requests\r\n    this.dashboard.addWidgets(\r\n      new cloudwatch.GraphWidget({\r\n        title: 'S3 Requests',\r\n        left: [\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/S3',\r\n            metricName: 'AllRequests',\r\n            dimensionsMap: {\r\n              BucketName: s3Buckets.pdfs.bucketName,\r\n            },\r\n            statistic: 'Sum',\r\n            period: cdk.Duration.minutes(5),\r\n            label: 'PDFs Bucket',\r\n          }),\r\n          new cloudwatch.Metric({\r\n            namespace: 'AWS/S3',\r\n            metricName: 'AllRequests',\r\n            dimensionsMap: {\r\n              BucketName: s3Buckets.exports.bucketName,\r\n            },\r\n            statistic: 'Sum',\r\n            period: cdk.Duration.minutes(5),\r\n            label: 'Exports Bucket',\r\n          }),\r\n        ],\r\n        width: 12,\r\n      })\r\n    );\r\n  }\r\n}\r\n"],"version":3}