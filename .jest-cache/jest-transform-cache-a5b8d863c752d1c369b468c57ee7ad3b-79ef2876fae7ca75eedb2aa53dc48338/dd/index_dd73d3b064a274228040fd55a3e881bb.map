{"version":3,"names":["cov_18gu9rb95c","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage"],"sources":["C:\\Users\\ti198\\investment_analysis_opopo\\src\\types\\index.ts"],"sourcesContent":["/**\n * TypeScript型定義\n *\n * TDnet Data Collectorで使用する型定義を集約します。\n *\n * Requirements: 要件2.1, 2.2, 2.3（メタデータ管理）\n */\n\n/**\n * 開示情報\n *\n * TDnetから取得した開示情報のメタデータを表します。\n */\nexport interface Disclosure {\n  /** 開示ID（一意識別子）: 日付_企業コード_連番形式 */\n  disclosure_id: string;\n\n  /** 企業コード（4桁の数字） */\n  company_code: string;\n\n  /** 企業名 */\n  company_name: string;\n\n  /** 開示種類（例: 決算短信、有価証券報告書、適時開示） */\n  disclosure_type: string;\n\n  /** タイトル */\n  title: string;\n\n  /** 開示日時（ISO 8601形式、UTC推奨）: \"2024-01-15T10:30:00Z\" */\n  disclosed_at: string;\n\n  /** PDF URL */\n  pdf_url: string;\n\n  /** S3キー（PDFファイルの保存先） */\n  s3_key: string;\n\n  /** 収集日時（ISO 8601形式、UTC）: \"2024-01-15T10:35:00Z\" */\n  collected_at: string;\n\n  /** date_partition（YYYY-MM形式、JST基準）: \"2024-01\" */\n  date_partition: string;\n}\n\n/**\n * 収集結果\n *\n * データ収集処理の結果を表します。\n */\nexport interface CollectionResult {\n  /** 実行ID */\n  execution_id: string;\n\n  /** 成功件数 */\n  success_count: number;\n\n  /** 失敗件数 */\n  failed_count: number;\n\n  /** 収集した開示情報のリスト */\n  disclosures: Disclosure[];\n\n  /** エラーメッセージのリスト */\n  errors: Array<{\n    disclosure_id?: string;\n    error_message: string;\n    error_type: string;\n  }>;\n}\n\n/**\n * 実行状態\n *\n * データ収集処理の実行状態を表します。\n */\nexport interface ExecutionStatus {\n  /** 実行ID */\n  execution_id: string;\n\n  /** 状態（pending, running, completed, failed） */\n  status: 'pending' | 'running' | 'completed' | 'failed';\n\n  /** 開始日時（ISO 8601形式、UTC） */\n  started_at: string;\n\n  /** 終了日時（ISO 8601形式、UTC） */\n  completed_at?: string;\n\n  /** 進捗率（0〜100） */\n  progress: number;\n\n  /** 成功件数 */\n  success_count: number;\n\n  /** 失敗件数 */\n  failed_count: number;\n\n  /** エラーメッセージ */\n  error_message?: string;\n\n  /** TTL（Unix timestamp、30日後に自動削除） */\n  ttl: number;\n}\n\n/**\n * クエリフィルター\n *\n * 開示情報の検索条件を表します。\n */\nexport interface QueryFilter {\n  /** 企業コード */\n  company_code?: string;\n\n  /** 開始日（ISO 8601形式） */\n  start_date?: string;\n\n  /** 終了日（ISO 8601形式） */\n  end_date?: string;\n\n  /** 開示種類 */\n  disclosure_type?: string;\n\n  /** 取得件数の上限 */\n  limit?: number;\n\n  /** オフセット（ページネーション用） */\n  offset?: number;\n}\n\n/**\n * DynamoDBアイテム型\n *\n * DynamoDBに保存する際の型定義。\n * AWS SDK v3のAttributeValue型を使用します。\n */\nexport interface DynamoDBItem {\n  [key: string]: {\n    S?: string;\n    N?: string;\n    B?: Uint8Array;\n    SS?: string[];\n    NS?: string[];\n    BS?: Uint8Array[];\n    M?: DynamoDBItem;\n    L?: DynamoDBItem[];\n    NULL?: boolean;\n    BOOL?: boolean;\n  };\n}\n\n/**\n * エクスポートリクエスト\n *\n * データエクスポート処理のリクエストを表します。\n */\nexport interface ExportRequest {\n  /** エクスポートID */\n  export_id: string;\n\n  /** フォーマット（json, csv） */\n  format: 'json' | 'csv';\n\n  /** クエリフィルター */\n  filter: QueryFilter;\n\n  /** リクエスト日時（ISO 8601形式、UTC） */\n  requested_at: string;\n}\n\n/**\n * エクスポート状態\n *\n * データエクスポート処理の状態を表します。\n */\nexport interface ExportStatus {\n  /** エクスポートID */\n  export_id: string;\n\n  /** 状態（pending, processing, completed, failed） */\n  status: 'pending' | 'processing' | 'completed' | 'failed';\n\n  /** リクエスト日時（ISO 8601形式、UTC） */\n  requested_at: string;\n\n  /** 完了日時（ISO 8601形式、UTC） */\n  completed_at?: string;\n\n  /** 進捗率（0〜100） */\n  progress: number;\n\n  /** ダウンロードURL（署名付きURL、有効期限7日） */\n  download_url?: string;\n\n  /** エラーメッセージ */\n  error_message?: string;\n\n  /** TTL（Unix timestamp、30日後に自動削除） */\n  ttl: number;\n}\n\n/**\n * Lambda Collectorイベント\n *\n * Lambda Collector関数に渡されるイベント型。\n */\nexport interface CollectorEvent {\n  /** モード（batch: 日次バッチ、ondemand: オンデマンド） */\n  mode: 'batch' | 'ondemand';\n\n  /** 開始日（ISO 8601形式、YYYY-MM-DD） */\n  start_date?: string;\n\n  /** 終了日（ISO 8601形式、YYYY-MM-DD） */\n  end_date?: string;\n}\n\n/**\n * Lambda Collectorレスポンス\n *\n * Lambda Collector関数のレスポンス型。\n */\nexport interface CollectorResponse {\n  /** 実行ID */\n  execution_id: string;\n\n  /** 状態 */\n  status: 'pending' | 'running' | 'completed' | 'failed';\n\n  /** メッセージ */\n  message: string;\n}\n"],"mappings":";;AAAA;;;;;;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,IAAA;MAAAC,QAAA;MAAAC,KAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,OAAA;IAAA;IAAAC,eAAA;IAAAtB,IAAA;EAAA;EAAA,IAAAuB,QAAA,GAAAtB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAoB,QAAA,CAAAxB,IAAA,KAAAwB,QAAA,CAAAxB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAuB,QAAA,CAAAxB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAoB,cAAA,GAAAD,QAAA,CAAAxB,IAAA;EAAA","ignoreList":[]}