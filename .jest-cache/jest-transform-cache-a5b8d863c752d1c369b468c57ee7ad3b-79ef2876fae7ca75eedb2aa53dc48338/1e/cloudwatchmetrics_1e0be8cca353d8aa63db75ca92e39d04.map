{"version":3,"names":["cov_egw3vhe1r","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","sendMetric","sendMetrics","sendErrorMetric","sendSuccessMetric","client_cloudwatch_1","require","logger_1","cloudwatchClient","CloudWatchClient","NAMESPACE","metricName","value","unit","dimensions","metricData","MetricName","Value","Unit","Timestamp","Date","Dimensions","Object","entries","map","Name","undefined","send","PutMetricDataCommand","Namespace","MetricData","logger","debug","namespace","metric_name","error","warn","error_type","Error","constructor","error_message","message","String","metrics","metric","count","length","errorType","functionName","additionalDimensions","ErrorType","FunctionName"],"sources":["C:\\Users\\ti198\\investment_analysis_opopo\\src\\utils\\cloudwatch-metrics.ts"],"sourcesContent":["/**\r\n * CloudWatch Metrics送信ユーティリティ\r\n *\r\n * Lambda関数からCloudWatchにカスタムメトリクスを送信します。\r\n * エラー発生時の監視とアラート設定に使用します。\r\n *\r\n * Requirements: 要件7.1（監視とアラート）\r\n */\r\n\r\nimport { CloudWatchClient, PutMetricDataCommand } from '@aws-sdk/client-cloudwatch';\r\nimport { logger } from './logger';\r\n\r\n// CloudWatchクライアントはグローバルスコープで初期化（再利用される）\r\nconst cloudwatchClient = new CloudWatchClient({});\r\n\r\n/**\r\n * メトリクス名前空間\r\n */\r\nconst NAMESPACE = 'TDnetDataCollector';\r\n\r\n/**\r\n * メトリクスディメンション\r\n */\r\nexport interface MetricDimensions {\r\n  [key: string]: string;\r\n}\r\n\r\n/**\r\n * CloudWatchにメトリクスを送信\r\n *\r\n * @param metricName メトリクス名\r\n * @param value メトリクス値\r\n * @param unit メトリクス単位（デフォルト: Count）\r\n * @param dimensions ディメンション（オプション）\r\n *\r\n * @example\r\n * ```typescript\r\n * // エラーカウント\r\n * await sendMetric('LambdaError', 1, 'Count', {\r\n *   ErrorType: 'NetworkError',\r\n *   FunctionName: 'Collector',\r\n * });\r\n *\r\n * // 処理時間\r\n * await sendMetric('ProcessingTime', 1234, 'Milliseconds', {\r\n *   FunctionName: 'Collector',\r\n * });\r\n *\r\n * // 成功カウント\r\n * await sendMetric('DisclosuresCollected', 10, 'Count', {\r\n *   Date: '2024-01-15',\r\n * });\r\n * ```\r\n */\r\nexport async function sendMetric(\r\n  metricName: string,\r\n  value: number,\r\n  unit: 'Count' | 'Milliseconds' | 'Bytes' | 'Percent' = 'Count',\r\n  dimensions?: MetricDimensions\r\n): Promise<void> {\r\n  try {\r\n    const metricData = {\r\n      MetricName: metricName,\r\n      Value: value,\r\n      Unit: unit,\r\n      Timestamp: new Date(),\r\n      Dimensions: dimensions\r\n        ? Object.entries(dimensions).map(([Name, Value]) => ({ Name, Value }))\r\n        : undefined,\r\n    };\r\n\r\n    await cloudwatchClient.send(\r\n      new PutMetricDataCommand({\r\n        Namespace: NAMESPACE,\r\n        MetricData: [metricData],\r\n      })\r\n    );\r\n\r\n    logger.debug('Metric sent to CloudWatch', {\r\n      namespace: NAMESPACE,\r\n      metric_name: metricName,\r\n      value,\r\n      unit,\r\n      dimensions,\r\n    });\r\n  } catch (error) {\r\n    // メトリクス送信失敗はログに記録するが、エラーをスローしない\r\n    // メトリクス送信失敗でメイン処理を中断しないため\r\n    logger.warn('Failed to send metric to CloudWatch', {\r\n      metric_name: metricName,\r\n      value,\r\n      error_type: error instanceof Error ? error.constructor.name : 'Unknown',\r\n      error_message: error instanceof Error ? error.message : String(error),\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * 複数のメトリクスを一括送信\r\n *\r\n * @param metrics メトリクスの配列\r\n *\r\n * @example\r\n * ```typescript\r\n * await sendMetrics([\r\n *   { name: 'DisclosuresCollected', value: 10, unit: 'Count' },\r\n *   { name: 'DisclosuresFailed', value: 2, unit: 'Count' },\r\n *   { name: 'ProcessingTime', value: 5000, unit: 'Milliseconds' },\r\n * ]);\r\n * ```\r\n */\r\nexport async function sendMetrics(\r\n  metrics: Array<{\r\n    name: string;\r\n    value: number;\r\n    unit?: 'Count' | 'Milliseconds' | 'Bytes' | 'Percent';\r\n    dimensions?: MetricDimensions;\r\n  }>\r\n): Promise<void> {\r\n  try {\r\n    const metricData = metrics.map((metric) => ({\r\n      MetricName: metric.name,\r\n      Value: metric.value,\r\n      Unit: metric.unit || 'Count',\r\n      Timestamp: new Date(),\r\n      Dimensions: metric.dimensions\r\n        ? Object.entries(metric.dimensions).map(([Name, Value]) => ({ Name, Value }))\r\n        : undefined,\r\n    }));\r\n\r\n    await cloudwatchClient.send(\r\n      new PutMetricDataCommand({\r\n        Namespace: NAMESPACE,\r\n        MetricData: metricData,\r\n      })\r\n    );\r\n\r\n    logger.debug('Metrics sent to CloudWatch', {\r\n      namespace: NAMESPACE,\r\n      count: metrics.length,\r\n    });\r\n  } catch (error) {\r\n    logger.warn('Failed to send metrics to CloudWatch', {\r\n      count: metrics.length,\r\n      error_type: error instanceof Error ? error.constructor.name : 'Unknown',\r\n      error_message: error instanceof Error ? error.message : String(error),\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * エラーメトリクスを送信\r\n *\r\n * @param errorType エラータイプ\r\n * @param functionName 関数名\r\n * @param additionalDimensions 追加ディメンション（オプション）\r\n *\r\n * @example\r\n * ```typescript\r\n * try {\r\n *   await operation();\r\n * } catch (error) {\r\n *   await sendErrorMetric(\r\n *     error.constructor.name,\r\n *     'Collector',\r\n *     { Date: '2024-01-15' }\r\n *   );\r\n *   throw error;\r\n * }\r\n * ```\r\n */\r\nexport async function sendErrorMetric(\r\n  errorType: string,\r\n  functionName: string,\r\n  additionalDimensions?: MetricDimensions\r\n): Promise<void> {\r\n  await sendMetric('LambdaError', 1, 'Count', {\r\n    ErrorType: errorType,\r\n    FunctionName: functionName,\r\n    ...additionalDimensions,\r\n  });\r\n}\r\n\r\n/**\r\n * 成功メトリクスを送信\r\n *\r\n * @param count 成功件数\r\n * @param functionName 関数名\r\n * @param additionalDimensions 追加ディメンション（オプション）\r\n *\r\n * @example\r\n * ```typescript\r\n * await sendSuccessMetric(10, 'Collector', { Date: '2024-01-15' });\r\n * ```\r\n */\r\nexport async function sendSuccessMetric(\r\n  count: number,\r\n  functionName: string,\r\n  additionalDimensions?: MetricDimensions\r\n): Promise<void> {\r\n  await sendMetric('OperationSuccess', count, 'Count', {\r\n    FunctionName: functionName,\r\n    ...additionalDimensions,\r\n  });\r\n}\r\n"],"mappings":"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","ignoreList":[]}