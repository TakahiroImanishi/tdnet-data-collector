17eec2e939a0d38f095cb1d48029a26b
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.TdnetDataCollectorStack = void 0;
const cdk = __importStar(require("aws-cdk-lib"));
const dynamodb = __importStar(require("aws-cdk-lib/aws-dynamodb"));
const s3 = __importStar(require("aws-cdk-lib/aws-s3"));
const lambda = __importStar(require("aws-cdk-lib/aws-lambda"));
const apigateway = __importStar(require("aws-cdk-lib/aws-apigateway"));
const wafv2 = __importStar(require("aws-cdk-lib/aws-wafv2"));
const secretsmanager = __importStar(require("aws-cdk-lib/aws-secretsmanager"));
class TdnetDataCollectorStack extends cdk.Stack {
    // Public properties for cross-stack references
    disclosuresTable;
    executionsTable;
    exportStatusTable;
    pdfsBucket;
    exportsBucket;
    dashboardBucket;
    cloudtrailLogsBucket;
    api;
    apiKey;
    webAcl;
    constructor(scope, id, props) {
        super(scope, id, props);
        // ========================================
        // Phase 1: DynamoDB Tables
        // ========================================
        // 1. tdnet_disclosures - 開示情報メタデータテーブル
        this.disclosuresTable = new dynamodb.Table(this, 'DisclosuresTable', {
            tableName: 'tdnet_disclosures',
            partitionKey: {
                name: 'disclosure_id',
                type: dynamodb.AttributeType.STRING,
            },
            billingMode: dynamodb.BillingMode.PAY_PER_REQUEST, // オンデマンドモード
            encryption: dynamodb.TableEncryption.AWS_MANAGED, // AWS管理キーで暗号化
            pointInTimeRecovery: true, // ポイントインタイムリカバリ有効化
            removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護
        });
        // GSI: CompanyCode_DiscloseDate - 企業コードと開示日時でクエリ
        this.disclosuresTable.addGlobalSecondaryIndex({
            indexName: 'GSI_CompanyCode_DiscloseDate',
            partitionKey: {
                name: 'company_code',
                type: dynamodb.AttributeType.STRING,
            },
            sortKey: {
                name: 'disclosed_at',
                type: dynamodb.AttributeType.STRING,
            },
            projectionType: dynamodb.ProjectionType.ALL, // すべての属性を投影
        });
        // GSI: DatePartition - 月単位の効率的なクエリ（YYYY-MM形式）
        this.disclosuresTable.addGlobalSecondaryIndex({
            indexName: 'GSI_DatePartition',
            partitionKey: {
                name: 'date_partition',
                type: dynamodb.AttributeType.STRING,
            },
            sortKey: {
                name: 'disclosed_at',
                type: dynamodb.AttributeType.STRING,
            },
            projectionType: dynamodb.ProjectionType.ALL,
        });
        // 2. tdnet_executions - 実行状態管理テーブル
        this.executionsTable = new dynamodb.Table(this, 'ExecutionsTable', {
            tableName: 'tdnet_executions',
            partitionKey: {
                name: 'execution_id',
                type: dynamodb.AttributeType.STRING,
            },
            billingMode: dynamodb.BillingMode.PAY_PER_REQUEST, // オンデマンドモード
            encryption: dynamodb.TableEncryption.AWS_MANAGED, // AWS管理キーで暗号化
            timeToLiveAttribute: 'ttl', // TTL有効化（30日後に自動削除）
            pointInTimeRecovery: true, // ポイントインタイムリカバリ有効化
            removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護
        });
        // GSI: Status_StartedAt - 実行状態と開始日時でクエリ
        this.executionsTable.addGlobalSecondaryIndex({
            indexName: 'GSI_Status_StartedAt',
            partitionKey: {
                name: 'status',
                type: dynamodb.AttributeType.STRING,
            },
            sortKey: {
                name: 'started_at',
                type: dynamodb.AttributeType.STRING,
            },
            projectionType: dynamodb.ProjectionType.ALL,
        });
        // 3. tdnet_export_status - エクスポート状態管理テーブル
        this.exportStatusTable = new dynamodb.Table(this, 'ExportStatusTable', {
            tableName: 'tdnet_export_status',
            partitionKey: {
                name: 'export_id',
                type: dynamodb.AttributeType.STRING,
            },
            billingMode: dynamodb.BillingMode.PAY_PER_REQUEST, // オンデマンドモード
            encryption: dynamodb.TableEncryption.AWS_MANAGED, // AWS管理キーで暗号化
            timeToLiveAttribute: 'ttl', // TTL有効化（30日後に自動削除）
            pointInTimeRecovery: true, // ポイントインタイムリカバリ有効化
            removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護
        });
        // GSI: Status_RequestedAt - エクスポート状態とリクエスト日時でクエリ
        this.exportStatusTable.addGlobalSecondaryIndex({
            indexName: 'GSI_Status_RequestedAt',
            partitionKey: {
                name: 'status',
                type: dynamodb.AttributeType.STRING,
            },
            sortKey: {
                name: 'requested_at',
                type: dynamodb.AttributeType.STRING,
            },
            projectionType: dynamodb.ProjectionType.ALL,
        });
        // CloudFormation Outputs
        new cdk.CfnOutput(this, 'DisclosuresTableName', {
            value: this.disclosuresTable.tableName,
            description: 'DynamoDB table name for disclosures',
            exportName: 'TdnetDisclosuresTableName',
        });
        new cdk.CfnOutput(this, 'ExecutionsTableName', {
            value: this.executionsTable.tableName,
            description: 'DynamoDB table name for executions',
            exportName: 'TdnetExecutionsTableName',
        });
        new cdk.CfnOutput(this, 'ExportStatusTableName', {
            value: this.exportStatusTable.tableName,
            description: 'DynamoDB table name for export status',
            exportName: 'TdnetExportStatusTableName',
        });
        // ========================================
        // Phase 1: S3 Buckets
        // ========================================
        // 1. PDFバケット - TDnetからダウンロードしたPDFファイルの長期保存
        this.pdfsBucket = new s3.Bucket(this, 'PdfsBucket', {
            bucketName: `tdnet-data-collector-pdfs-${this.account}`,
            encryption: s3.BucketEncryption.S3_MANAGED, // S3マネージドキーで暗号化
            blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL, // パブリックアクセスブロック
            versioned: true, // バージョニング有効化
            removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護
            autoDeleteObjects: false, // 自動削除無効
            lifecycleRules: [
                {
                    id: 'TransitionToStandardIA',
                    enabled: true,
                    transitions: [
                        {
                            storageClass: s3.StorageClass.INFREQUENT_ACCESS,
                            transitionAfter: cdk.Duration.days(90), // 90日後にStandard-IAに移行
                        },
                        {
                            storageClass: s3.StorageClass.GLACIER,
                            transitionAfter: cdk.Duration.days(365), // 365日後にGlacierに移行
                        },
                    ],
                },
            ],
        });
        // 2. エクスポートバケット - ユーザーがエクスポートしたCSV/JSONファイルの一時保存
        this.exportsBucket = new s3.Bucket(this, 'ExportsBucket', {
            bucketName: `tdnet-data-collector-exports-${this.account}`,
            encryption: s3.BucketEncryption.S3_MANAGED,
            blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL,
            versioned: true,
            removalPolicy: cdk.RemovalPolicy.RETAIN,
            autoDeleteObjects: false,
            lifecycleRules: [
                {
                    id: 'DeleteAfter7Days',
                    enabled: true,
                    expiration: cdk.Duration.days(7), // 7日後に自動削除
                },
            ],
        });
        // 3. ダッシュボードバケット - Webダッシュボードの静的ファイルホスティング
        this.dashboardBucket = new s3.Bucket(this, 'DashboardBucket', {
            bucketName: `tdnet-dashboard-${this.account}`,
            encryption: s3.BucketEncryption.S3_MANAGED,
            blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL, // CloudFront OAI経由でのみアクセス
            versioned: true,
            removalPolicy: cdk.RemovalPolicy.RETAIN,
            autoDeleteObjects: false,
            // ライフサイクルポリシーなし（静的ファイルは永続保存）
        });
        // 4. CloudTrailログバケット - 監査ログの長期保存
        this.cloudtrailLogsBucket = new s3.Bucket(this, 'CloudTrailLogsBucket', {
            bucketName: `tdnet-cloudtrail-logs-${this.account}`,
            encryption: s3.BucketEncryption.S3_MANAGED,
            blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL,
            versioned: true,
            removalPolicy: cdk.RemovalPolicy.RETAIN,
            autoDeleteObjects: false,
            lifecycleRules: [
                {
                    id: 'ArchiveAndDelete',
                    enabled: true,
                    transitions: [
                        {
                            storageClass: s3.StorageClass.GLACIER,
                            transitionAfter: cdk.Duration.days(90), // 90日後にGlacierに移行
                        },
                    ],
                    expiration: cdk.Duration.days(2555), // 7年後に自動削除（コンプライアンス要件）
                },
            ],
        });
        // CloudFormation Outputs
        new cdk.CfnOutput(this, 'PdfsBucketName', {
            value: this.pdfsBucket.bucketName,
            description: 'S3 bucket name for PDF files',
            exportName: 'TdnetPdfsBucketName',
        });
        new cdk.CfnOutput(this, 'ExportsBucketName', {
            value: this.exportsBucket.bucketName,
            description: 'S3 bucket name for export files',
            exportName: 'TdnetExportsBucketName',
        });
        new cdk.CfnOutput(this, 'DashboardBucketName', {
            value: this.dashboardBucket.bucketName,
            description: 'S3 bucket name for dashboard',
            exportName: 'TdnetDashboardBucketName',
        });
        new cdk.CfnOutput(this, 'CloudTrailLogsBucketName', {
            value: this.cloudtrailLogsBucket.bucketName,
            description: 'S3 bucket name for CloudTrail logs',
            exportName: 'TdnetCloudTrailLogsBucketName',
        });
        // ========================================
        // Phase 2: Secrets Manager（Lambda関数より前に初期化）
        // ========================================
        // IMPORTANT: apiKeyValueはLambda関数の環境変数で使用されるため、
        // Lambda関数定義より前に初期化する必要があります
        const apiKeyValue = secretsmanager.Secret.fromSecretNameV2(this, 'ApiKeySecret', '/tdnet/api-key');
        // ========================================
        // Phase 1: Lambda Functions
        // ========================================
        // Lambda Collector Function
        const collectorFunction = new lambda.Function(this, 'CollectorFunction', {
            functionName: 'tdnet-collector',
            runtime: lambda.Runtime.NODEJS_20_X,
            handler: 'index.handler',
            code: lambda.Code.fromAsset('dist/src/lambda/collector'),
            timeout: cdk.Duration.minutes(15),
            memorySize: 512,
            environment: {
                DYNAMODB_TABLE: this.disclosuresTable.tableName,
                DYNAMODB_EXECUTIONS_TABLE: this.executionsTable.tableName,
                S3_BUCKET: this.pdfsBucket.bucketName,
                LOG_LEVEL: 'info',
                NODE_OPTIONS: '--enable-source-maps',
            },
            reservedConcurrentExecutions: 1, // 同時実行数を1に制限（レート制限のため）
        });
        // IAM権限の付与
        // DynamoDB: 両テーブルへの読み書き権限
        this.disclosuresTable.grantReadWriteData(collectorFunction);
        this.executionsTable.grantReadWriteData(collectorFunction);
        // S3: PDFバケットへの書き込み権限
        this.pdfsBucket.grantPut(collectorFunction);
        this.pdfsBucket.grantRead(collectorFunction);
        // CloudWatch Metrics: カスタムメトリクス送信権限
        collectorFunction.addToRolePolicy(new cdk.aws_iam.PolicyStatement({
            effect: cdk.aws_iam.Effect.ALLOW,
            actions: ['cloudwatch:PutMetricData'],
            resources: ['*'],
        }));
        // CloudFormation Outputs
        new cdk.CfnOutput(this, 'CollectorFunctionName', {
            value: collectorFunction.functionName,
            description: 'Lambda Collector function name',
            exportName: 'TdnetCollectorFunctionName',
        });
        new cdk.CfnOutput(this, 'CollectorFunctionArn', {
            value: collectorFunction.functionArn,
            description: 'Lambda Collector function ARN',
            exportName: 'TdnetCollectorFunctionArn',
        });
        // ========================================
        // Phase 2: Lambda Query Function
        // ========================================
        // Lambda Query Function
        const queryFunction = new lambda.Function(this, 'QueryFunction', {
            functionName: 'tdnet-query',
            runtime: lambda.Runtime.NODEJS_20_X,
            handler: 'index.handler',
            code: lambda.Code.fromAsset('dist/src/lambda/query'),
            timeout: cdk.Duration.seconds(30),
            memorySize: 256,
            environment: {
                DYNAMODB_TABLE_NAME: this.disclosuresTable.tableName,
                S3_BUCKET_NAME: this.pdfsBucket.bucketName,
                API_KEY: apiKeyValue.secretValue.unsafeUnwrap(), // Secrets Managerから取得
                LOG_LEVEL: 'info',
                NODE_OPTIONS: '--enable-source-maps',
            },
        });
        // IAM権限の付与
        // DynamoDB: disclosuresテーブルへの読み取り権限
        this.disclosuresTable.grantReadData(queryFunction);
        // S3: PDFバケットへの読み取り権限（署名付きURL生成用）
        this.pdfsBucket.grantRead(queryFunction);
        // CloudWatch Metrics: カスタムメトリクス送信権限
        queryFunction.addToRolePolicy(new cdk.aws_iam.PolicyStatement({
            effect: cdk.aws_iam.Effect.ALLOW,
            actions: ['cloudwatch:PutMetricData'],
            resources: ['*'],
        }));
        // CloudFormation Outputs
        new cdk.CfnOutput(this, 'QueryFunctionName', {
            value: queryFunction.functionName,
            description: 'Lambda Query function name',
            exportName: 'TdnetQueryFunctionName',
        });
        new cdk.CfnOutput(this, 'QueryFunctionArn', {
            value: queryFunction.functionArn,
            description: 'Lambda Query function ARN',
            exportName: 'TdnetQueryFunctionArn',
        });
        // ========================================
        // Phase 2: Lambda Export Function
        // ========================================
        // Lambda Export Function
        const exportFunction = new lambda.Function(this, 'ExportFunction', {
            functionName: 'tdnet-export',
            runtime: lambda.Runtime.NODEJS_20_X,
            handler: 'index.handler',
            code: lambda.Code.fromAsset('dist/src/lambda/export'),
            timeout: cdk.Duration.minutes(5),
            memorySize: 512,
            environment: {
                DYNAMODB_TABLE_NAME: this.disclosuresTable.tableName,
                EXPORT_STATUS_TABLE_NAME: this.exportStatusTable.tableName,
                EXPORT_BUCKET_NAME: this.exportsBucket.bucketName,
                API_KEY: apiKeyValue.secretValue.unsafeUnwrap(), // Secrets Managerから取得
                LOG_LEVEL: 'info',
                NODE_OPTIONS: '--enable-source-maps',
                AWS_REGION: this.region,
            },
        });
        // IAM権限の付与
        // DynamoDB: disclosuresテーブルへの読み取り権限
        this.disclosuresTable.grantReadData(exportFunction);
        // DynamoDB: exportStatusテーブルへの読み書き権限
        this.exportStatusTable.grantReadWriteData(exportFunction);
        // S3: exportsバケットへの書き込み権限
        this.exportsBucket.grantPut(exportFunction);
        this.exportsBucket.grantRead(exportFunction);
        // CloudWatch Metrics: カスタムメトリクス送信権限
        exportFunction.addToRolePolicy(new cdk.aws_iam.PolicyStatement({
            effect: cdk.aws_iam.Effect.ALLOW,
            actions: ['cloudwatch:PutMetricData'],
            resources: ['*'],
        }));
        // CloudFormation Outputs
        new cdk.CfnOutput(this, 'ExportFunctionName', {
            value: exportFunction.functionName,
            description: 'Lambda Export function name',
            exportName: 'TdnetExportFunctionName',
        });
        new cdk.CfnOutput(this, 'ExportFunctionArn', {
            value: exportFunction.functionArn,
            description: 'Lambda Export function ARN',
            exportName: 'TdnetExportFunctionArn',
        });
        // ========================================
        // Phase 2: API Gateway + WAF
        // ========================================
        // 1. API Gateway REST API
        this.api = new apigateway.RestApi(this, 'TdnetApi', {
            restApiName: 'tdnet-data-collector-api',
            description: 'TDnet Data Collector REST API',
            deployOptions: {
                stageName: 'prod',
                throttlingRateLimit: 100, // リクエスト/秒
                throttlingBurstLimit: 200, // バーストリクエスト数
                loggingLevel: apigateway.MethodLoggingLevel.INFO,
                dataTraceEnabled: true,
                metricsEnabled: true,
            },
            defaultCorsPreflightOptions: {
                allowOrigins: apigateway.Cors.ALL_ORIGINS, // 本番環境では特定のオリジンに制限
                allowMethods: apigateway.Cors.ALL_METHODS,
                allowHeaders: [
                    'Content-Type',
                    'X-Amz-Date',
                    'Authorization',
                    'X-Api-Key',
                    'X-Amz-Security-Token',
                ],
                allowCredentials: true,
            },
            cloudWatchRole: true, // CloudWatch Logsへのログ出力を有効化
        });
        // 2. API Key生成
        // Note: apiKeyValueは既にファイル先頭で初期化済み
        this.apiKey = new apigateway.ApiKey(this, 'TdnetApiKey', {
            apiKeyName: 'tdnet-api-key',
            description: 'API Key for TDnet Data Collector',
            enabled: true,
            value: apiKeyValue.secretValue.unsafeUnwrap(), // Secrets Managerから取得
        });
        // 3. Usage Plan設定
        const usagePlan = this.api.addUsagePlan('TdnetUsagePlan', {
            name: 'tdnet-usage-plan',
            description: 'Usage plan for TDnet Data Collector API',
            throttle: {
                rateLimit: 100, // リクエスト/秒
                burstLimit: 200, // バーストリクエスト数
            },
            quota: {
                limit: 10000, // 月間リクエスト数上限
                period: apigateway.Period.MONTH,
            },
        });
        usagePlan.addApiKey(this.apiKey);
        usagePlan.addApiStage({
            stage: this.api.deploymentStage,
        });
        // 4. AWS WAF Web ACL設定
        this.webAcl = new wafv2.CfnWebACL(this, 'TdnetWebAcl', {
            name: 'tdnet-web-acl',
            scope: 'REGIONAL', // API Gatewayは REGIONAL
            defaultAction: { allow: {} },
            description: 'Web ACL for TDnet Data Collector API',
            visibilityConfig: {
                sampledRequestsEnabled: true,
                cloudWatchMetricsEnabled: true,
                metricName: 'TdnetWebAcl',
            },
            rules: [
                // ルール1: レート制限（2000リクエスト/5分）
                {
                    name: 'RateLimitRule',
                    priority: 1,
                    statement: {
                        rateBasedStatement: {
                            limit: 2000, // 5分間のリクエスト数上限
                            aggregateKeyType: 'IP',
                        },
                    },
                    action: {
                        block: {
                            customResponse: {
                                responseCode: 429,
                                customResponseBodyKey: 'RateLimitExceeded',
                            },
                        },
                    },
                    visibilityConfig: {
                        sampledRequestsEnabled: true,
                        cloudWatchMetricsEnabled: true,
                        metricName: 'RateLimitRule',
                    },
                },
                // ルール2: AWSマネージドルール - Common Rule Set
                {
                    name: 'AWSManagedRulesCommonRuleSet',
                    priority: 2,
                    statement: {
                        managedRuleGroupStatement: {
                            vendorName: 'AWS',
                            name: 'AWSManagedRulesCommonRuleSet',
                        },
                    },
                    overrideAction: { none: {} },
                    visibilityConfig: {
                        sampledRequestsEnabled: true,
                        cloudWatchMetricsEnabled: true,
                        metricName: 'AWSManagedRulesCommonRuleSet',
                    },
                },
                // ルール3: AWSマネージドルール - Known Bad Inputs
                {
                    name: 'AWSManagedRulesKnownBadInputsRuleSet',
                    priority: 3,
                    statement: {
                        managedRuleGroupStatement: {
                            vendorName: 'AWS',
                            name: 'AWSManagedRulesKnownBadInputsRuleSet',
                        },
                    },
                    overrideAction: { none: {} },
                    visibilityConfig: {
                        sampledRequestsEnabled: true,
                        cloudWatchMetricsEnabled: true,
                        metricName: 'AWSManagedRulesKnownBadInputsRuleSet',
                    },
                },
            ],
            customResponseBodies: {
                RateLimitExceeded: {
                    contentType: 'APPLICATION_JSON',
                    content: JSON.stringify({
                        error_code: 'RATE_LIMIT_EXCEEDED',
                        message: 'Too many requests. Please try again later.',
                    }),
                },
            },
        });
        // 5. WAFとAPI Gatewayの関連付け
        new wafv2.CfnWebACLAssociation(this, 'TdnetWebAclAssociation', {
            resourceArn: this.api.deploymentStage.stageArn,
            webAclArn: this.webAcl.attrArn,
        });
        // CloudFormation Outputs
        new cdk.CfnOutput(this, 'ApiEndpoint', {
            value: this.api.url,
            description: 'API Gateway endpoint URL',
            exportName: 'TdnetApiEndpoint',
        });
        new cdk.CfnOutput(this, 'ApiKeyId', {
            value: this.apiKey.keyId,
            description: 'API Key ID',
            exportName: 'TdnetApiKeyId',
        });
        new cdk.CfnOutput(this, 'WebAclArn', {
            value: this.webAcl.attrArn,
            description: 'WAF Web ACL ARN',
            exportName: 'TdnetWebAclArn',
        });
        // ========================================
        // Phase 2: API Gateway Integrations
        // ========================================
        // 1. /export エンドポイント
        const exportResource = this.api.root.addResource('export');
        const exportIntegration = new apigateway.LambdaIntegration(exportFunction, {
            proxy: true,
            integrationResponses: [
                {
                    statusCode: '202', // Accepted
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': "'*'",
                    },
                },
                {
                    statusCode: '400', // Bad Request
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': "'*'",
                    },
                },
                {
                    statusCode: '401', // Unauthorized
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': "'*'",
                    },
                },
                {
                    statusCode: '500', // Internal Server Error
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': "'*'",
                    },
                },
            ],
        });
        exportResource.addMethod('POST', exportIntegration, {
            apiKeyRequired: true, // APIキー認証必須
            methodResponses: [
                {
                    statusCode: '202',
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': true,
                    },
                },
                {
                    statusCode: '400',
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': true,
                    },
                },
                {
                    statusCode: '401',
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': true,
                    },
                },
                {
                    statusCode: '500',
                    responseParameters: {
                        'method.response.header.Access-Control-Allow-Origin': true,
                    },
                },
            ],
        });
        // CloudFormation Outputs
        new cdk.CfnOutput(this, 'ExportEndpoint', {
            value: `${this.api.url}export`,
            description: 'Export API endpoint URL',
            exportName: 'TdnetExportEndpoint',
        });
    }
}
exports.TdnetDataCollectorStack = TdnetDataCollectorStack;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcY2RrXFxsaWJcXHRkbmV0LWRhdGEtY29sbGVjdG9yLXN0YWNrLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlEQUFtQztBQUNuQyxtRUFBcUQ7QUFDckQsdURBQXlDO0FBQ3pDLCtEQUFpRDtBQUNqRCx1RUFBeUQ7QUFDekQsNkRBQStDO0FBQy9DLCtFQUFpRTtBQUdqRSxNQUFhLHVCQUF3QixTQUFRLEdBQUcsQ0FBQyxLQUFLO0lBQ3BELCtDQUErQztJQUMvQixnQkFBZ0IsQ0FBaUI7SUFDakMsZUFBZSxDQUFpQjtJQUNoQyxpQkFBaUIsQ0FBaUI7SUFDbEMsVUFBVSxDQUFZO0lBQ3RCLGFBQWEsQ0FBWTtJQUN6QixlQUFlLENBQVk7SUFDM0Isb0JBQW9CLENBQVk7SUFDaEMsR0FBRyxDQUFxQjtJQUN4QixNQUFNLENBQW9CO0lBQzFCLE1BQU0sQ0FBa0I7SUFFeEMsWUFBWSxLQUFnQixFQUFFLEVBQVUsRUFBRSxLQUFzQjtRQUM5RCxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV4QiwyQ0FBMkM7UUFDM0MsMkJBQTJCO1FBQzNCLDJDQUEyQztRQUUzQyx1Q0FBdUM7UUFDdkMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLEVBQUU7WUFDbkUsU0FBUyxFQUFFLG1CQUFtQjtZQUM5QixZQUFZLEVBQUU7Z0JBQ1osSUFBSSxFQUFFLGVBQWU7Z0JBQ3JCLElBQUksRUFBRSxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU07YUFDcEM7WUFDRCxXQUFXLEVBQUUsUUFBUSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsWUFBWTtZQUMvRCxVQUFVLEVBQUUsUUFBUSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEVBQUUsY0FBYztZQUNoRSxtQkFBbUIsRUFBRSxJ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QkFDbEIsb0RBQW9ELEVBQUUsS0FBSztxQkFDNUQ7aUJBQ0Y7Z0JBQ0Q7b0JBQ0UsVUFBVSxFQUFFLEtBQUssRUFBRSx3QkFBd0I7b0JBQzNDLGtCQUFrQixFQUFFO3dCQUNsQixvREFBb0QsRUFBRSxLQUFLO3FCQUM1RDtpQkFDRjthQUNGO1NBQ0YsQ0FBQyxDQUFDO1FBRUgsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsaUJBQWlCLEVBQUU7WUFDbEQsY0FBYyxFQUFFLElBQUksRUFBRSxZQUFZO1lBQ2xDLGVBQWUsRUFBRTtnQkFDZjtvQkFDRSxVQUFVLEVBQUUsS0FBSztvQkFDakIsa0JBQWtCLEVBQUU7d0JBQ2xCLG9EQUFvRCxFQUFFLElBQUk7cUJBQzNEO2lCQUNGO2dCQUNEO29CQUNFLFVBQVUsRUFBRSxLQUFLO29CQUNqQixrQkFBa0IsRUFBRTt3QkFDbEIsb0RBQW9ELEVBQUUsSUFBSTtxQkFDM0Q7aUJBQ0Y7Z0JBQ0Q7b0JBQ0UsVUFBVSxFQUFFLEtBQUs7b0JBQ2pCLGtCQUFrQixFQUFFO3dCQUNsQixvREFBb0QsRUFBRSxJQUFJO3FCQUMzRDtpQkFDRjtnQkFDRDtvQkFDRSxVQUFVLEVBQUUsS0FBSztvQkFDakIsa0JBQWtCLEVBQUU7d0JBQ2xCLG9EQUFvRCxFQUFFLElBQUk7cUJBQzNEO2lCQUNGO2FBQ0Y7U0FDRixDQUFDLENBQUM7UUFFSCx5QkFBeUI7UUFDekIsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxnQkFBZ0IsRUFBRTtZQUN4QyxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsUUFBUTtZQUM5QixXQUFXLEVBQUUseUJBQXlCO1lBQ3RDLFVBQVUsRUFBRSxxQkFBcUI7U0FDbEMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGO0FBNW9CRCwwREE0b0JDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGkxOThcXGludmVzdG1lbnRfYW5hbHlzaXNfb3BvcG9cXGNka1xcbGliXFx0ZG5ldC1kYXRhLWNvbGxlY3Rvci1zdGFjay50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0ICogYXMgZHluYW1vZGIgZnJvbSAnYXdzLWNkay1saWIvYXdzLWR5bmFtb2RiJztcbmltcG9ydCAqIGFzIHMzIGZyb20gJ2F3cy1jZGstbGliL2F3cy1zMyc7XG5pbXBvcnQgKiBhcyBsYW1iZGEgZnJvbSAnYXdzLWNkay1saWIvYXdzLWxhbWJkYSc7XG5pbXBvcnQgKiBhcyBhcGlnYXRld2F5IGZyb20gJ2F3cy1jZGstbGliL2F3cy1hcGlnYXRld2F5JztcbmltcG9ydCAqIGFzIHdhZnYyIGZyb20gJ2F3cy1jZGstbGliL2F3cy13YWZ2Mic7XG5pbXBvcnQgKiBhcyBzZWNyZXRzbWFuYWdlciBmcm9tICdhd3MtY2RrLWxpYi9hd3Mtc2VjcmV0c21hbmFnZXInO1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5cbmV4cG9ydCBjbGFzcyBUZG5ldERhdGFDb2xsZWN0b3JTdGFjayBleHRlbmRzIGNkay5TdGFjayB7XG4gIC8vIFB1YmxpYyBwcm9wZXJ0aWVzIGZvciBjcm9zcy1zdGFjayByZWZlcmVuY2VzXG4gIHB1YmxpYyByZWFkb25seSBkaXNjbG9zdXJlc1RhYmxlOiBkeW5hbW9kYi5UYWJsZTtcbiAgcHVibGljIHJlYWRvbmx5IGV4ZWN1dGlvbnNUYWJsZTogZHluYW1vZGIuVGFibGU7XG4gIHB1YmxpYyByZWFkb25seSBleHBvcnRTdGF0dXNUYWJsZTogZHluYW1vZGIuVGFibGU7XG4gIHB1YmxpYyByZWFkb25seSBwZGZzQnVja2V0OiBzMy5CdWNrZXQ7XG4gIHB1YmxpYyByZWFkb25seSBleHBvcnRzQnVja2V0OiBzMy5CdWNrZXQ7XG4gIHB1YmxpYyByZWFkb25seSBkYXNoYm9hcmRCdWNrZXQ6IHMzLkJ1Y2tldDtcbiAgcHVibGljIHJlYWRvbmx5IGNsb3VkdHJhaWxMb2dzQnVja2V0OiBzMy5CdWNrZXQ7XG4gIHB1YmxpYyByZWFkb25seSBhcGk6IGFwaWdhdGV3YXkuUmVzdEFwaTtcbiAgcHVibGljIHJlYWRvbmx5IGFwaUtleTogYXBpZ2F0ZXdheS5BcGlLZXk7XG4gIHB1YmxpYyByZWFkb25seSB3ZWJBY2w6IHdhZnYyLkNmbldlYkFDTDtcblxuICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wcz86IGNkay5TdGFja1Byb3BzKSB7XG4gICAgc3VwZXIoc2NvcGUsIGlkLCBwcm9wcyk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUGhhc2UgMTogRHluYW1vREIgVGFibGVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gMS4gdGRuZXRfZGlzY2xvc3VyZXMgLSDplovnpLrmg4XloLHjg6Hjgr/jg4fjg7zjgr/jg4bjg7zjg5bjg6tcbiAgICB0aGlzLmRpc2Nsb3N1cmVzVGFibGUgPSBuZXcgZHluYW1vZGIuVGFibGUodGhpcywgJ0Rpc2Nsb3N1cmVzVGFibGUnLCB7XG4gICAgICB0YWJsZU5hbWU6ICd0ZG5ldF9kaXNjbG9zdXJlcycsXG4gICAgICBwYXJ0aXRpb25LZXk6IHtcbiAgICAgICAgbmFtZTogJ2Rpc2Nsb3N1cmVfaWQnLFxuICAgICAgICB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyxcbiAgICAgIH0sXG4gICAgICBiaWxsaW5nTW9kZTogZHluYW1vZGIuQmlsbGluZ01vZGUuUEFZX1BFUl9SRVFVRVNULCAvLyDjgqrjg7Pjg4fjg57jg7Pjg4njg6Ljg7zjg4lcbiAgICAgIGVuY3J5cHRpb246IGR5bmFtb2RiLlRhYmxlRW5jcnlwdGlvbi5BV1NfTUFOQUdFRCwgLy8gQVdT566h55CG44Kt44O844Gn5pqX5Y+35YyWXG4gICAgICBwb2ludEluVGltZVJlY292ZXJ5OiB0cnVlLCAvLyDjg53jgqTjg7Pjg4jjgqTjg7Pjgr/jgqTjg6Djg6rjgqvjg5Djg6rmnInlirnljJZcbiAgICAgIHJlbW92YWxQb2xpY3k6IGNkay5SZW1vdmFsUG9saWN5LlJFVEFJTiwgLy8g5pys55Wq55Kw5aKD44Gn44Gv5YmK6Zmk5L+d6K23XG4gICAgfSk7XG5cbiAgICAvLyBHU0k6IENvbXBhbnlDb2RlX0Rpc2Nsb3NlRGF0ZSAtIOS8gealreOCs+ODvOODieOBqOmWi+ekuuaXpeaZguOBp+OCr+OCqOODqlxuICAgIHRoaXMuZGlzY2xvc3VyZXNUYWJsZS5hZGRHbG9iYWxTZWNvbmRhcnlJbmRleCh7XG4gICAgICBpbmRleE5hbWU6ICdHU0lfQ29tcGFueUNvZGVfRGlzY2xvc2VEYXRlJyxcbiAgICAgIHBhcnRpdGlvbktleToge1xuICAgICAgICBuYW1lOiAnY29tcGFueV9jb2RlJyxcbiAgICAgICAgdHlwZTogZHluYW1vZGIuQXR0cmlidXRlVHlwZS5TVFJJTkcsXG4gICAgICB9LFxuICAgICAgc29ydEtleToge1xuICAgICAgICBuYW1lOiAnZGlzY2xvc2VkX2F0JyxcbiAgICAgICAgdHlwZTogZHluYW1vZGIuQXR0cmlidXRlVHlwZS5TVFJJTkcsXG4gICAgICB9LFxuICAgICAgcHJvamVjdGlvblR5cGU6IGR5bmFtb2RiLlByb2plY3Rpb25UeXBlLkFMTCwgLy8g44GZ44G544Gm44Gu5bGe5oCn44KS5oqV5b2xXG4gICAgfSk7XG5cbiAgICAvLyBHU0k6IERhdGVQYXJ0aXRpb24gLSDmnIjljZjkvY3jga7lirnnjofnmoTjgarjgq/jgqjjg6rvvIhZWVlZLU1N5b2i5byP77yJXG4gICAgdGhpcy5kaXNjbG9zdXJlc1RhYmxlLmFkZEdsb2JhbFNlY29uZGFyeUluZGV4KHtcbiAgICAgIGluZGV4TmFtZTogJ0dTSV9EYXRlUGFydGl0aW9uJyxcbiAgICAgIHBhcnRpdGlvbktleToge1xuICAgICAgICBuYW1lOiAnZGF0ZV9wYXJ0aXRpb24nLFxuICAgICAgICB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyxcbiAgICAgIH0sXG4gICAgICBzb3J0S2V5OiB7XG4gICAgICAgIG5hbWU6ICdkaXNjbG9zZWRfYXQnLFxuICAgICAgICB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyxcbiAgICAgIH0sXG4gICAgICBwcm9qZWN0aW9uVHlwZTogZHluYW1vZGIuUHJvamVjdGlvblR5cGUuQUxMLFxuICAgIH0pO1xuXG4gICAgLy8gMi4gdGRuZXRfZXhlY3V0aW9ucyAtIOWun+ihjOeKtuaFi+euoeeQhuODhuODvOODluODq1xuICAgIHRoaXMuZXhlY3V0aW9uc1RhYmxlID0gbmV3IGR5bmFtb2RiLlRhYmxlKHRoaXMsICdFeGVjdXRpb25zVGFibGUnLCB7XG4gICAgICB0YWJsZU5hbWU6ICd0ZG5ldF9leGVjdXRpb25zJyxcbiAgICAgIHBhcnRpdGlvbktleToge1xuICAgICAgICBuYW1lOiAnZXhlY3V0aW9uX2lkJyxcbiAgICAgICAgdHlwZTogZHluYW1vZGIuQXR0cmlidXRlVHlwZS5TVFJJTkcsXG4gICAgICB9LFxuICAgICAgYmlsbGluZ01vZGU6IGR5bmFtb2RiLkJpbGxpbmdNb2RlLlBBWV9QRVJfUkVRVUVTVCwgLy8g44Kq44Oz44OH44Oe44Oz44OJ44Oi44O844OJXG4gICAgICBlbmNyeXB0aW9uOiBkeW5hbW9kYi5UYWJsZUVuY3J5cHRpb24uQVdTX01BTkFHRUQsIC8vIEFXU+euoeeQhuOCreODvOOBp+aal+WPt+WMllxuICAgICAgdGltZVRvTGl2ZUF0dHJpYnV0ZTogJ3R0bCcsIC8vIFRUTOacieWKueWMlu+8iDMw5pel5b6M44Gr6Ieq5YuV5YmK6Zmk77yJXG4gICAgICBwb2ludEluVGltZVJlY292ZXJ5OiB0cnVlLCAvLyDjg53jgqTjg7Pjg4jjgqTjg7Pjgr/jgqTjg6Djg6rjgqvjg5Djg6rmnInlirnljJZcbiAgICAgIHJlbW92YWxQb2xpY3k6IGNkay5SZW1vdmFsUG9saWN5LlJFVEFJTiwgLy8g5pys55Wq55Kw5aKD44Gn44Gv5YmK6Zmk5L+d6K23XG4gICAgfSk7XG5cbiAgICAvLyBHU0k6IFN0YXR1c19TdGFydGVkQXQgLSDlrp/ooYznirbmhYvjgajplovlp4vml6XmmYLjgafjgq/jgqjjg6pcbiAgICB0aGlzLmV4ZWN1dGlvbnNUYWJsZS5hZGRHbG9iYWxTZWNvbmRhcnlJbmRleCh7XG4gICAgICBpbmRleE5hbWU6ICdHU0lfU3RhdHVzX1N0YXJ0ZWRBdCcsXG4gICAgICBwYXJ0aXRpb25LZXk6IHtcbiAgICAgICAgbmFtZTogJ3N0YXR1cycsXG4gICAgICAgIHR5cGU6IGR5bmFtb2RiLkF0dHJpYnV0ZVR5cGUuU1RSSU5HLFxuICAgICAgfSxcbiAgICAgIHNvcnRLZXk6IHtcbiAgICAgICAgbmFtZTogJ3N0YXJ0ZWRfYXQnLFxuICAgICAgICB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyxcbiAgICAgIH0sXG4gICAgICBwcm9qZWN0aW9uVHlwZTogZHluYW1vZGIuUHJvamVjdGlvblR5cGUuQUxMLFxuICAgIH0pO1xuXG4gICAgLy8gMy4gdGRuZXRfZXhwb3J0X3N0YXR1cyAtIOOCqOOCr+OCueODneODvOODiOeKtuaFi+euoeeQhuODhuODvOODluODq1xuICAgIHRoaXMuZXhwb3J0U3RhdHVzVGFibGUgPSBuZXcgZHluYW1vZGIuVGFibGUodGhpcywgJ0V4cG9ydFN0YXR1c1RhYmxlJywge1xuICAgICAgdGFibGVOYW1lOiAndGRuZXRfZXhwb3J0X3N0YXR1cycsXG4gICAgICBwYXJ0aXRpb25LZXk6IHtcbiAgICAgICAgbmFtZTogJ2V4cG9ydF9pZCcsXG4gICAgICAgIHR5cGU6IGR5bmFtb2RiLkF0dHJpYnV0ZVR5cGUuU1RSSU5HLFxuICAgICAgfSxcbiAgICAgIGJpbGxpbmdNb2RlOiBkeW5hbW9kYi5CaWxsaW5nTW9kZS5QQVlfUEVSX1JFUVVFU1QsIC8vIOOCquODs+ODh+ODnuODs+ODieODouODvOODiVxuICAgICAgZW5jcnlwdGlvbjogZHluYW1vZGIuVGFibGVFbmNyeXB0aW9uLkFXU19NQU5BR0VELCAvLyBBV1PnrqHnkIbjgq3jg7zjgafmmpflj7fljJZcbiAgICAgIHRpbWVUb0xpdmVBdHRyaWJ1dGU6ICd0dGwnLCAvLyBUVEzmnInlirnljJbvvIgzMOaXpeW+jOOBq+iHquWLleWJiumZpO+8iVxuICAgICAgcG9pbnRJblRpbWVSZWNvdmVyeTogdHJ1ZSwgLy8g44Od44Kk44Oz44OI44Kk44Oz44K/44Kk44Og44Oq44Kr44OQ44Oq5pyJ5Yq55YyWXG4gICAgICByZW1vdmFsUG9saWN5OiBjZGsuUmVtb3ZhbFBvbGljeS5SRVRBSU4sIC8vIOacrOeVqueSsOWig+OBp+OBr+WJiumZpOS/neitt1xuICAgIH0pO1xuXG4gICAgLy8gR1NJOiBTdGF0dXNfUmVxdWVzdGVkQXQgLSDjgqjjgq/jgrnjg53jg7zjg4jnirbmhYvjgajjg6rjgq/jgqjjgrnjg4jml6XmmYLjgafjgq/jgqjjg6pcbiAgICB0aGlzLmV4cG9ydFN0YXR1c1RhYmxlLmFkZEdsb2JhbFNlY29uZGFyeUluZGV4KHtcbiAgICAgIGluZGV4TmFtZTogJ0dTSV9TdGF0dXNfUmVxdWVzdGVkQXQnLFxuICAgICAgcGFydGl0aW9uS2V5OiB7XG4gICAgICAgIG5hbWU6ICdzdGF0dXMnLFxuICAgICAgICB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyxcbiAgICAgIH0sXG4gICAgICBzb3J0S2V5OiB7XG4gICAgICAgIG5hbWU6ICdyZXF1ZXN0ZWRfYXQnLFxuICAgICAgICB0eXBlOiBkeW5hbW9kYi5BdHRyaWJ1dGVUeXBlLlNUUklORyxcbiAgICAgIH0sXG4gICAgICBwcm9qZWN0aW9uVHlwZTogZHluYW1vZGIuUHJvamVjdGlvblR5cGUuQUxMLFxuICAgIH0pO1xuXG4gICAgLy8gQ2xvdWRGb3JtYXRpb24gT3V0cHV0c1xuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsICdEaXNjbG9zdXJlc1RhYmxlTmFtZScsIHtcbiAgICAgIHZhbHVlOiB0aGlzLmRpc2Nsb3N1cmVzVGFibGUudGFibGVOYW1lLFxuICAgICAgZGVzY3JpcHRpb246ICdEeW5hbW9EQiB0YWJsZSBuYW1lIGZvciBkaXNjbG9zdXJlcycsXG4gICAgICBleHBvcnROYW1lOiAnVGRuZXREaXNjbG9zdXJlc1RhYmxlTmFtZScsXG4gICAgfSk7XG5cbiAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCAnRXhlY3V0aW9uc1RhYmxlTmFtZScsIHtcbiAgICAgIHZhbHVlOiB0aGlzLmV4ZWN1dGlvbnNUYWJsZS50YWJsZU5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogJ0R5bmFtb0RCIHRhYmxlIG5hbWUgZm9yIGV4ZWN1dGlvbnMnLFxuICAgICAgZXhwb3J0TmFtZTogJ1RkbmV0RXhlY3V0aW9uc1RhYmxlTmFtZScsXG4gICAgfSk7XG5cbiAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCAnRXhwb3J0U3RhdHVzVGFibGVOYW1lJywge1xuICAgICAgdmFsdWU6IHRoaXMuZXhwb3J0U3RhdHVzVGFibGUudGFibGVOYW1lLFxuICAgICAgZGVzY3JpcHRpb246ICdEeW5hbW9EQiB0YWJsZSBuYW1lIGZvciBleHBvcnQgc3RhdHVzJyxcbiAgICAgIGV4cG9ydE5hbWU6ICdUZG5ldEV4cG9ydFN0YXR1c1RhYmxlTmFtZScsXG4gICAgfSk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUGhhc2UgMTogUzMgQnVja2V0c1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIDEuIFBERuODkOOCseODg+ODiCAtIFREbmV044GL44KJ44OA44Km44Oz44Ot44O844OJ44GX44GfUERG44OV44Kh44Kk44Or44Gu6ZW35pyf5L+d5a2YXG4gICAgdGhpcy5wZGZzQnVja2V0ID0gbmV3IHMzLkJ1Y2tldCh0aGlzLCAnUGRmc0J1Y2tldCcsIHtcbiAgICAgIGJ1Y2tldE5hbWU6IGB0ZG5ldC1kYXRhLWNvbGxlY3Rvci1wZGZzLSR7dGhpcy5hY2NvdW50fWAsXG4gICAgICBlbmNyeXB0aW9uOiBzMy5CdWNrZXRFbmNyeXB0aW9uLlMzX01BTkFHRUQsIC8vIFMz44Oe44ON44O844K444OJ44Kt44O844Gn5pqX5Y+35YyWXG4gICAgICBibG9ja1B1YmxpY0FjY2VzczogczMuQmxvY2tQdWJsaWNBY2Nlc3MuQkxPQ0tfQUxMLCAvLyDjg5Hjg5bjg6rjg4Pjgq/jgqLjgq/jgrvjgrnjg5bjg63jg4Pjgq9cbiAgICAgIHZlcnNpb25lZDogdHJ1ZSwgLy8g44OQ44O844K444On44OL44Oz44Kw5pyJ5Yq55YyWXG4gICAgICByZW1vdmFsUG9saWN5OiBjZGsuUmVtb3ZhbFBvbGljeS5SRVRBSU4sIC8vIOacrOeVqueSsOWig+OBp+OBr+WJiumZpOS/neitt1xuICAgICAgYXV0b0RlbGV0ZU9iamVjdHM6IGZhbHNlLCAvLyDoh6rli5XliYrpmaTnhKHlirlcbiAgICAgIGxpZmVjeWNsZVJ1bGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ1RyYW5zaXRpb25Ub1N0YW5kYXJkSUEnLFxuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgdHJhbnNpdGlvbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RvcmFnZUNsYXNzOiBzMy5TdG9yYWdlQ2xhc3MuSU5GUkVRVUVOVF9BQ0NFU1MsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25BZnRlcjogY2RrLkR1cmF0aW9uLmRheXMoOTApLCAvLyA5MOaXpeW+jOOBq1N0YW5kYXJkLUlB44Gr56e76KGMXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdG9yYWdlQ2xhc3M6IHMzLlN0b3JhZ2VDbGFzcy5HTEFDSUVSLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uQWZ0ZXI6IGNkay5EdXJhdGlvbi5kYXlzKDM2NSksIC8vIDM2NeaXpeW+jOOBq0dsYWNpZXLjgavnp7vooYxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICAvLyAyLiDjgqjjgq/jgrnjg53jg7zjg4jjg5DjgrHjg4Pjg4ggLSDjg6bjg7zjgrbjg7zjgYzjgqjjgq/jgrnjg53jg7zjg4jjgZfjgZ9DU1YvSlNPTuODleOCoeOCpOODq+OBruS4gOaZguS/neWtmFxuICAgIHRoaXMuZXhwb3J0c0J1Y2tldCA9IG5ldyBzMy5CdWNrZXQodGhpcywgJ0V4cG9ydHNCdWNrZXQnLCB7XG4gICAgICBidWNrZXROYW1lOiBgdGRuZXQtZGF0YS1jb2xsZWN0b3ItZXhwb3J0cy0ke3RoaXMuYWNjb3VudH1gLFxuICAgICAgZW5jcnlwdGlvbjogczMuQnVja2V0RW5jcnlwdGlvbi5TM19NQU5BR0VELFxuICAgICAgYmxvY2tQdWJsaWNBY2Nlc3M6IHMzLkJsb2NrUHVibGljQWNjZXNzLkJMT0NLX0FMTCxcbiAgICAgIHZlcnNpb25lZDogdHJ1ZSxcbiAgICAgIHJlbW92YWxQb2xpY3k6IGNkay5SZW1vdmFsUG9saWN5LlJFVEFJTixcbiAgICAgIGF1dG9EZWxldGVPYmplY3RzOiBmYWxzZSxcbiAgICAgIGxpZmVjeWNsZVJ1bGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ0RlbGV0ZUFmdGVyN0RheXMnLFxuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgZXhwaXJhdGlvbjogY2RrLkR1cmF0aW9uLmRheXMoNyksIC8vIDfml6Xlvozjgavoh6rli5XliYrpmaRcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICAvLyAzLiDjg4Djg4Pjgrfjg6Xjg5zjg7zjg4njg5DjgrHjg4Pjg4ggLSBXZWLjg4Djg4Pjgrfjg6Xjg5zjg7zjg4njga7pnZnnmoTjg5XjgqHjgqTjg6vjg5vjgrnjg4bjgqPjg7PjgrBcbiAgICB0aGlzLmRhc2hib2FyZEJ1Y2tldCA9IG5ldyBzMy5CdWNrZXQodGhpcywgJ0Rhc2hib2FyZEJ1Y2tldCcsIHtcbiAgICAgIGJ1Y2tldE5hbWU6IGB0ZG5ldC1kYXNoYm9hcmQtJHt0aGlzLmFjY291bnR9YCxcbiAgICAgIGVuY3J5cHRpb246IHMzLkJ1Y2tldEVuY3J5cHRpb24uUzNfTUFOQUdFRCxcbiAgICAgIGJsb2NrUHVibGljQWNjZXNzOiBzMy5CbG9ja1B1YmxpY0FjY2Vzcy5CTE9DS19BTEwsIC8vIENsb3VkRnJvbnQgT0FJ57WM55Sx44Gn44Gu44G/44Ki44Kv44K744K5XG4gICAgICB2ZXJzaW9uZWQ6IHRydWUsXG4gICAgICByZW1vdmFsUG9saWN5OiBjZGsuUmVtb3ZhbFBvbGljeS5SRVRBSU4sXG4gICAgICBhdXRvRGVsZXRlT2JqZWN0czogZmFsc2UsXG4gICAgICAvLyDjg6njgqTjg5XjgrXjgqTjgq/jg6vjg53jg6rjgrfjg7zjgarjgZfvvIjpnZnnmoTjg5XjgqHjgqTjg6vjga/msLjntprkv53lrZjvvIlcbiAgICB9KTtcblxuICAgIC8vIDQuIENsb3VkVHJhaWzjg63jgrDjg5DjgrHjg4Pjg4ggLSDnm6Pmn7vjg63jgrDjga7plbfmnJ/kv53lrZhcbiAgICB0aGlzLmNsb3VkdHJhaWxMb2dzQnVja2V0ID0gbmV3IHMzLkJ1Y2tldCh0aGlzLCAnQ2xvdWRUcmFpbExvZ3NCdWNrZXQnLCB7XG4gICAgICBidWNrZXROYW1lOiBgdGRuZXQtY2xvdWR0cmFpbC1sb2dzLSR7dGhpcy5hY2NvdW50fWAsXG4gICAgICBlbmNyeXB0aW9uOiBzMy5CdWNrZXRFbmNyeXB0aW9uLlMzX01BTkFHRUQsXG4gICAgICBibG9ja1B1YmxpY0FjY2VzczogczMuQmxvY2tQdWJsaWNBY2Nlc3MuQkxPQ0tfQUxMLFxuICAgICAgdmVyc2lvbmVkOiB0cnVlLFxuICAgICAgcmVtb3ZhbFBvbGljeTogY2RrLlJlbW92YWxQb2xpY3kuUkVUQUlOLFxuICAgICAgYXV0b0RlbGV0ZU9iamVjdHM6IGZhbHNlLFxuICAgICAgbGlmZWN5Y2xlUnVsZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnQXJjaGl2ZUFuZERlbGV0ZScsXG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICB0cmFuc2l0aW9uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdG9yYWdlQ2xhc3M6IHMzLlN0b3JhZ2VDbGFzcy5HTEFDSUVSLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uQWZ0ZXI6IGNkay5EdXJhdGlvbi5kYXlzKDkwKSwgLy8gOTDml6XlvozjgatHbGFjaWVy44Gr56e76KGMXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgZXhwaXJhdGlvbjogY2RrLkR1cmF0aW9uLmRheXMoMjU1NSksIC8vIDflubTlvozjgavoh6rli5XliYrpmaTvvIjjgrPjg7Pjg5fjg6njgqTjgqLjg7PjgrnopoHku7bvvIlcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICAvLyBDbG91ZEZvcm1hdGlvbiBPdXRwdXRzXG4gICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgJ1BkZnNCdWNrZXROYW1lJywge1xuICAgICAgdmFsdWU6IHRoaXMucGRmc0J1Y2tldC5idWNrZXROYW1lLFxuICAgICAgZGVzY3JpcHRpb246ICdTMyBidWNrZXQgbmFtZSBmb3IgUERGIGZpbGVzJyxcbiAgICAgIGV4cG9ydE5hbWU6ICdUZG5ldFBkZnNCdWNrZXROYW1lJyxcbiAgICB9KTtcblxuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsICdFeHBvcnRzQnVja2V0TmFtZScsIHtcbiAgICAgIHZhbHVlOiB0aGlzLmV4cG9ydHNCdWNrZXQuYnVja2V0TmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnUzMgYnVja2V0IG5hbWUgZm9yIGV4cG9ydCBmaWxlcycsXG4gICAgICBleHBvcnROYW1lOiAnVGRuZXRFeHBvcnRzQnVja2V0TmFtZScsXG4gICAgfSk7XG5cbiAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCAnRGFzaGJvYXJkQnVja2V0TmFtZScsIHtcbiAgICAgIHZhbHVlOiB0aGlzLmRhc2hib2FyZEJ1Y2tldC5idWNrZXROYW1lLFxuICAgICAgZGVzY3JpcHRpb246ICdTMyBidWNrZXQgbmFtZSBmb3IgZGFzaGJvYXJkJyxcbiAgICAgIGV4cG9ydE5hbWU6ICdUZG5ldERhc2hib2FyZEJ1Y2tldE5hbWUnLFxuICAgIH0pO1xuXG4gICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgJ0Nsb3VkVHJhaWxMb2dzQnVja2V0TmFtZScsIHtcbiAgICAgIHZhbHVlOiB0aGlzLmNsb3VkdHJhaWxMb2dzQnVja2V0LmJ1Y2tldE5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogJ1MzIGJ1Y2tldCBuYW1lIGZvciBDbG91ZFRyYWlsIGxvZ3MnLFxuICAgICAgZXhwb3J0TmFtZTogJ1RkbmV0Q2xvdWRUcmFpbExvZ3NCdWNrZXROYW1lJyxcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBQaGFzZSAyOiBTZWNyZXRzIE1hbmFnZXLvvIhMYW1iZGHplqLmlbDjgojjgorliY3jgavliJ3mnJ/ljJbvvIlcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBJTVBPUlRBTlQ6IGFwaUtleVZhbHVl44GvTGFtYmRh6Zai5pWw44Gu55Kw5aKD5aSJ5pWw44Gn5L2/55So44GV44KM44KL44Gf44KB44CBXG4gICAgLy8gTGFtYmRh6Zai5pWw5a6a576p44KI44KK5YmN44Gr5Yid5pyf5YyW44GZ44KL5b+F6KaB44GM44GC44KK44G+44GZXG4gICAgY29uc3QgYXBpS2V5VmFsdWUgPSBzZWNyZXRzbWFuYWdlci5TZWNyZXQuZnJvbVNlY3JldE5hbWVWMihcbiAgICAgIHRoaXMsXG4gICAgICAnQXBpS2V5U2VjcmV0JyxcbiAgICAgICcvdGRuZXQvYXBpLWtleSdcbiAgICApO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFBoYXNlIDE6IExhbWJkYSBGdW5jdGlvbnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBMYW1iZGEgQ29sbGVjdG9yIEZ1bmN0aW9uXG4gICAgY29uc3QgY29sbGVjdG9yRnVuY3Rpb24gPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHRoaXMsICdDb2xsZWN0b3JGdW5jdGlvbicsIHtcbiAgICAgIGZ1bmN0aW9uTmFtZTogJ3RkbmV0LWNvbGxlY3RvcicsXG4gICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMjBfWCxcbiAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldCgnZGlzdC9zcmMvbGFtYmRhL2NvbGxlY3RvcicpLFxuICAgICAgdGltZW91dDogY2RrLkR1cmF0aW9uLm1pbnV0ZXMoMTUpLFxuICAgICAgbWVtb3J5U2l6ZTogNTEyLFxuICAgICAgZW52aXJvbm1lbnQ6IHtcbiAgICAgICAgRFlOQU1PREJfVEFCTEU6IHRoaXMuZGlzY2xvc3VyZXNUYWJsZS50YWJsZU5hbWUsXG4gICAgICAgIERZTkFNT0RCX0VYRUNVVElPTlNfVEFCTEU6IHRoaXMuZXhlY3V0aW9uc1RhYmxlLnRhYmxlTmFtZSxcbiAgICAgICAgUzNfQlVDS0VUOiB0aGlzLnBkZnNCdWNrZXQuYnVja2V0TmFtZSxcbiAgICAgICAgTE9HX0xFVkVMOiAnaW5mbycsXG4gICAgICAgIE5PREVfT1BUSU9OUzogJy0tZW5hYmxlLXNvdXJjZS1tYXBzJyxcbiAgICAgIH0sXG4gICAgICByZXNlcnZlZENvbmN1cnJlbnRFeGVjdXRpb25zOiAxLCAvLyDlkIzmmYLlrp/ooYzmlbDjgpIx44Gr5Yi26ZmQ77yI44Os44O844OI5Yi26ZmQ44Gu44Gf44KB77yJXG4gICAgfSk7XG5cbiAgICAvLyBJQU3mqKnpmZDjga7ku5jkuI5cbiAgICAvLyBEeW5hbW9EQjog5Lih44OG44O844OW44Or44G444Gu6Kqt44G/5pu444GN5qip6ZmQXG4gICAgdGhpcy5kaXNjbG9zdXJlc1RhYmxlLmdyYW50UmVhZFdyaXRlRGF0YShjb2xsZWN0b3JGdW5jdGlvbik7XG4gICAgdGhpcy5leGVjdXRpb25zVGFibGUuZ3JhbnRSZWFkV3JpdGVEYXRhKGNvbGxlY3RvckZ1bmN0aW9uKTtcblxuICAgIC8vIFMzOiBQREbjg5DjgrHjg4Pjg4jjgbjjga7mm7jjgY3ovrzjgb/mqKnpmZBcbiAgICB0aGlzLnBkZnNCdWNrZXQuZ3JhbnRQdXQoY29sbGVjdG9yRnVuY3Rpb24pO1xuICAgIHRoaXMucGRmc0J1Y2tldC5ncmFudFJlYWQoY29sbGVjdG9yRnVuY3Rpb24pO1xuXG4gICAgLy8gQ2xvdWRXYXRjaCBNZXRyaWNzOiDjgqvjgrnjgr/jg6Djg6Hjg4jjg6rjgq/jgrnpgIHkv6HmqKnpmZBcbiAgICBjb2xsZWN0b3JGdW5jdGlvbi5hZGRUb1JvbGVQb2xpY3koXG4gICAgICBuZXcgY2RrLmF3c19pYW0uUG9saWN5U3RhdGVtZW50KHtcbiAgICAgICAgZWZmZWN0OiBjZGsuYXdzX2lhbS5FZmZlY3QuQUxMT1csXG4gICAgICAgIGFjdGlvbnM6IFsnY2xvdWR3YXRjaDpQdXRNZXRyaWNEYXRhJ10sXG4gICAgICAgIHJlc291cmNlczogWycqJ10sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBDbG91ZEZvcm1hdGlvbiBPdXRwdXRzXG4gICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgJ0NvbGxlY3RvckZ1bmN0aW9uTmFtZScsIHtcbiAgICAgIHZhbHVlOiBjb2xsZWN0b3JGdW5jdGlvbi5mdW5jdGlvbk5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogJ0xhbWJkYSBDb2xsZWN0b3IgZnVuY3Rpb24gbmFtZScsXG4gICAgICBleHBvcnROYW1lOiAnVGRuZXRDb2xsZWN0b3JGdW5jdGlvbk5hbWUnLFxuICAgIH0pO1xuXG4gICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgJ0NvbGxlY3RvckZ1bmN0aW9uQXJuJywge1xuICAgICAgdmFsdWU6IGNvbGxlY3RvckZ1bmN0aW9uLmZ1bmN0aW9uQXJuLFxuICAgICAgZGVzY3JpcHRpb246ICdMYW1iZGEgQ29sbGVjdG9yIGZ1bmN0aW9uIEFSTicsXG4gICAgICBleHBvcnROYW1lOiAnVGRuZXRDb2xsZWN0b3JGdW5jdGlvbkFybicsXG4gICAgfSk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUGhhc2UgMjogTGFtYmRhIFF1ZXJ5IEZ1bmN0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gTGFtYmRhIFF1ZXJ5IEZ1bmN0aW9uXG4gICAgY29uc3QgcXVlcnlGdW5jdGlvbiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24odGhpcywgJ1F1ZXJ5RnVuY3Rpb24nLCB7XG4gICAgICBmdW5jdGlvbk5hbWU6ICd0ZG5ldC1xdWVyeScsXG4gICAgICBydW50aW1lOiBsYW1iZGEuUnVudGltZS5OT0RFSlNfMjBfWCxcbiAgICAgIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgICAgIGNvZGU6IGxhbWJkYS5Db2RlLmZyb21Bc3NldCgnZGlzdC9zcmMvbGFtYmRhL3F1ZXJ5JyksXG4gICAgICB0aW1lb3V0OiBjZGsuRHVyYXRpb24uc2Vjb25kcygzMCksXG4gICAgICBtZW1vcnlTaXplOiAyNTYsXG4gICAgICBlbnZpcm9ubWVudDoge1xuICAgICAgICBEWU5BTU9EQl9UQUJMRV9OQU1FOiB0aGlzLmRpc2Nsb3N1cmVzVGFibGUudGFibGVOYW1lLFxuICAgICAgICBTM19CVUNLRVRfTkFNRTogdGhpcy5wZGZzQnVja2V0LmJ1Y2tldE5hbWUsXG4gICAgICAgIEFQSV9LRVk6IGFwaUtleVZhbHVlLnNlY3JldFZhbHVlLnVuc2FmZVVud3JhcCgpLCAvLyBTZWNyZXRzIE1hbmFnZXLjgYvjgonlj5blvpdcbiAgICAgICAgTE9HX0xFVkVMOiAnaW5mbycsXG4gICAgICAgIE5PREVfT1BUSU9OUzogJy0tZW5hYmxlLXNvdXJjZS1tYXBzJyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBJQU3mqKnpmZDjga7ku5jkuI5cbiAgICAvLyBEeW5hbW9EQjogZGlzY2xvc3VyZXPjg4bjg7zjg5bjg6vjgbjjga7oqq3jgb/lj5bjgormqKnpmZBcbiAgICB0aGlzLmRpc2Nsb3N1cmVzVGFibGUuZ3JhbnRSZWFkRGF0YShxdWVyeUZ1bmN0aW9uKTtcblxuICAgIC8vIFMzOiBQREbjg5DjgrHjg4Pjg4jjgbjjga7oqq3jgb/lj5bjgormqKnpmZDvvIjnvbLlkI3ku5jjgY1VUkznlJ/miJDnlKjvvIlcbiAgICB0aGlzLnBkZnNCdWNrZXQuZ3JhbnRSZWFkKHF1ZXJ5RnVuY3Rpb24pO1xuXG4gICAgLy8gQ2xvdWRXYXRjaCBNZXRyaWNzOiDjgqvjgrnjgr/jg6Djg6Hjg4jjg6rjgq/jgrnpgIHkv6HmqKnpmZBcbiAgICBxdWVyeUZ1bmN0aW9uLmFkZFRvUm9sZVBvbGljeShcbiAgICAgIG5ldyBjZGsuYXdzX2lhbS5Qb2xpY3lTdGF0ZW1lbnQoe1xuICAgICAgICBlZmZlY3Q6IGNkay5hd3NfaWFtLkVmZmVjdC5BTExPVyxcbiAgICAgICAgYWN0aW9uczogWydjbG91ZHdhdGNoOlB1dE1ldHJpY0RhdGEnXSxcbiAgICAgICAgcmVzb3VyY2VzOiBbJyonXSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIENsb3VkRm9ybWF0aW9uIE91dHB1dHNcbiAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCAnUXVlcnlGdW5jdGlvbk5hbWUnLCB7XG4gICAgICB2YWx1ZTogcXVlcnlGdW5jdGlvbi5mdW5jdGlvbk5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogJ0xhbWJkYSBRdWVyeSBmdW5jdGlvbiBuYW1lJyxcbiAgICAgIGV4cG9ydE5hbWU6ICdUZG5ldFF1ZXJ5RnVuY3Rpb25OYW1lJyxcbiAgICB9KTtcblxuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsICdRdWVyeUZ1bmN0aW9uQXJuJywge1xuICAgICAgdmFsdWU6IHF1ZXJ5RnVuY3Rpb24uZnVuY3Rpb25Bcm4sXG4gICAgICBkZXNjcmlwdGlvbjogJ0xhbWJkYSBRdWVyeSBmdW5jdGlvbiBBUk4nLFxuICAgICAgZXhwb3J0TmFtZTogJ1RkbmV0UXVlcnlGdW5jdGlvbkFybicsXG4gICAgfSk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUGhhc2UgMjogTGFtYmRhIEV4cG9ydCBGdW5jdGlvblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIExhbWJkYSBFeHBvcnQgRnVuY3Rpb25cbiAgICBjb25zdCBleHBvcnRGdW5jdGlvbiA9IG5ldyBsYW1iZGEuRnVuY3Rpb24odGhpcywgJ0V4cG9ydEZ1bmN0aW9uJywge1xuICAgICAgZnVuY3Rpb25OYW1lOiAndGRuZXQtZXhwb3J0JyxcbiAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18yMF9YLFxuICAgICAgaGFuZGxlcjogJ2luZGV4LmhhbmRsZXInLFxuICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KCdkaXN0L3NyYy9sYW1iZGEvZXhwb3J0JyksXG4gICAgICB0aW1lb3V0OiBjZGsuRHVyYXRpb24ubWludXRlcyg1KSxcbiAgICAgIG1lbW9yeVNpemU6IDUxMixcbiAgICAgIGVudmlyb25tZW50OiB7XG4gICAgICAgIERZTkFNT0RCX1RBQkxFX05BTUU6IHRoaXMuZGlzY2xvc3VyZXNUYWJsZS50YWJsZU5hbWUsXG4gICAgICAgIEVYUE9SVF9TVEFUVVNfVEFCTEVfTkFNRTogdGhpcy5leHBvcnRTdGF0dXNUYWJsZS50YWJsZU5hbWUsXG4gICAgICAgIEVYUE9SVF9CVUNLRVRfTkFNRTogdGhpcy5leHBvcnRzQnVja2V0LmJ1Y2tldE5hbWUsXG4gICAgICAgIEFQSV9LRVk6IGFwaUtleVZhbHVlLnNlY3JldFZhbHVlLnVuc2FmZVVud3JhcCgpLCAvLyBTZWNyZXRzIE1hbmFnZXLjgYvjgonlj5blvpdcbiAgICAgICAgTE9HX0xFVkVMOiAnaW5mbycsXG4gICAgICAgIE5PREVfT1BUSU9OUzogJy0tZW5hYmxlLXNvdXJjZS1tYXBzJyxcbiAgICAgICAgQVdTX1JFR0lPTjogdGhpcy5yZWdpb24sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gSUFN5qip6ZmQ44Gu5LuY5LiOXG4gICAgLy8gRHluYW1vREI6IGRpc2Nsb3N1cmVz44OG44O844OW44Or44G444Gu6Kqt44G/5Y+W44KK5qip6ZmQXG4gICAgdGhpcy5kaXNjbG9zdXJlc1RhYmxlLmdyYW50UmVhZERhdGEoZXhwb3J0RnVuY3Rpb24pO1xuXG4gICAgLy8gRHluYW1vREI6IGV4cG9ydFN0YXR1c+ODhuODvOODluODq+OBuOOBruiqreOBv+abuOOBjeaoqemZkFxuICAgIHRoaXMuZXhwb3J0U3RhdHVzVGFibGUuZ3JhbnRSZWFkV3JpdGVEYXRhKGV4cG9ydEZ1bmN0aW9uKTtcblxuICAgIC8vIFMzOiBleHBvcnRz44OQ44Kx44OD44OI44G444Gu5pu444GN6L6844G/5qip6ZmQXG4gICAgdGhpcy5leHBvcnRzQnVja2V0LmdyYW50UHV0KGV4cG9ydEZ1bmN0aW9uKTtcbiAgICB0aGlzLmV4cG9ydHNCdWNrZXQuZ3JhbnRSZWFkKGV4cG9ydEZ1bmN0aW9uKTtcblxuICAgIC8vIENsb3VkV2F0Y2ggTWV0cmljczog44Kr44K544K/44Og44Oh44OI44Oq44Kv44K56YCB5L+h5qip6ZmQXG4gICAgZXhwb3J0RnVuY3Rpb24uYWRkVG9Sb2xlUG9saWN5KFxuICAgICAgbmV3IGNkay5hd3NfaWFtLlBvbGljeVN0YXRlbWVudCh7XG4gICAgICAgIGVmZmVjdDogY2RrLmF3c19pYW0uRWZmZWN0LkFMTE9XLFxuICAgICAgICBhY3Rpb25zOiBbJ2Nsb3Vkd2F0Y2g6UHV0TWV0cmljRGF0YSddLFxuICAgICAgICByZXNvdXJjZXM6IFsnKiddLFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gQ2xvdWRGb3JtYXRpb24gT3V0cHV0c1xuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsICdFeHBvcnRGdW5jdGlvbk5hbWUnLCB7XG4gICAgICB2YWx1ZTogZXhwb3J0RnVuY3Rpb24uZnVuY3Rpb25OYW1lLFxuICAgICAgZGVzY3JpcHRpb246ICdMYW1iZGEgRXhwb3J0IGZ1bmN0aW9uIG5hbWUnLFxuICAgICAgZXhwb3J0TmFtZTogJ1RkbmV0RXhwb3J0RnVuY3Rpb25OYW1lJyxcbiAgICB9KTtcblxuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsICdFeHBvcnRGdW5jdGlvbkFybicsIHtcbiAgICAgIHZhbHVlOiBleHBvcnRGdW5jdGlvbi5mdW5jdGlvbkFybixcbiAgICAgIGRlc2NyaXB0aW9uOiAnTGFtYmRhIEV4cG9ydCBmdW5jdGlvbiBBUk4nLFxuICAgICAgZXhwb3J0TmFtZTogJ1RkbmV0RXhwb3J0RnVuY3Rpb25Bcm4nLFxuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFBoYXNlIDI6IEFQSSBHYXRld2F5ICsgV0FGXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gMS4gQVBJIEdhdGV3YXkgUkVTVCBBUElcbiAgICB0aGlzLmFwaSA9IG5ldyBhcGlnYXRld2F5LlJlc3RBcGkodGhpcywgJ1RkbmV0QXBpJywge1xuICAgICAgcmVzdEFwaU5hbWU6ICd0ZG5ldC1kYXRhLWNvbGxlY3Rvci1hcGknLFxuICAgICAgZGVzY3JpcHRpb246ICdURG5ldCBEYXRhIENvbGxlY3RvciBSRVNUIEFQSScsXG4gICAgICBkZXBsb3lPcHRpb25zOiB7XG4gICAgICAgIHN0YWdlTmFtZTogJ3Byb2QnLFxuICAgICAgICB0aHJvdHRsaW5nUmF0ZUxpbWl0OiAxMDAsIC8vIOODquOCr+OCqOOCueODiC/np5JcbiAgICAgICAgdGhyb3R0bGluZ0J1cnN0TGltaXQ6IDIwMCwgLy8g44OQ44O844K544OI44Oq44Kv44Ko44K544OI5pWwXG4gICAgICAgIGxvZ2dpbmdMZXZlbDogYXBpZ2F0ZXdheS5NZXRob2RMb2dnaW5nTGV2ZWwuSU5GTyxcbiAgICAgICAgZGF0YVRyYWNlRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgbWV0cmljc0VuYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgZGVmYXVsdENvcnNQcmVmbGlnaHRPcHRpb25zOiB7XG4gICAgICAgIGFsbG93T3JpZ2luczogYXBpZ2F0ZXdheS5Db3JzLkFMTF9PUklHSU5TLCAvLyDmnKznlarnkrDlooPjgafjga/nibnlrprjga7jgqrjg6rjgrjjg7PjgavliLbpmZBcbiAgICAgICAgYWxsb3dNZXRob2RzOiBhcGlnYXRld2F5LkNvcnMuQUxMX01FVEhPRFMsXG4gICAgICAgIGFsbG93SGVhZGVyczogW1xuICAgICAgICAgICdDb250ZW50LVR5cGUnLFxuICAgICAgICAgICdYLUFtei1EYXRlJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbicsXG4gICAgICAgICAgJ1gtQXBpLUtleScsXG4gICAgICAgICAgJ1gtQW16LVNlY3VyaXR5LVRva2VuJyxcbiAgICAgICAgXSxcbiAgICAgICAgYWxsb3dDcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBjbG91ZFdhdGNoUm9sZTogdHJ1ZSwgLy8gQ2xvdWRXYXRjaCBMb2dz44G444Gu44Ot44Kw5Ye65Yqb44KS5pyJ5Yq55YyWXG4gICAgfSk7XG5cbiAgICAvLyAyLiBBUEkgS2V555Sf5oiQXG4gICAgLy8gTm90ZTogYXBpS2V5VmFsdWXjga/ml6Ljgavjg5XjgqHjgqTjg6vlhYjpoK3jgafliJ3mnJ/ljJbmuIjjgb9cbiAgICB0aGlzLmFwaUtleSA9IG5ldyBhcGlnYXRld2F5LkFwaUtleSh0aGlzLCAnVGRuZXRBcGlLZXknLCB7XG4gICAgICBhcGlLZXlOYW1lOiAndGRuZXQtYXBpLWtleScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FQSSBLZXkgZm9yIFREbmV0IERhdGEgQ29sbGVjdG9yJyxcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICB2YWx1ZTogYXBpS2V5VmFsdWUuc2VjcmV0VmFsdWUudW5zYWZlVW53cmFwKCksIC8vIFNlY3JldHMgTWFuYWdlcuOBi+OCieWPluW+l1xuICAgIH0pO1xuXG4gICAgLy8gMy4gVXNhZ2UgUGxhbuioreWumlxuICAgIGNvbnN0IHVzYWdlUGxhbiA9IHRoaXMuYXBpLmFkZFVzYWdlUGxhbignVGRuZXRVc2FnZVBsYW4nLCB7XG4gICAgICBuYW1lOiAndGRuZXQtdXNhZ2UtcGxhbicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1VzYWdlIHBsYW4gZm9yIFREbmV0IERhdGEgQ29sbGVjdG9yIEFQSScsXG4gICAgICB0aHJvdHRsZToge1xuICAgICAgICByYXRlTGltaXQ6IDEwMCwgLy8g44Oq44Kv44Ko44K544OIL+enklxuICAgICAgICBidXJzdExpbWl0OiAyMDAsIC8vIOODkOODvOOCueODiOODquOCr+OCqOOCueODiOaVsFxuICAgICAgfSxcbiAgICAgIHF1b3RhOiB7XG4gICAgICAgIGxpbWl0OiAxMDAwMCwgLy8g5pyI6ZaT44Oq44Kv44Ko44K544OI5pWw5LiK6ZmQXG4gICAgICAgIHBlcmlvZDogYXBpZ2F0ZXdheS5QZXJpb2QuTU9OVEgsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdXNhZ2VQbGFuLmFkZEFwaUtleSh0aGlzLmFwaUtleSk7XG4gICAgdXNhZ2VQbGFuLmFkZEFwaVN0YWdlKHtcbiAgICAgIHN0YWdlOiB0aGlzLmFwaS5kZXBsb3ltZW50U3RhZ2UsXG4gICAgfSk7XG5cbiAgICAvLyA0LiBBV1MgV0FGIFdlYiBBQ0zoqK3lrppcbiAgICB0aGlzLndlYkFjbCA9IG5ldyB3YWZ2Mi5DZm5XZWJBQ0wodGhpcywgJ1RkbmV0V2ViQWNsJywge1xuICAgICAgbmFtZTogJ3RkbmV0LXdlYi1hY2wnLFxuICAgICAgc2NvcGU6ICdSRUdJT05BTCcsIC8vIEFQSSBHYXRld2F544GvIFJFR0lPTkFMXG4gICAgICBkZWZhdWx0QWN0aW9uOiB7IGFsbG93OiB7fSB9LFxuICAgICAgZGVzY3JpcHRpb246ICdXZWIgQUNMIGZvciBURG5ldCBEYXRhIENvbGxlY3RvciBBUEknLFxuICAgICAgdmlzaWJpbGl0eUNvbmZpZzoge1xuICAgICAgICBzYW1wbGVkUmVxdWVzdHNFbmFibGVkOiB0cnVlLFxuICAgICAgICBjbG91ZFdhdGNoTWV0cmljc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIG1ldHJpY05hbWU6ICdUZG5ldFdlYkFjbCcsXG4gICAgICB9LFxuICAgICAgcnVsZXM6IFtcbiAgICAgICAgLy8g44Or44O844OrMTog44Os44O844OI5Yi26ZmQ77yIMjAwMOODquOCr+OCqOOCueODiC815YiG77yJXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnUmF0ZUxpbWl0UnVsZScsXG4gICAgICAgICAgcHJpb3JpdHk6IDEsXG4gICAgICAgICAgc3RhdGVtZW50OiB7XG4gICAgICAgICAgICByYXRlQmFzZWRTdGF0ZW1lbnQ6IHtcbiAgICAgICAgICAgICAgbGltaXQ6IDIwMDAsIC8vIDXliIbplpPjga7jg6rjgq/jgqjjgrnjg4jmlbDkuIrpmZBcbiAgICAgICAgICAgICAgYWdncmVnYXRlS2V5VHlwZTogJ0lQJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgIGJsb2NrOiB7XG4gICAgICAgICAgICAgIGN1c3RvbVJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlOiA0MjksXG4gICAgICAgICAgICAgICAgY3VzdG9tUmVzcG9uc2VCb2R5S2V5OiAnUmF0ZUxpbWl0RXhjZWVkZWQnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZpc2liaWxpdHlDb25maWc6IHtcbiAgICAgICAgICAgIHNhbXBsZWRSZXF1ZXN0c0VuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBjbG91ZFdhdGNoTWV0cmljc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBtZXRyaWNOYW1lOiAnUmF0ZUxpbWl0UnVsZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLy8g44Or44O844OrMjogQVdT44Oe44ON44O844K444OJ44Or44O844OrIC0gQ29tbW9uIFJ1bGUgU2V0XG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnQVdTTWFuYWdlZFJ1bGVzQ29tbW9uUnVsZVNldCcsXG4gICAgICAgICAgcHJpb3JpdHk6IDIsXG4gICAgICAgICAgc3RhdGVtZW50OiB7XG4gICAgICAgICAgICBtYW5hZ2VkUnVsZUdyb3VwU3RhdGVtZW50OiB7XG4gICAgICAgICAgICAgIHZlbmRvck5hbWU6ICdBV1MnLFxuICAgICAgICAgICAgICBuYW1lOiAnQVdTTWFuYWdlZFJ1bGVzQ29tbW9uUnVsZVNldCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3ZlcnJpZGVBY3Rpb246IHsgbm9uZToge30gfSxcbiAgICAgICAgICB2aXNpYmlsaXR5Q29uZmlnOiB7XG4gICAgICAgICAgICBzYW1wbGVkUmVxdWVzdHNFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgY2xvdWRXYXRjaE1ldHJpY3NFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgbWV0cmljTmFtZTogJ0FXU01hbmFnZWRSdWxlc0NvbW1vblJ1bGVTZXQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8vIOODq+ODvOODqzM6IEFXU+ODnuODjeODvOOCuOODieODq+ODvOODqyAtIEtub3duIEJhZCBJbnB1dHNcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdBV1NNYW5hZ2VkUnVsZXNLbm93bkJhZElucHV0c1J1bGVTZXQnLFxuICAgICAgICAgIHByaW9yaXR5OiAzLFxuICAgICAgICAgIHN0YXRlbWVudDoge1xuICAgICAgICAgICAgbWFuYWdlZFJ1bGVHcm91cFN0YXRlbWVudDoge1xuICAgICAgICAgICAgICB2ZW5kb3JOYW1lOiAnQVdTJyxcbiAgICAgICAgICAgICAgbmFtZTogJ0FXU01hbmFnZWRSdWxlc0tub3duQmFkSW5wdXRzUnVsZVNldCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3ZlcnJpZGVBY3Rpb246IHsgbm9uZToge30gfSxcbiAgICAgICAgICB2aXNpYmlsaXR5Q29uZmlnOiB7XG4gICAgICAgICAgICBzYW1wbGVkUmVxdWVzdHNFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgY2xvdWRXYXRjaE1ldHJpY3NFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgbWV0cmljTmFtZTogJ0FXU01hbmFnZWRSdWxlc0tub3duQmFkSW5wdXRzUnVsZVNldCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBjdXN0b21SZXNwb25zZUJvZGllczoge1xuICAgICAgICBSYXRlTGltaXRFeGNlZWRlZDoge1xuICAgICAgICAgIGNvbnRlbnRUeXBlOiAnQVBQTElDQVRJT05fSlNPTicsXG4gICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgZXJyb3JfY29kZTogJ1JBVEVfTElNSVRfRVhDRUVERUQnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1RvbyBtYW55IHJlcXVlc3RzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gNS4gV0FG44GoQVBJIEdhdGV3YXnjga7plqLpgKPku5jjgZFcbiAgICBuZXcgd2FmdjIuQ2ZuV2ViQUNMQXNzb2NpYXRpb24odGhpcywgJ1RkbmV0V2ViQWNsQXNzb2NpYXRpb24nLCB7XG4gICAgICByZXNvdXJjZUFybjogdGhpcy5hcGkuZGVwbG95bWVudFN0YWdlLnN0YWdlQXJuLFxuICAgICAgd2ViQWNsQXJuOiB0aGlzLndlYkFjbC5hdHRyQXJuLFxuICAgIH0pO1xuXG4gICAgLy8gQ2xvdWRGb3JtYXRpb24gT3V0cHV0c1xuICAgIG5ldyBjZGsuQ2ZuT3V0cHV0KHRoaXMsICdBcGlFbmRwb2ludCcsIHtcbiAgICAgIHZhbHVlOiB0aGlzLmFwaS51cmwsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FQSSBHYXRld2F5IGVuZHBvaW50IFVSTCcsXG4gICAgICBleHBvcnROYW1lOiAnVGRuZXRBcGlFbmRwb2ludCcsXG4gICAgfSk7XG5cbiAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCAnQXBpS2V5SWQnLCB7XG4gICAgICB2YWx1ZTogdGhpcy5hcGlLZXkua2V5SWQsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FQSSBLZXkgSUQnLFxuICAgICAgZXhwb3J0TmFtZTogJ1RkbmV0QXBpS2V5SWQnLFxuICAgIH0pO1xuXG4gICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgJ1dlYkFjbEFybicsIHtcbiAgICAgIHZhbHVlOiB0aGlzLndlYkFjbC5hdHRyQXJuLFxuICAgICAgZGVzY3JpcHRpb246ICdXQUYgV2ViIEFDTCBBUk4nLFxuICAgICAgZXhwb3J0TmFtZTogJ1RkbmV0V2ViQWNsQXJuJyxcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBQaGFzZSAyOiBBUEkgR2F0ZXdheSBJbnRlZ3JhdGlvbnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyAxLiAvZXhwb3J0IOOCqOODs+ODieODneOCpOODs+ODiFxuICAgIGNvbnN0IGV4cG9ydFJlc291cmNlID0gdGhpcy5hcGkucm9vdC5hZGRSZXNvdXJjZSgnZXhwb3J0Jyk7XG4gICAgY29uc3QgZXhwb3J0SW50ZWdyYXRpb24gPSBuZXcgYXBpZ2F0ZXdheS5MYW1iZGFJbnRlZ3JhdGlvbihleHBvcnRGdW5jdGlvbiwge1xuICAgICAgcHJveHk6IHRydWUsXG4gICAgICBpbnRlZ3JhdGlvblJlc3BvbnNlczogW1xuICAgICAgICB7XG4gICAgICAgICAgc3RhdHVzQ29kZTogJzIwMicsIC8vIEFjY2VwdGVkXG4gICAgICAgICAgcmVzcG9uc2VQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAnbWV0aG9kLnJlc3BvbnNlLmhlYWRlci5BY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiBcIicqJ1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0dXNDb2RlOiAnNDAwJywgLy8gQmFkIFJlcXVlc3RcbiAgICAgICAgICByZXNwb25zZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICdtZXRob2QucmVzcG9uc2UuaGVhZGVyLkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6IFwiJyonXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN0YXR1c0NvZGU6ICc0MDEnLCAvLyBVbmF1dGhvcml6ZWRcbiAgICAgICAgICByZXNwb25zZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICdtZXRob2QucmVzcG9uc2UuaGVhZGVyLkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6IFwiJyonXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN0YXR1c0NvZGU6ICc1MDAnLCAvLyBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcbiAgICAgICAgICByZXNwb25zZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICdtZXRob2QucmVzcG9uc2UuaGVhZGVyLkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6IFwiJyonXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICBleHBvcnRSZXNvdXJjZS5hZGRNZXRob2QoJ1BPU1QnLCBleHBvcnRJbnRlZ3JhdGlvbiwge1xuICAgICAgYXBpS2V5UmVxdWlyZWQ6IHRydWUsIC8vIEFQSeOCreODvOiqjeiovOW/hemgiFxuICAgICAgbWV0aG9kUmVzcG9uc2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0dXNDb2RlOiAnMjAyJyxcbiAgICAgICAgICByZXNwb25zZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICdtZXRob2QucmVzcG9uc2UuaGVhZGVyLkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN0YXR1c0NvZGU6ICc0MDAnLFxuICAgICAgICAgIHJlc3BvbnNlUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgJ21ldGhvZC5yZXNwb25zZS5oZWFkZXIuQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdHVzQ29kZTogJzQwMScsXG4gICAgICAgICAgcmVzcG9uc2VQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAnbWV0aG9kLnJlc3BvbnNlLmhlYWRlci5BY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0dXNDb2RlOiAnNTAwJyxcbiAgICAgICAgICByZXNwb25zZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICdtZXRob2QucmVzcG9uc2UuaGVhZGVyLkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICAvLyBDbG91ZEZvcm1hdGlvbiBPdXRwdXRzXG4gICAgbmV3IGNkay5DZm5PdXRwdXQodGhpcywgJ0V4cG9ydEVuZHBvaW50Jywge1xuICAgICAgdmFsdWU6IGAke3RoaXMuYXBpLnVybH1leHBvcnRgLFxuICAgICAgZGVzY3JpcHRpb246ICdFeHBvcnQgQVBJIGVuZHBvaW50IFVSTCcsXG4gICAgICBleHBvcnROYW1lOiAnVGRuZXRFeHBvcnRFbmRwb2ludCcsXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==