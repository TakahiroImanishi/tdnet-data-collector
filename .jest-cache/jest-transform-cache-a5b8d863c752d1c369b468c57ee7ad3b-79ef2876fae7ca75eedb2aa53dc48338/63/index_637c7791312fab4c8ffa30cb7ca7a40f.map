{"file":"C:\\Users\\ti198\\investment_analysis_opopo\\src\\errors\\index.ts","mappings":";AAAA;;;;;;;;GAQG;;;AAEH;;GAEG;AACH,MAAa,UAAW,SAAQ,KAAK;IAGjB;IAFlB,YACE,OAAe,EACC,KAAa;QAE7B,KAAK,CAAC,OAAO,CAAC,CAAC;QAFC,UAAK,GAAL,KAAK,CAAQ;QAG7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QAClC,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAClD,CAAC;CACF;AATD,gCASC;AAED;;;;;;;;;GASG;AACH,MAAa,cAAe,SAAQ,UAAU;IAC5C,YAAY,OAAe,EAAE,KAAa;QACxC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACxB,CAAC;CACF;AAJD,wCAIC;AAED;;;;;;;;;;;GAWG;AACH,MAAa,eAAgB,SAAQ,UAAU;IAG3B;IAFlB,YACE,OAAe,EACC,OAAiC;QAEjD,KAAK,CAAC,OAAO,CAAC,CAAC;QAFC,YAAO,GAAP,OAAO,CAA0B;IAGnD,CAAC;CACF;AAPD,0CAOC;AAED;;;;;;;;;;GAUG;AACH,MAAa,aAAc,SAAQ,UAAU;IAGzB;IAFlB,YACE,OAAe,EACC,UAAmB;QAEnC,KAAK,CAAC,OAAO,CAAC,CAAC;QAFC,eAAU,GAAV,UAAU,CAAS;IAGrC,CAAC;CACF;AAPD,sCAOC;AAED;;;;;;;;;GASG;AACH,MAAa,cAAe,SAAQ,cAAc;IAG9B;IAFlB,YACE,OAAe,EACC,UAAmB,EAAE,MAAM;IAC3C,KAAa;QAEb,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAHN,eAAU,GAAV,UAAU,CAAS;IAIrC,CAAC;CACF;AARD,wCAQC;AAED;;;;;;;;;;GAUG;AACH,MAAa,mBAAoB,SAAQ,UAAU;IACjD,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;IACjB,CAAC;CACF;AAJD,kDAIC;AAED;;;;;;;;;GASG;AACH,MAAa,kBAAmB,SAAQ,UAAU;IAG9B;IAFlB,YACE,OAAe,EACC,SAAkB;QAElC,KAAK,CAAC,OAAO,CAAC,CAAC;QAFC,cAAS,GAAT,SAAS,CAAS;IAGpC,CAAC;CACF;AAPD,gDAOC","names":[],"sources":["C:\\Users\\ti198\\investment_analysis_opopo\\src\\errors\\index.ts"],"sourcesContent":["/**\n * カスタムエラークラス\n *\n * TDnet Data Collectorで使用するカスタムエラークラスを定義します。\n * エラーの種類に応じて適切なエラークラスを使用することで、\n * エラーハンドリングを統一し、再試行ロジックを適切に適用できます。\n *\n * Requirements: 要件6.1, 6.2（エラーハンドリング）\n */\n\n/**\n * 基底エラークラス\n */\nexport class TDnetError extends Error {\n  constructor(\n    message: string,\n    public readonly cause?: Error\n  ) {\n    super(message);\n    this.name = this.constructor.name;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\n/**\n * 再試行可能なエラー\n *\n * 一時的な問題である可能性が高いため、再試行すべきエラー：\n * - ネットワークエラー（ECONNRESET, ETIMEDOUT, ENOTFOUND）\n * - HTTPタイムアウト\n * - 5xxエラー（500 Internal Server Error, 503 Service Unavailable）\n * - AWS一時的エラー（ThrottlingException, ServiceUnavailable）\n * - レート制限（429 Too Many Requests）\n */\nexport class RetryableError extends TDnetError {\n  constructor(message: string, cause?: Error) {\n    super(message, cause);\n  }\n}\n\n/**\n * バリデーションエラー\n *\n * 入力データが不正な場合のエラー。再試行しても解決しないため、\n * 即座に失敗として扱います。\n *\n * 例：\n * - 不正なフォーマット（ISO8601以外）\n * - 存在しない日付（2024-02-30）\n * - 範囲外の日付（1970年以前、現在+1日以降）\n * - 必須フィールドの欠落\n */\nexport class ValidationError extends TDnetError {\n  constructor(\n    message: string,\n    public readonly details?: Record<string, unknown>\n  ) {\n    super(message);\n  }\n}\n\n/**\n * リソース不存在エラー\n *\n * 指定されたリソースが存在しない場合のエラー。\n * 再試行しても解決しないため、即座に失敗として扱います。\n *\n * 例：\n * - 404 Not Found\n * - DynamoDBアイテムが存在しない\n * - S3オブジェクトが存在しない\n */\nexport class NotFoundError extends TDnetError {\n  constructor(\n    message: string,\n    public readonly resourceId?: string\n  ) {\n    super(message);\n  }\n}\n\n/**\n * レート制限エラー\n *\n * レート制限に達した場合のエラー。\n * 再試行可能ですが、適切な遅延時間を設けてから再試行する必要があります。\n *\n * 例：\n * - 429 Too Many Requests\n * - TDnetサーバーからのレート制限\n */\nexport class RateLimitError extends RetryableError {\n  constructor(\n    message: string,\n    public readonly retryAfter?: number, // 秒単位\n    cause?: Error\n  ) {\n    super(message, cause);\n  }\n}\n\n/**\n * 認証エラー\n *\n * 認証に失敗した場合のエラー。\n * 再試行しても解決しないため、即座に失敗として扱います。\n *\n * 例：\n * - 401 Unauthorized\n * - 403 Forbidden\n * - 無効なAPIキー\n */\nexport class AuthenticationError extends TDnetError {\n  constructor(message: string) {\n    super(message);\n  }\n}\n\n/**\n * 設定エラー\n *\n * 設定が不正な場合のエラー。\n * 再試行しても解決しないため、即座に失敗として扱います。\n *\n * 例：\n * - 環境変数未設定\n * - 不正な設定値\n */\nexport class ConfigurationError extends TDnetError {\n  constructor(\n    message: string,\n    public readonly configKey?: string\n  ) {\n    super(message);\n  }\n}\n"],"version":3}