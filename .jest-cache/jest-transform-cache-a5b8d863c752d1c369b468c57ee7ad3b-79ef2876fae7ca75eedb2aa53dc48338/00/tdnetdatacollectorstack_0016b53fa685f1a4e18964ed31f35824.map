{"version":3,"names":["cdk","cov_19qmzbtoe3","s","__importStar","require","dynamodb","s3","lambda","apigateway","wafv2","secretsmanager","TdnetDataCollectorStack","Stack","disclosuresTable","executionsTable","exportStatusTable","pdfsBucket","exportsBucket","dashboardBucket","cloudtrailLogsBucket","api","apiKey","webAcl","constructor","scope","id","props","f","Table","tableName","partitionKey","name","type","AttributeType","STRING","billingMode","BillingMode","PAY_PER_REQUEST","encryption","TableEncryption","AWS_MANAGED","pointInTimeRecovery","removalPolicy","RemovalPolicy","RETAIN","addGlobalSecondaryIndex","indexName","sortKey","projectionType","ProjectionType","ALL","timeToLiveAttribute","CfnOutput","value","description","exportName","Bucket","bucketName","account","BucketEncryption","S3_MANAGED","blockPublicAccess","BlockPublicAccess","BLOCK_ALL","versioned","autoDeleteObjects","lifecycleRules","enabled","transitions","storageClass","StorageClass","INFREQUENT_ACCESS","transitionAfter","Duration","days","GLACIER","expiration","apiKeyValue","Secret","fromSecretNameV2","collectorFunction","Function","functionName","runtime","Runtime","NODEJS_20_X","handler","code","Code","fromAsset","timeout","minutes","memorySize","environment","DYNAMODB_TABLE","DYNAMODB_EXECUTIONS_TABLE","S3_BUCKET","LOG_LEVEL","NODE_OPTIONS","reservedConcurrentExecutions","grantReadWriteData","grantPut","grantRead","addToRolePolicy","aws_iam","PolicyStatement","effect","Effect","ALLOW","actions","resources","functionArn","queryFunction","seconds","DYNAMODB_TABLE_NAME","S3_BUCKET_NAME","API_KEY","secretValue","unsafeUnwrap","grantReadData","exportFunction","EXPORT_STATUS_TABLE_NAME","EXPORT_BUCKET_NAME","RestApi","restApiName","deployOptions","stageName","throttlingRateLimit","throttlingBurstLimit","loggingLevel","MethodLoggingLevel","INFO","dataTraceEnabled","metricsEnabled","defaultCorsPreflightOptions","allowOrigins","Cors","ALL_ORIGINS","allowMethods","ALL_METHODS","allowHeaders","allowCredentials","cloudWatchRole","ApiKey","apiKeyName","usagePlan","addUsagePlan","throttle","rateLimit","burstLimit","quota","limit","period","Period","MONTH","addApiKey","addApiStage","stage","deploymentStage","CfnWebACL","defaultAction","allow","visibilityConfig","sampledRequestsEnabled","cloudWatchMetricsEnabled","metricName","rules","priority","statement","rateBasedStatement","aggregateKeyType","action","block","customResponse","responseCode","customResponseBodyKey","managedRuleGroupStatement","vendorName","overrideAction","none","customResponseBodies","RateLimitExceeded","contentType","content","JSON","stringify","error_code","message","CfnWebACLAssociation","resourceArn","stageArn","webAclArn","attrArn","url","keyId","disclosuresResource","root","addResource","disclosuresIntegration","LambdaIntegration","proxy","integrationResponses","statusCode","responseParameters","addMethod","apiKeyRequired","requestParameters","methodResponses","exportsResource","exportsIntegration","collectFunction","COLLECTOR_FUNCTION_NAME","grantInvoke","collectStatusFunction","collectResource","collectIntegration","collectStatusResource","collectStatusIntegration","exportStatusFunction","pdfDownloadFunction","exportIdResource","exportStatusIntegration","disclosureIdResource","pdfResource","pdfDownloadIntegration","exports"],"sources":["C:\\Users\\ti198\\investment_analysis_opopo\\cdk\\lib\\tdnet-data-collector-stack.ts"],"sourcesContent":["import * as cdk from 'aws-cdk-lib';\nimport * as dynamodb from 'aws-cdk-lib/aws-dynamodb';\nimport * as s3 from 'aws-cdk-lib/aws-s3';\nimport * as lambda from 'aws-cdk-lib/aws-lambda';\nimport * as apigateway from 'aws-cdk-lib/aws-apigateway';\nimport * as wafv2 from 'aws-cdk-lib/aws-wafv2';\nimport * as secretsmanager from 'aws-cdk-lib/aws-secretsmanager';\nimport { Construct } from 'constructs';\n\nexport class TdnetDataCollectorStack extends cdk.Stack {\n  // Public properties for cross-stack references\n  public readonly disclosuresTable: dynamodb.Table;\n  public readonly executionsTable: dynamodb.Table;\n  public readonly exportStatusTable: dynamodb.Table;\n  public readonly pdfsBucket: s3.Bucket;\n  public readonly exportsBucket: s3.Bucket;\n  public readonly dashboardBucket: s3.Bucket;\n  public readonly cloudtrailLogsBucket: s3.Bucket;\n  public readonly api: apigateway.RestApi;\n  public readonly apiKey: apigateway.ApiKey;\n  public readonly webAcl: wafv2.CfnWebACL;\n\n  constructor(scope: Construct, id: string, props?: cdk.StackProps) {\n    super(scope, id, props);\n\n    // ========================================\n    // Phase 1: DynamoDB Tables\n    // ========================================\n\n    // 1. tdnet_disclosures - 開示情報メタデータテーブル\n    this.disclosuresTable = new dynamodb.Table(this, 'DisclosuresTable', {\n      tableName: 'tdnet_disclosures',\n      partitionKey: {\n        name: 'disclosure_id',\n        type: dynamodb.AttributeType.STRING,\n      },\n      billingMode: dynamodb.BillingMode.PAY_PER_REQUEST, // オンデマンドモード\n      encryption: dynamodb.TableEncryption.AWS_MANAGED, // AWS管理キーで暗号化\n      pointInTimeRecovery: true, // ポイントインタイムリカバリ有効化\n      removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護\n    });\n\n    // GSI: CompanyCode_DiscloseDate - 企業コードと開示日時でクエリ\n    this.disclosuresTable.addGlobalSecondaryIndex({\n      indexName: 'GSI_CompanyCode_DiscloseDate',\n      partitionKey: {\n        name: 'company_code',\n        type: dynamodb.AttributeType.STRING,\n      },\n      sortKey: {\n        name: 'disclosed_at',\n        type: dynamodb.AttributeType.STRING,\n      },\n      projectionType: dynamodb.ProjectionType.ALL, // すべての属性を投影\n    });\n\n    // GSI: DatePartition - 月単位の効率的なクエリ（YYYY-MM形式）\n    this.disclosuresTable.addGlobalSecondaryIndex({\n      indexName: 'GSI_DatePartition',\n      partitionKey: {\n        name: 'date_partition',\n        type: dynamodb.AttributeType.STRING,\n      },\n      sortKey: {\n        name: 'disclosed_at',\n        type: dynamodb.AttributeType.STRING,\n      },\n      projectionType: dynamodb.ProjectionType.ALL,\n    });\n\n    // 2. tdnet_executions - 実行状態管理テーブル\n    this.executionsTable = new dynamodb.Table(this, 'ExecutionsTable', {\n      tableName: 'tdnet_executions',\n      partitionKey: {\n        name: 'execution_id',\n        type: dynamodb.AttributeType.STRING,\n      },\n      billingMode: dynamodb.BillingMode.PAY_PER_REQUEST, // オンデマンドモード\n      encryption: dynamodb.TableEncryption.AWS_MANAGED, // AWS管理キーで暗号化\n      timeToLiveAttribute: 'ttl', // TTL有効化（30日後に自動削除）\n      pointInTimeRecovery: true, // ポイントインタイムリカバリ有効化\n      removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護\n    });\n\n    // GSI: Status_StartedAt - 実行状態と開始日時でクエリ\n    this.executionsTable.addGlobalSecondaryIndex({\n      indexName: 'GSI_Status_StartedAt',\n      partitionKey: {\n        name: 'status',\n        type: dynamodb.AttributeType.STRING,\n      },\n      sortKey: {\n        name: 'started_at',\n        type: dynamodb.AttributeType.STRING,\n      },\n      projectionType: dynamodb.ProjectionType.ALL,\n    });\n\n    // 3. tdnet_export_status - エクスポート状態管理テーブル\n    this.exportStatusTable = new dynamodb.Table(this, 'ExportStatusTable', {\n      tableName: 'tdnet_export_status',\n      partitionKey: {\n        name: 'export_id',\n        type: dynamodb.AttributeType.STRING,\n      },\n      billingMode: dynamodb.BillingMode.PAY_PER_REQUEST, // オンデマンドモード\n      encryption: dynamodb.TableEncryption.AWS_MANAGED, // AWS管理キーで暗号化\n      timeToLiveAttribute: 'ttl', // TTL有効化（30日後に自動削除）\n      pointInTimeRecovery: true, // ポイントインタイムリカバリ有効化\n      removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護\n    });\n\n    // GSI: Status_RequestedAt - エクスポート状態とリクエスト日時でクエリ\n    this.exportStatusTable.addGlobalSecondaryIndex({\n      indexName: 'GSI_Status_RequestedAt',\n      partitionKey: {\n        name: 'status',\n        type: dynamodb.AttributeType.STRING,\n      },\n      sortKey: {\n        name: 'requested_at',\n        type: dynamodb.AttributeType.STRING,\n      },\n      projectionType: dynamodb.ProjectionType.ALL,\n    });\n\n    // CloudFormation Outputs\n    new cdk.CfnOutput(this, 'DisclosuresTableName', {\n      value: this.disclosuresTable.tableName,\n      description: 'DynamoDB table name for disclosures',\n      exportName: 'TdnetDisclosuresTableName',\n    });\n\n    new cdk.CfnOutput(this, 'ExecutionsTableName', {\n      value: this.executionsTable.tableName,\n      description: 'DynamoDB table name for executions',\n      exportName: 'TdnetExecutionsTableName',\n    });\n\n    new cdk.CfnOutput(this, 'ExportStatusTableName', {\n      value: this.exportStatusTable.tableName,\n      description: 'DynamoDB table name for export status',\n      exportName: 'TdnetExportStatusTableName',\n    });\n\n    // ========================================\n    // Phase 1: S3 Buckets\n    // ========================================\n\n    // 1. PDFバケット - TDnetからダウンロードしたPDFファイルの長期保存\n    this.pdfsBucket = new s3.Bucket(this, 'PdfsBucket', {\n      bucketName: `tdnet-data-collector-pdfs-${this.account}`,\n      encryption: s3.BucketEncryption.S3_MANAGED, // S3マネージドキーで暗号化\n      blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL, // パブリックアクセスブロック\n      versioned: true, // バージョニング有効化\n      removalPolicy: cdk.RemovalPolicy.RETAIN, // 本番環境では削除保護\n      autoDeleteObjects: false, // 自動削除無効\n      lifecycleRules: [\n        {\n          id: 'TransitionToStandardIA',\n          enabled: true,\n          transitions: [\n            {\n              storageClass: s3.StorageClass.INFREQUENT_ACCESS,\n              transitionAfter: cdk.Duration.days(90), // 90日後にStandard-IAに移行\n            },\n            {\n              storageClass: s3.StorageClass.GLACIER,\n              transitionAfter: cdk.Duration.days(365), // 365日後にGlacierに移行\n            },\n          ],\n        },\n      ],\n    });\n\n    // 2. エクスポートバケット - ユーザーがエクスポートしたCSV/JSONファイルの一時保存\n    this.exportsBucket = new s3.Bucket(this, 'ExportsBucket', {\n      bucketName: `tdnet-data-collector-exports-${this.account}`,\n      encryption: s3.BucketEncryption.S3_MANAGED,\n      blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL,\n      versioned: true,\n      removalPolicy: cdk.RemovalPolicy.RETAIN,\n      autoDeleteObjects: false,\n      lifecycleRules: [\n        {\n          id: 'DeleteAfter7Days',\n          enabled: true,\n          expiration: cdk.Duration.days(7), // 7日後に自動削除\n        },\n      ],\n    });\n\n    // 3. ダッシュボードバケット - Webダッシュボードの静的ファイルホスティング\n    this.dashboardBucket = new s3.Bucket(this, 'DashboardBucket', {\n      bucketName: `tdnet-dashboard-${this.account}`,\n      encryption: s3.BucketEncryption.S3_MANAGED,\n      blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL, // CloudFront OAI経由でのみアクセス\n      versioned: true,\n      removalPolicy: cdk.RemovalPolicy.RETAIN,\n      autoDeleteObjects: false,\n      // ライフサイクルポリシーなし（静的ファイルは永続保存）\n    });\n\n    // 4. CloudTrailログバケット - 監査ログの長期保存\n    this.cloudtrailLogsBucket = new s3.Bucket(this, 'CloudTrailLogsBucket', {\n      bucketName: `tdnet-cloudtrail-logs-${this.account}`,\n      encryption: s3.BucketEncryption.S3_MANAGED,\n      blockPublicAccess: s3.BlockPublicAccess.BLOCK_ALL,\n      versioned: true,\n      removalPolicy: cdk.RemovalPolicy.RETAIN,\n      autoDeleteObjects: false,\n      lifecycleRules: [\n        {\n          id: 'ArchiveAndDelete',\n          enabled: true,\n          transitions: [\n            {\n              storageClass: s3.StorageClass.GLACIER,\n              transitionAfter: cdk.Duration.days(90), // 90日後にGlacierに移行\n            },\n          ],\n          expiration: cdk.Duration.days(2555), // 7年後に自動削除（コンプライアンス要件）\n        },\n      ],\n    });\n\n    // CloudFormation Outputs\n    new cdk.CfnOutput(this, 'PdfsBucketName', {\n      value: this.pdfsBucket.bucketName,\n      description: 'S3 bucket name for PDF files',\n      exportName: 'TdnetPdfsBucketName',\n    });\n\n    new cdk.CfnOutput(this, 'ExportsBucketName', {\n      value: this.exportsBucket.bucketName,\n      description: 'S3 bucket name for export files',\n      exportName: 'TdnetExportsBucketName',\n    });\n\n    new cdk.CfnOutput(this, 'DashboardBucketName', {\n      value: this.dashboardBucket.bucketName,\n      description: 'S3 bucket name for dashboard',\n      exportName: 'TdnetDashboardBucketName',\n    });\n\n    new cdk.CfnOutput(this, 'CloudTrailLogsBucketName', {\n      value: this.cloudtrailLogsBucket.bucketName,\n      description: 'S3 bucket name for CloudTrail logs',\n      exportName: 'TdnetCloudTrailLogsBucketName',\n    });\n\n    // ========================================\n    // Phase 2: Secrets Manager（Lambda関数より前に初期化）\n    // ========================================\n\n    // IMPORTANT: apiKeyValueはLambda関数の環境変数で使用されるため、\n    // Lambda関数定義より前に初期化する必要があります\n    const apiKeyValue = secretsmanager.Secret.fromSecretNameV2(\n      this,\n      'ApiKeySecret',\n      '/tdnet/api-key'\n    );\n\n    // ========================================\n    // Phase 1: Lambda Functions\n    // ========================================\n\n    // Lambda Collector Function\n    const collectorFunction = new lambda.Function(this, 'CollectorFunction', {\n      functionName: 'tdnet-collector',\n      runtime: lambda.Runtime.NODEJS_20_X,\n      handler: 'index.handler',\n      code: lambda.Code.fromAsset('dist/src/lambda/collector'),\n      timeout: cdk.Duration.minutes(15),\n      memorySize: 512,\n      environment: {\n        DYNAMODB_TABLE: this.disclosuresTable.tableName,\n        DYNAMODB_EXECUTIONS_TABLE: this.executionsTable.tableName,\n        S3_BUCKET: this.pdfsBucket.bucketName,\n        LOG_LEVEL: 'info',\n        NODE_OPTIONS: '--enable-source-maps',\n      },\n      reservedConcurrentExecutions: 1, // 同時実行数を1に制限（レート制限のため）\n    });\n\n    // IAM権限の付与\n    // DynamoDB: 両テーブルへの読み書き権限\n    this.disclosuresTable.grantReadWriteData(collectorFunction);\n    this.executionsTable.grantReadWriteData(collectorFunction);\n\n    // S3: PDFバケットへの書き込み権限\n    this.pdfsBucket.grantPut(collectorFunction);\n    this.pdfsBucket.grantRead(collectorFunction);\n\n    // CloudWatch Metrics: カスタムメトリクス送信権限\n    collectorFunction.addToRolePolicy(\n      new cdk.aws_iam.PolicyStatement({\n        effect: cdk.aws_iam.Effect.ALLOW,\n        actions: ['cloudwatch:PutMetricData'],\n        resources: ['*'],\n      })\n    );\n\n    // CloudFormation Outputs\n    new cdk.CfnOutput(this, 'CollectorFunctionName', {\n      value: collectorFunction.functionName,\n      description: 'Lambda Collector function name',\n      exportName: 'TdnetCollectorFunctionName',\n    });\n\n    new cdk.CfnOutput(this, 'CollectorFunctionArn', {\n      value: collectorFunction.functionArn,\n      description: 'Lambda Collector function ARN',\n      exportName: 'TdnetCollectorFunctionArn',\n    });\n\n    // ========================================\n    // Phase 2: Lambda Query Function\n    // ========================================\n\n    // Lambda Query Function\n    const queryFunction = new lambda.Function(this, 'QueryFunction', {\n      functionName: 'tdnet-query',\n      runtime: lambda.Runtime.NODEJS_20_X,\n      handler: 'index.handler',\n      code: lambda.Code.fromAsset('dist/src/lambda/query'),\n      timeout: cdk.Duration.seconds(30),\n      memorySize: 256,\n      environment: {\n        DYNAMODB_TABLE_NAME: this.disclosuresTable.tableName,\n        S3_BUCKET_NAME: this.pdfsBucket.bucketName,\n        API_KEY: apiKeyValue.secretValue.unsafeUnwrap(), // Secrets Managerから取得\n        LOG_LEVEL: 'info',\n        NODE_OPTIONS: '--enable-source-maps',\n      },\n    });\n\n    // IAM権限の付与\n    // DynamoDB: disclosuresテーブルへの読み取り権限\n    this.disclosuresTable.grantReadData(queryFunction);\n\n    // S3: PDFバケットへの読み取り権限（署名付きURL生成用）\n    this.pdfsBucket.grantRead(queryFunction);\n\n    // CloudWatch Metrics: カスタムメトリクス送信権限\n    queryFunction.addToRolePolicy(\n      new cdk.aws_iam.PolicyStatement({\n        effect: cdk.aws_iam.Effect.ALLOW,\n        actions: ['cloudwatch:PutMetricData'],\n        resources: ['*'],\n      })\n    );\n\n    // CloudFormation Outputs\n    new cdk.CfnOutput(this, 'QueryFunctionName', {\n      value: queryFunction.functionName,\n      description: 'Lambda Query function name',\n      exportName: 'TdnetQueryFunctionName',\n    });\n\n    new cdk.CfnOutput(this, 'QueryFunctionArn', {\n      value: queryFunction.functionArn,\n      description: 'Lambda Query function ARN',\n      exportName: 'TdnetQueryFunctionArn',\n    });\n\n    // ========================================\n    // Phase 2: Lambda Export Function\n    // ========================================\n\n    // Lambda Export Function\n    const exportFunction = new lambda.Function(this, 'ExportFunction', {\n      functionName: 'tdnet-export',\n      runtime: lambda.Runtime.NODEJS_20_X,\n      handler: 'index.handler',\n      code: lambda.Code.fromAsset('dist/src/lambda/export'),\n      timeout: cdk.Duration.minutes(5),\n      memorySize: 512,\n      environment: {\n        DYNAMODB_TABLE_NAME: this.disclosuresTable.tableName,\n        EXPORT_STATUS_TABLE_NAME: this.exportStatusTable.tableName,\n        EXPORT_BUCKET_NAME: this.exportsBucket.bucketName,\n        API_KEY: apiKeyValue.secretValue.unsafeUnwrap(), // Secrets Managerから取得\n        LOG_LEVEL: 'info',\n        NODE_OPTIONS: '--enable-source-maps',\n        // AWS_REGION is automatically set by Lambda runtime\n      },\n    });\n\n    // IAM権限の付与\n    // DynamoDB: disclosuresテーブルへの読み取り権限\n    this.disclosuresTable.grantReadData(exportFunction);\n\n    // DynamoDB: exportStatusテーブルへの読み書き権限\n    this.exportStatusTable.grantReadWriteData(exportFunction);\n\n    // S3: exportsバケットへの書き込み権限\n    this.exportsBucket.grantPut(exportFunction);\n    this.exportsBucket.grantRead(exportFunction);\n\n    // CloudWatch Metrics: カスタムメトリクス送信権限\n    exportFunction.addToRolePolicy(\n      new cdk.aws_iam.PolicyStatement({\n        effect: cdk.aws_iam.Effect.ALLOW,\n        actions: ['cloudwatch:PutMetricData'],\n        resources: ['*'],\n      })\n    );\n\n    // CloudFormation Outputs\n    new cdk.CfnOutput(this, 'ExportFunctionName', {\n      value: exportFunction.functionName,\n      description: 'Lambda Export function name',\n      exportName: 'TdnetExportFunctionName',\n    });\n\n    new cdk.CfnOutput(this, 'ExportFunctionArn', {\n      value: exportFunction.functionArn,\n      description: 'Lambda Export function ARN',\n      exportName: 'TdnetExportFunctionArn',\n    });\n\n    // ========================================\n    // Phase 2: API Gateway + WAF\n    // ========================================\n\n    // 1. API Gateway REST API\n    this.api = new apigateway.RestApi(this, 'TdnetApi', {\n      restApiName: 'tdnet-data-collector-api',\n      description: 'TDnet Data Collector REST API',\n      deployOptions: {\n        stageName: 'prod',\n        throttlingRateLimit: 100, // リクエスト/秒\n        throttlingBurstLimit: 200, // バーストリクエスト数\n        loggingLevel: apigateway.MethodLoggingLevel.INFO,\n        dataTraceEnabled: true,\n        metricsEnabled: true,\n      },\n      defaultCorsPreflightOptions: {\n        allowOrigins: apigateway.Cors.ALL_ORIGINS, // 本番環境では特定のオリジンに制限\n        allowMethods: apigateway.Cors.ALL_METHODS,\n        allowHeaders: [\n          'Content-Type',\n          'X-Amz-Date',\n          'Authorization',\n          'X-Api-Key',\n          'X-Amz-Security-Token',\n        ],\n        allowCredentials: true,\n      },\n      cloudWatchRole: true, // CloudWatch Logsへのログ出力を有効化\n    });\n\n    // 2. API Key生成\n    // Note: apiKeyValueは既にファイル先頭で初期化済み\n    this.apiKey = new apigateway.ApiKey(this, 'TdnetApiKey', {\n      apiKeyName: 'tdnet-api-key',\n      description: 'API Key for TDnet Data Collector',\n      enabled: true,\n      value: apiKeyValue.secretValue.unsafeUnwrap(), // Secrets Managerから取得\n    });\n\n    // 3. Usage Plan設定\n    const usagePlan = this.api.addUsagePlan('TdnetUsagePlan', {\n      name: 'tdnet-usage-plan',\n      description: 'Usage plan for TDnet Data Collector API',\n      throttle: {\n        rateLimit: 100, // リクエスト/秒\n        burstLimit: 200, // バーストリクエスト数\n      },\n      quota: {\n        limit: 10000, // 月間リクエスト数上限\n        period: apigateway.Period.MONTH,\n      },\n    });\n\n    usagePlan.addApiKey(this.apiKey);\n    usagePlan.addApiStage({\n      stage: this.api.deploymentStage,\n    });\n\n    // 4. AWS WAF Web ACL設定\n    this.webAcl = new wafv2.CfnWebACL(this, 'TdnetWebAcl', {\n      name: 'tdnet-web-acl',\n      scope: 'REGIONAL', // API Gatewayは REGIONAL\n      defaultAction: { allow: {} },\n      description: 'Web ACL for TDnet Data Collector API',\n      visibilityConfig: {\n        sampledRequestsEnabled: true,\n        cloudWatchMetricsEnabled: true,\n        metricName: 'TdnetWebAcl',\n      },\n      rules: [\n        // ルール1: レート制限（2000リクエスト/5分）\n        {\n          name: 'RateLimitRule',\n          priority: 1,\n          statement: {\n            rateBasedStatement: {\n              limit: 2000, // 5分間のリクエスト数上限\n              aggregateKeyType: 'IP',\n            },\n          },\n          action: {\n            block: {\n              customResponse: {\n                responseCode: 429,\n                customResponseBodyKey: 'RateLimitExceeded',\n              },\n            },\n          },\n          visibilityConfig: {\n            sampledRequestsEnabled: true,\n            cloudWatchMetricsEnabled: true,\n            metricName: 'RateLimitRule',\n          },\n        },\n        // ルール2: AWSマネージドルール - Common Rule Set\n        {\n          name: 'AWSManagedRulesCommonRuleSet',\n          priority: 2,\n          statement: {\n            managedRuleGroupStatement: {\n              vendorName: 'AWS',\n              name: 'AWSManagedRulesCommonRuleSet',\n            },\n          },\n          overrideAction: { none: {} },\n          visibilityConfig: {\n            sampledRequestsEnabled: true,\n            cloudWatchMetricsEnabled: true,\n            metricName: 'AWSManagedRulesCommonRuleSet',\n          },\n        },\n        // ルール3: AWSマネージドルール - Known Bad Inputs\n        {\n          name: 'AWSManagedRulesKnownBadInputsRuleSet',\n          priority: 3,\n          statement: {\n            managedRuleGroupStatement: {\n              vendorName: 'AWS',\n              name: 'AWSManagedRulesKnownBadInputsRuleSet',\n            },\n          },\n          overrideAction: { none: {} },\n          visibilityConfig: {\n            sampledRequestsEnabled: true,\n            cloudWatchMetricsEnabled: true,\n            metricName: 'AWSManagedRulesKnownBadInputsRuleSet',\n          },\n        },\n      ],\n      customResponseBodies: {\n        RateLimitExceeded: {\n          contentType: 'APPLICATION_JSON',\n          content: JSON.stringify({\n            error_code: 'RATE_LIMIT_EXCEEDED',\n            message: 'Too many requests. Please try again later.',\n          }),\n        },\n      },\n    });\n\n    // 5. WAFとAPI Gatewayの関連付け\n    new wafv2.CfnWebACLAssociation(this, 'TdnetWebAclAssociation', {\n      resourceArn: this.api.deploymentStage.stageArn,\n      webAclArn: this.webAcl.attrArn,\n    });\n\n    // CloudFormation Outputs\n    new cdk.CfnOutput(this, 'ApiEndpoint', {\n      value: this.api.url,\n      description: 'API Gateway endpoint URL',\n      exportName: 'TdnetApiEndpoint',\n    });\n\n    new cdk.CfnOutput(this, 'ApiKeyId', {\n      value: this.apiKey.keyId,\n      description: 'API Key ID',\n      exportName: 'TdnetApiKeyId',\n    });\n\n    new cdk.CfnOutput(this, 'WebAclArn', {\n      value: this.webAcl.attrArn,\n      description: 'WAF Web ACL ARN',\n      exportName: 'TdnetWebAclArn',\n    });\n\n    // ========================================\n    // Phase 2: API Gateway Integrations\n    // ========================================\n\n    // 1. GET /disclosures エンドポイント\n    const disclosuresResource = this.api.root.addResource('disclosures');\n    const disclosuresIntegration = new apigateway.LambdaIntegration(queryFunction, {\n      proxy: true,\n      integrationResponses: [\n        {\n          statusCode: '200', // Success\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n            'method.response.header.Content-Type': \"'application/json'\",\n          },\n        },\n        {\n          statusCode: '400', // Bad Request\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '401', // Unauthorized\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '500', // Internal Server Error\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n      ],\n    });\n\n    disclosuresResource.addMethod('GET', disclosuresIntegration, {\n      apiKeyRequired: true, // APIキー認証必須\n      requestParameters: {\n        'method.request.querystring.company_code': false,\n        'method.request.querystring.start_date': false,\n        'method.request.querystring.end_date': false,\n        'method.request.querystring.disclosure_type': false,\n        'method.request.querystring.format': false,\n        'method.request.querystring.limit': false,\n        'method.request.querystring.offset': false,\n      },\n      methodResponses: [\n        {\n          statusCode: '200',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n            'method.response.header.Content-Type': true,\n          },\n        },\n        {\n          statusCode: '400',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '401',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '500',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n      ],\n    });\n\n    // 2. POST /exports エンドポイント\n    const exportsResource = this.api.root.addResource('exports');\n    const exportsIntegration = new apigateway.LambdaIntegration(exportFunction, {\n      proxy: true,\n      integrationResponses: [\n        {\n          statusCode: '202', // Accepted\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '400', // Bad Request\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '401', // Unauthorized\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '500', // Internal Server Error\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n      ],\n    });\n\n    exportsResource.addMethod('POST', exportsIntegration, {\n      apiKeyRequired: true, // APIキー認証必須\n      methodResponses: [\n        {\n          statusCode: '202',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '400',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '401',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '500',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n      ],\n    });\n\n    // ========================================\n    // Phase 2: Lambda Collect Functions\n    // ========================================\n\n    // Lambda Collect Function (POST /collect)\n    const collectFunction = new lambda.Function(this, 'CollectFunction', {\n      functionName: 'tdnet-collect',\n      runtime: lambda.Runtime.NODEJS_20_X,\n      handler: 'index.handler',\n      code: lambda.Code.fromAsset('dist/src/lambda/collect'),\n      timeout: cdk.Duration.seconds(30),\n      memorySize: 256,\n      environment: {\n        COLLECTOR_FUNCTION_NAME: collectorFunction.functionName,\n        LOG_LEVEL: 'info',\n        NODE_OPTIONS: '--enable-source-maps',\n      },\n    });\n\n    // IAM権限の付与\n    // Lambda Collectorを呼び出す権限\n    collectorFunction.grantInvoke(collectFunction);\n\n    // CloudWatch Metrics: カスタムメトリクス送信権限\n    collectFunction.addToRolePolicy(\n      new cdk.aws_iam.PolicyStatement({\n        effect: cdk.aws_iam.Effect.ALLOW,\n        actions: ['cloudwatch:PutMetricData'],\n        resources: ['*'],\n      })\n    );\n\n    // Lambda Collect Status Function (GET /collect/{execution_id})\n    const collectStatusFunction = new lambda.Function(this, 'CollectStatusFunction', {\n      functionName: 'tdnet-collect-status',\n      runtime: lambda.Runtime.NODEJS_20_X,\n      handler: 'index.handler',\n      code: lambda.Code.fromAsset('dist/src/lambda/collect-status'),\n      timeout: cdk.Duration.seconds(30),\n      memorySize: 256,\n      environment: {\n        DYNAMODB_EXECUTIONS_TABLE: this.executionsTable.tableName,\n        LOG_LEVEL: 'info',\n        NODE_OPTIONS: '--enable-source-maps',\n      },\n    });\n\n    // IAM権限の付与\n    // DynamoDB: executionsテーブルへの読み取り権限\n    this.executionsTable.grantReadData(collectStatusFunction);\n\n    // CloudWatch Metrics: カスタムメトリクス送信権限\n    collectStatusFunction.addToRolePolicy(\n      new cdk.aws_iam.PolicyStatement({\n        effect: cdk.aws_iam.Effect.ALLOW,\n        actions: ['cloudwatch:PutMetricData'],\n        resources: ['*'],\n      })\n    );\n\n    // ========================================\n    // Phase 2: /collect API Gateway Integrations\n    // ========================================\n\n    // 1. /collect エンドポイント\n    const collectResource = this.api.root.addResource('collect');\n\n    // POST /collect\n    const collectIntegration = new apigateway.LambdaIntegration(collectFunction, {\n      proxy: true,\n      integrationResponses: [\n        {\n          statusCode: '200', // Success\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '400', // Bad Request\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '401', // Unauthorized\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '500', // Internal Server Error\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n      ],\n    });\n\n    collectResource.addMethod('POST', collectIntegration, {\n      apiKeyRequired: true, // APIキー認証必須\n      methodResponses: [\n        {\n          statusCode: '200',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '400',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '401',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '500',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n      ],\n    });\n\n    // 2. /collect/{execution_id} エンドポイント\n    const collectStatusResource = collectResource.addResource('{execution_id}');\n\n    // GET /collect/{execution_id}\n    const collectStatusIntegration = new apigateway.LambdaIntegration(collectStatusFunction, {\n      proxy: true,\n      integrationResponses: [\n        {\n          statusCode: '200', // Success\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '401', // Unauthorized\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '404', // Not Found\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '500', // Internal Server Error\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n      ],\n    });\n\n    collectStatusResource.addMethod('GET', collectStatusIntegration, {\n      apiKeyRequired: true, // APIキー認証必須\n      methodResponses: [\n        {\n          statusCode: '200',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '401',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '404',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '500',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n      ],\n    });\n\n    // ========================================\n    // Phase 2: Export Status & PDF Download Lambda Functions\n    // ========================================\n\n    // Lambda Export Status Function (GET /exports/{export_id})\n    const exportStatusFunction = new lambda.Function(this, 'ExportStatusFunction', {\n      functionName: 'tdnet-export-status',\n      runtime: lambda.Runtime.NODEJS_20_X,\n      handler: 'index.handler',\n      code: lambda.Code.fromAsset('dist/src/lambda/api/export-status'),\n      timeout: cdk.Duration.seconds(30),\n      memorySize: 256,\n      environment: {\n        EXPORT_STATUS_TABLE_NAME: this.exportStatusTable.tableName,\n        API_KEY: apiKeyValue.secretValue.unsafeUnwrap(),\n        LOG_LEVEL: 'info',\n        NODE_OPTIONS: '--enable-source-maps',\n      },\n    });\n\n    // IAM権限の付与\n    // DynamoDB: exportStatusテーブルへの読み取り権限\n    this.exportStatusTable.grantReadData(exportStatusFunction);\n\n    // CloudWatch Metrics: カスタムメトリクス送信権限\n    exportStatusFunction.addToRolePolicy(\n      new cdk.aws_iam.PolicyStatement({\n        effect: cdk.aws_iam.Effect.ALLOW,\n        actions: ['cloudwatch:PutMetricData'],\n        resources: ['*'],\n      })\n    );\n\n    // Lambda PDF Download Function (GET /disclosures/{disclosure_id}/pdf)\n    const pdfDownloadFunction = new lambda.Function(this, 'PdfDownloadFunction', {\n      functionName: 'tdnet-pdf-download',\n      runtime: lambda.Runtime.NODEJS_20_X,\n      handler: 'index.handler',\n      code: lambda.Code.fromAsset('dist/src/lambda/api/pdf-download'),\n      timeout: cdk.Duration.seconds(30),\n      memorySize: 256,\n      environment: {\n        DYNAMODB_TABLE_NAME: this.disclosuresTable.tableName,\n        S3_BUCKET_NAME: this.pdfsBucket.bucketName,\n        API_KEY: apiKeyValue.secretValue.unsafeUnwrap(),\n        LOG_LEVEL: 'info',\n        NODE_OPTIONS: '--enable-source-maps',\n      },\n    });\n\n    // IAM権限の付与\n    // DynamoDB: disclosuresテーブルへの読み取り権限\n    this.disclosuresTable.grantReadData(pdfDownloadFunction);\n\n    // S3: PDFバケットへの読み取り権限（署名付きURL生成用）\n    this.pdfsBucket.grantRead(pdfDownloadFunction);\n\n    // CloudWatch Metrics: カスタムメトリクス送信権限\n    pdfDownloadFunction.addToRolePolicy(\n      new cdk.aws_iam.PolicyStatement({\n        effect: cdk.aws_iam.Effect.ALLOW,\n        actions: ['cloudwatch:PutMetricData'],\n        resources: ['*'],\n      })\n    );\n\n    // ========================================\n    // Phase 2: Export Status & PDF Download API Gateway Integrations\n    // ========================================\n\n    // 1. GET /exports/{export_id} エンドポイント\n    const exportIdResource = exportsResource.addResource('{export_id}');\n\n    const exportStatusIntegration = new apigateway.LambdaIntegration(exportStatusFunction, {\n      proxy: true,\n      integrationResponses: [\n        {\n          statusCode: '200', // Success\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '400', // Bad Request\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '401', // Unauthorized\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '404', // Not Found\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '500', // Internal Server Error\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n      ],\n    });\n\n    exportIdResource.addMethod('GET', exportStatusIntegration, {\n      apiKeyRequired: true, // APIキー認証必須\n      methodResponses: [\n        {\n          statusCode: '200',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '400',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '401',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '404',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '500',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n      ],\n    });\n\n    // 2. GET /disclosures/{disclosure_id}/pdf エンドポイント\n    const disclosureIdResource = disclosuresResource.addResource('{disclosure_id}');\n    const pdfResource = disclosureIdResource.addResource('pdf');\n\n    const pdfDownloadIntegration = new apigateway.LambdaIntegration(pdfDownloadFunction, {\n      proxy: true,\n      integrationResponses: [\n        {\n          statusCode: '200', // Success\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '400', // Bad Request\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '401', // Unauthorized\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '404', // Not Found\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n        {\n          statusCode: '500', // Internal Server Error\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': \"'*'\",\n          },\n        },\n      ],\n    });\n\n    pdfResource.addMethod('GET', pdfDownloadIntegration, {\n      apiKeyRequired: true, // APIキー認証必須\n      requestParameters: {\n        'method.request.querystring.expiration': false,\n      },\n      methodResponses: [\n        {\n          statusCode: '200',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '400',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '401',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '404',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n        {\n          statusCode: '500',\n          responseParameters: {\n            'method.response.header.Access-Control-Allow-Origin': true,\n          },\n        },\n      ],\n    });\n\n    // CloudFormation Outputs\n    new cdk.CfnOutput(this, 'ExportStatusFunctionName', {\n      value: exportStatusFunction.functionName,\n      description: 'Lambda Export Status function name',\n      exportName: 'TdnetExportStatusFunctionName',\n    });\n\n    new cdk.CfnOutput(this, 'PdfDownloadFunctionName', {\n      value: pdfDownloadFunction.functionName,\n      description: 'Lambda PDF Download function name',\n      exportName: 'TdnetPdfDownloadFunctionName',\n    });\n\n    new cdk.CfnOutput(this, 'CollectFunctionName', {\n      value: collectFunction.functionName,\n      description: 'Lambda Collect function name',\n      exportName: 'TdnetCollectFunctionName',\n    });\n\n    new cdk.CfnOutput(this, 'CollectStatusFunctionName', {\n      value: collectStatusFunction.functionName,\n      description: 'Lambda Collect Status function name',\n      exportName: 'TdnetCollectStatusFunctionName',\n    });\n\n    new cdk.CfnOutput(this, 'DisclosuresEndpoint', {\n      value: `${this.api.url}disclosures`,\n      description: 'Disclosures query API endpoint URL',\n      exportName: 'TdnetDisclosuresEndpoint',\n    });\n\n    new cdk.CfnOutput(this, 'ExportsEndpoint', {\n      value: `${this.api.url}exports`,\n      description: 'Export API endpoint URL',\n      exportName: 'TdnetExportsEndpoint',\n    });\n\n    new cdk.CfnOutput(this, 'CollectEndpoint', {\n      value: `${this.api.url}collect`,\n      description: 'Collect API endpoint URL',\n      exportName: 'TdnetCollectEndpoint',\n    });\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}