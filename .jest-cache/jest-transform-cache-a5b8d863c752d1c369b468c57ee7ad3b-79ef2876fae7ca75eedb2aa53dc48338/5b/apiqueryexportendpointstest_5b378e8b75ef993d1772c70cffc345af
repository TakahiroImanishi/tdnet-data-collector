aee90b3b02c9043cc24be44e33177666
"use strict";
/**
 * API Gateway Query & Export Endpoints Tests
 *
 * GET /disclosures および POST /exports エンドポイントの統合テスト
 *
 * Requirements: タスク13.3, 13.4 - API Gateway エンドポイント実装
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = __importStar(require("aws-cdk-lib"));
const assertions_1 = require("aws-cdk-lib/assertions");
const tdnet_data_collector_stack_1 = require("../lib/tdnet-data-collector-stack");
describe('API Gateway Query & Export Endpoints', () => {
    let template;
    beforeAll(() => {
        const app = new cdk.App();
        const stack = new tdnet_data_collector_stack_1.TdnetDataCollectorStack(app, 'TestStack');
        template = assertions_1.Template.fromStack(stack);
    });
    describe('GET /disclosures エンドポイント', () => {
        it('should create /disclosures resource', () => {
            // /disclosures リソースが作成されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Resource', {
                PathPart: 'disclosures',
            });
        });
        it('should create GET method with API key required', () => {
            // GET メソッドが作成され、APIキー認証が必須であることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'GET',
                ApiKeyRequired: true,
                ResourceId: assertions_1.Match.objectLike({
                    Ref: assertions_1.Match.stringLikeRegexp('.*disclosures.*'),
                }),
            });
        });
        it('should configure query parameters', () => {
            // クエリパラメータが設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'GET',
                RequestParameters: {
                    'method.request.querystring.company_code': false,
                    'method.request.querystring.start_date': false,
                    'method.request.querystring.end_date': false,
                    'method.request.querystring.disclosure_type': false,
                    'method.request.querystring.format': false,
                    'method.request.querystring.limit': false,
                    'method.request.querystring.offset': false,
                },
            });
        });
        it('should configure Lambda integration', () => {
            // Lambda統合が設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'GET',
                Integration: {
                    Type: 'AWS_PROXY',
                    IntegrationHttpMethod: 'POST',
                    Uri: assertions_1.Match.objectLike({
                        'Fn::Join': assertions_1.Match.arrayWith([
                            assertions_1.Match.arrayWith([
                                assertions_1.Match.stringLikeRegexp('.*lambda.*'),
                            ]),
                        ]),
                    }),
                },
            });
        });
        it('should configure CORS headers', () => {
            // CORSヘッダーが設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'GET',
                MethodResponses: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({
                        StatusCode: '200',
                        ResponseParameters: {
                            'method.response.header.Access-Control-Allow-Origin': true,
                            'method.response.header.Content-Type': true,
                        },
                    }),
                ]),
            });
        });
        it('should configure error responses (400, 401, 500)', () => {
            // エラーレスポンスが設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'GET',
                MethodResponses: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({ StatusCode: '200' }),
                    assertions_1.Match.objectLike({ StatusCode: '400' }),
                    assertions_1.Match.objectLike({ StatusCode: '401' }),
                    assertions_1.Match.objectLike({ StatusCode: '500' }),
                ]),
            });
        });
        it('should grant Query Lambda permission to be invoked by API Gateway', () => {
            // API GatewayがQuery Lambdaを呼び出す権限が付与されていることを確認
            template.hasResourceProperties('AWS::Lambda::Permission', {
                Action: 'lambda:InvokeFunction',
                Principal: 'apigateway.amazonaws.com',
                FunctionName: assertions_1.Match.objectLike({
                    'Fn::GetAtt': assertions_1.Match.arrayWith([
                        assertions_1.Match.stringLikeRegexp('QueryFunction.*'),
                        'Arn',
                    ]),
                }),
            });
        });
    });
    describe('POST /exports エンドポイント', () => {
        it('should create /exports resource', () => {
            // /exports リソースが作成されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Resource', {
                PathPart: 'exports',
            });
        });
        it('should create POST method with API key required', () => {
            // POST メソッドが作成され、APIキー認証が必須であることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'POST',
                ApiKeyRequired: true,
                ResourceId: assertions_1.Match.objectLike({
                    Ref: assertions_1.Match.stringLikeRegexp('.*exports.*'),
                }),
            });
        });
        it('should configure Lambda integration', () => {
            // Lambda統合が設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'POST',
                Integration: {
                    Type: 'AWS_PROXY',
                    IntegrationHttpMethod: 'POST',
                    Uri: assertions_1.Match.objectLike({
                        'Fn::Join': assertions_1.Match.arrayWith([
                            assertions_1.Match.arrayWith([
                                assertions_1.Match.stringLikeRegexp('.*lambda.*'),
                            ]),
                        ]),
                    }),
                },
            });
        });
        it('should configure CORS headers', () => {
            // CORSヘッダーが設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'POST',
                MethodResponses: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({
                        StatusCode: '202',
                        ResponseParameters: {
                            'method.response.header.Access-Control-Allow-Origin': true,
                        },
                    }),
                ]),
            });
        });
        it('should configure success response (202 Accepted)', () => {
            // 成功レスポンス（202 Accepted）が設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'POST',
                MethodResponses: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({ StatusCode: '202' }),
                ]),
            });
        });
        it('should configure error responses (400, 401, 500)', () => {
            // エラーレスポンスが設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Method', {
                HttpMethod: 'POST',
                MethodResponses: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({ StatusCode: '202' }),
                    assertions_1.Match.objectLike({ StatusCode: '400' }),
                    assertions_1.Match.objectLike({ StatusCode: '401' }),
                    assertions_1.Match.objectLike({ StatusCode: '500' }),
                ]),
            });
        });
        it('should grant Export Lambda permission to be invoked by API Gateway', () => {
            // API GatewayがExport Lambdaを呼び出す権限が付与されていることを確認
            template.hasResourceProperties('AWS::Lambda::Permission', {
                Action: 'lambda:InvokeFunction',
                Principal: 'apigateway.amazonaws.com',
                FunctionName: assertions_1.Match.objectLike({
                    'Fn::GetAtt': assertions_1.Match.arrayWith([
                        assertions_1.Match.stringLikeRegexp('ExportFunction.*'),
                        'Arn',
                    ]),
                }),
            });
        });
    });
    describe('CloudFormation Outputs', () => {
        it('should export Disclosures endpoint URL', () => {
            // Disclosures エンドポイントURLがエクスポートされていることを確認
            template.hasOutput('DisclosuresEndpoint', {
                Description: 'Disclosures query API endpoint URL',
                Export: {
                    Name: 'TdnetDisclosuresEndpoint',
                },
            });
        });
        it('should export Exports endpoint URL', () => {
            // Exports エンドポイントURLがエクスポートされていることを確認
            template.hasOutput('ExportsEndpoint', {
                Description: 'Export API endpoint URL',
                Export: {
                    Name: 'TdnetExportsEndpoint',
                },
            });
        });
    });
    describe('API Gateway統合の整合性', () => {
        it('should have consistent API Gateway configuration', () => {
            // API Gatewayの基本設定が存在することを確認
            template.hasResourceProperties('AWS::ApiGateway::RestApi', {
                Name: 'tdnet-data-collector-api',
                Description: 'TDnet Data Collector REST API',
            });
        });
        it('should have deployment stage configured', () => {
            // デプロイステージが設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::Stage', {
                StageName: 'prod',
            });
        });
        it('should have usage plan with API key', () => {
            // Usage PlanとAPIキーが設定されていることを確認
            template.hasResourceProperties('AWS::ApiGateway::UsagePlan', {
                UsagePlanName: 'tdnet-usage-plan',
                Description: 'Usage plan for TDnet Data Collector API',
            });
        });
        it('should associate API key with usage plan', () => {
            // APIキーがUsage Planに関連付けられていることを確認
            template.hasResourceProperties('AWS::ApiGateway::UsagePlanKey', {
                KeyType: 'API_KEY',
            });
        });
    });
    describe('Lambda関数の権限', () => {
        it('should grant Query Lambda read access to DynamoDB', () => {
            // Query LambdaにDynamoDBの読み取り権限が付与されていることを確認
            template.hasResourceProperties('AWS::IAM::Policy', {
                PolicyDocument: {
                    Statement: assertions_1.Match.arrayWith([
                        assertions_1.Match.objectLike({
                            Action: assertions_1.Match.arrayWith([
                                'dynamodb:BatchGetItem',
                                'dynamodb:GetRecords',
                                'dynamodb:GetShardIterator',
                                'dynamodb:Query',
                                'dynamodb:GetItem',
                                'dynamodb:Scan',
                                'dynamodb:ConditionCheckItem',
                                'dynamodb:DescribeTable',
                            ]),
                            Effect: 'Allow',
                        }),
                    ]),
                },
                Roles: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({
                        Ref: assertions_1.Match.stringLikeRegexp('QueryFunction.*Role.*'),
                    }),
                ]),
            });
        });
        it('should grant Export Lambda read access to DynamoDB', () => {
            // Export LambdaにDynamoDBの読み取り権限が付与されていることを確認
            template.hasResourceProperties('AWS::IAM::Policy', {
                PolicyDocument: {
                    Statement: assertions_1.Match.arrayWith([
                        assertions_1.Match.objectLike({
                            Action: assertions_1.Match.arrayWith([
                                'dynamodb:BatchGetItem',
                                'dynamodb:GetRecords',
                                'dynamodb:GetShardIterator',
                                'dynamodb:Query',
                                'dynamodb:GetItem',
                                'dynamodb:Scan',
                                'dynamodb:ConditionCheckItem',
                                'dynamodb:DescribeTable',
                            ]),
                            Effect: 'Allow',
                        }),
                    ]),
                },
                Roles: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({
                        Ref: assertions_1.Match.stringLikeRegexp('ExportFunction.*Role.*'),
                    }),
                ]),
            });
        });
        it('should grant Export Lambda write access to S3 exports bucket', () => {
            // Export LambdaにS3 exportsバケットへの書き込み権限が付与されていることを確認
            template.hasResourceProperties('AWS::IAM::Policy', {
                PolicyDocument: {
                    Statement: assertions_1.Match.arrayWith([
                        assertions_1.Match.objectLike({
                            Action: assertions_1.Match.arrayWith([
                                's3:PutObject',
                                's3:PutObjectLegalHold',
                                's3:PutObjectRetention',
                                's3:PutObjectTagging',
                                's3:PutObjectVersionTagging',
                                's3:Abort*',
                            ]),
                            Effect: 'Allow',
                        }),
                    ]),
                },
                Roles: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({
                        Ref: assertions_1.Match.stringLikeRegexp('ExportFunction.*Role.*'),
                    }),
                ]),
            });
        });
        it('should grant Query Lambda read access to S3 PDFs bucket', () => {
            // Query LambdaにS3 PDFsバケットへの読み取り権限が付与されていることを確認
            template.hasResourceProperties('AWS::IAM::Policy', {
                PolicyDocument: {
                    Statement: assertions_1.Match.arrayWith([
                        assertions_1.Match.objectLike({
                            Action: assertions_1.Match.arrayWith([
                                's3:GetObject*',
                                's3:GetBucket*',
                                's3:List*',
                            ]),
                            Effect: 'Allow',
                        }),
                    ]),
                },
                Roles: assertions_1.Match.arrayWith([
                    assertions_1.Match.objectLike({
                        Ref: assertions_1.Match.stringLikeRegexp('QueryFunction.*Role.*'),
                    }),
                ]),
            });
        });
    });
    describe('WAF統合', () => {
        it('should associate WAF Web ACL with API Gateway', () => {
            // WAF Web ACLがAPI Gatewayに関連付けられていることを確認
            template.hasResourceProperties('AWS::WAFv2::WebACLAssociation', {
                ResourceArn: assertions_1.Match.objectLike({
                    'Fn::Join': assertions_1.Match.arrayWith([
                        assertions_1.Match.arrayWith([
                            assertions_1.Match.stringLikeRegexp('.*execute-api.*'),
                        ]),
                    ]),
                }),
                WebACLArn: assertions_1.Match.objectLike({
                    'Fn::GetAtt': assertions_1.Match.arrayWith([
                        assertions_1.Match.stringLikeRegexp('.*WebAcl.*'),
                        'Arn',
                    ]),
                }),
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcY2RrXFxfX3Rlc3RzX19cXGFwaS1xdWVyeS1leHBvcnQtZW5kcG9pbnRzLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7R0FNRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFSCxpREFBbUM7QUFDbkMsdURBQXlEO0FBQ3pELGtGQUE0RTtBQUU1RSxRQUFRLENBQUMsc0NBQXNDLEVBQUUsR0FBRyxFQUFFO0lBQ3BELElBQUksUUFBa0IsQ0FBQztJQUV2QixTQUFTLENBQUMsR0FBRyxFQUFFO1FBQ2IsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDMUIsTUFBTSxLQUFLLEdBQUcsSUFBSSxvREFBdUIsQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDNUQsUUFBUSxHQUFHLHFCQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRTtRQUN4QyxFQUFFLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO1lBQzdDLGlDQUFpQztZQUNqQyxRQUFRLENBQUMscUJBQXFCLENBQUMsMkJBQTJCLEVBQUU7Z0JBQzFELFFBQVEsRUFBRSxhQUFhO2FBQ3hCLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtZQUN4RCxtQ0FBbUM7WUFDbkMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO2dCQUN4RCxVQUFVLEVBQUUsS0FBSztnQkFDakIsY0FBYyxFQUFFLElBQUk7Z0JBQ3BCLFVBQVUsRUFBRSxrQkFBSyxDQUFDLFVBQVUsQ0FBQztvQkFDM0IsR0FBRyxFQUFFLGtCQUFLLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUM7aUJBQy9DLENBQUM7YUFDSCxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7WUFDM0Msd0JBQXdCO1lBQ3hCLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyx5QkFBeUIsRUFBRTtnQkFDeEQsVUFBVSxFQUFFLEtBQUs7Z0JBQ2pCLGlCQUFpQixFQUFFO29CQUNqQix5Q0FBeUMsRUFBRSxLQUFLO29CQUNoRCx1Q0FBdUMsRUFBRSxLQUFLO29CQUM5QyxxQ0FBcUMsRUFBRSxLQUFLO29CQUM1Qyw0Q0FBNEMsRUFBRSxLQUFLO29CQUNuRCxtQ0FBbUMsRUFBRSxLQUFLO29CQUMxQyxrQ0FBa0MsRUFBRSxLQUFLO29CQUN6QyxtQ0FBbUMsRUFBRSxLQUFLO2lCQUMzQzthQUNGLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRTtZQUM3Qyx3QkFBd0I7WUFDeEIsUUFBUSxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO2dCQUN4RCxVQUFVLEVBQUUsS0FBSztnQkFDakIsV0FBVyxFQUFFO29CQUNYLElBQUksRUFBRSxXQUFXO29CQUNqQixxQkFBcUIsRUFBRSxNQUFNO29CQUM3QixHQUFHLEVBQUUsa0JBQUssQ0FBQyxVQUFVLENBQUM7d0JBQ3BCLFVBQVUsRUFBRSxrQkFBSyxDQUFDLFNBQVMsQ0FBQzs0QkFDMUIsa0JBQUssQ0FBQyxTQUFTLENBQUM7Z0NBQ2Qsa0JBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUM7NkJBQ3JDLENBQUM7eUJBQ0gsQ0FBQztxQkFDSCxDQUFDO2lCQUNIO2FBQ0YsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsK0JBQStCLEVBQUUsR0FBRyxFQUFFO1lBQ3ZDLHdCQUF3QjtZQUN4QixRQUFRLENBQUMscUJBQXFCLENBQUMseUJBQXlCLEVBQUU7Z0JBQ3hELFVBQVUsRUFBRSxLQUFLO2dCQUNqQixlQUFlLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7b0JBQy9CLGtCQUFLLENBQUMsVUFBVSxDQUFDO3dCQUNmLFVBQVUsRUFBRSxLQUFLO3dCQUNqQixrQkFBa0IsRUFBRTs0QkFDbEIsb0RBQW9ELEVBQUUsSUFBSTs0QkFDMUQscUNBQXFDLEVBQUUsSUFBSTt5QkFDNUM7cUJBQ0YsQ0FBQztpQkFDSCxDQUFDO2FBQ0gsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsa0RBQWtELEVBQUUsR0FBRyxFQUFFO1lBQzFELHdCQUF3QjtZQUN4QixRQUFRLENBQUMscUJBQXFCLENBQUMseUJBQXlCLEVBQUU7Z0JBQ3hELFVBQVUsRUFBRSxLQUFLO2dCQUNqQixlQUFlLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7b0JBQy9CLGtCQUFLLENBQUMsVUFBVSxDQUFDLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDO29CQUN2QyxrQkFBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsQ0FBQztvQkFDdkMsa0JBQUssQ0FBQyxVQUFVLENBQUMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLENBQUM7b0JBQ3ZDLGtCQUFLLENBQUMsVUFBVSxDQUFDLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDO2lCQUN4QyxDQUFDO2FBQ0gsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsbUVBQW1FLEVBQUUsR0FBRyxFQUFFO1lBQzNFLCtDQUErQztZQUMvQyxRQUFRLENBQUMscUJBQXFCLENBQUMseUJBQXlCLEVBQUU7Z0JBQ3hELE1BQU0sRUFBRSx1QkFBdUI7Z0JBQy9CLFNBQVMsRUFBRSwwQkFBMEI7Z0JBQ3JDLFlBQVksRUFBRSxrQkFBSyxDQUFDLFVBQVUsQ0FBQztvQkFDN0IsWUFBWSxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO3dCQUM1QixrQkFBSyxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDO3dCQUN6QyxLQUFLO3FCQUNOLENBQUM7aUJBQ0gsQ0FBQzthQUNILENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO1FBQ3JDLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUU7WUFDekMsNkJBQTZCO1lBQzdCLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQywyQkFBMkIsRUFBRTtnQkFDMUQsUUFBUSxFQUFFLFNBQVM7YUFDcEIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaURBQWlELEVBQUUsR0FBRyxFQUFFO1lBQ3pELG9DQUFvQztZQUNwQyxRQUFRLENBQUMscUJBQXFCLENBQUMseUJBQXlCLEVBQUU7Z0JBQ3hELFVBQVUsRUFBRSxNQUFNO2dCQUNsQixjQUFjLEVBQUUsSUFBSTtnQkFDcEIsVUFBVSxFQUFFLGtCQUFLLENBQUMsVUFBVSxDQUFDO29CQUMzQixHQUFHLEVBQUUsa0JBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUM7aUJBQzNDLENBQUM7YUFDSCxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxHQUFHLEVBQUU7WUFDN0Msd0JBQXdCO1lBQ3hCLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyx5QkFBeUIsRUFBRTtnQkFDeEQsVUFBVSxFQUFFLE1BQU07Z0JBQ2xCLFdBQVcsRUFBRTtvQkFDWCxJQUFJLEVBQUUsV0FBVztvQkFDakIscUJBQXFCLEVBQUUsTUFBTTtvQkFDN0IsR0FBRyxFQUFFLGtCQUFLLENBQUMsVUFBVSxDQUFDO3dCQUNwQixVQUFVLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7NEJBQzFCLGtCQUFLLENBQUMsU0FBUyxDQUFDO2dDQUNkLGtCQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDOzZCQUNyQyxDQUFDO3lCQUNILENBQUM7cUJBQ0gsQ0FBQztpQkFDSDthQUNGLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLCtCQUErQixFQUFFLEdBQUcsRUFBRTtZQUN2Qyx3QkFBd0I7WUFDeEIsUUFBUSxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO2dCQUN4RCxVQUFVLEVBQUUsTUFBTTtnQkFDbEIsZUFBZSxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO29CQUMvQixrQkFBSyxDQUFDLFVBQVUsQ0FBQzt3QkFDZixVQUFVLEVBQUUsS0FBSzt3QkFDakIsa0JBQWtCLEVBQUU7NEJBQ2xCLG9EQUFvRCxFQUFFLElBQUk7eUJBQzNEO3FCQUNGLENBQUM7aUJBQ0gsQ0FBQzthQUNILENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtEQUFrRCxFQUFFLEdBQUcsRUFBRTtZQUMxRCxxQ0FBcUM7WUFDckMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO2dCQUN4RCxVQUFVLEVBQUUsTUFBTTtnQkFDbEIsZUFBZSxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO29CQUMvQixrQkFBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsQ0FBQztpQkFDeEMsQ0FBQzthQUNILENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtEQUFrRCxFQUFFLEdBQUcsRUFBRTtZQUMxRCx3QkFBd0I7WUFDeEIsUUFBUSxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO2dCQUN4RCxVQUFVLEVBQUUsTUFBTTtnQkFDbEIsZUFBZSxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO29CQUMvQixrQkFBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsQ0FBQztvQkFDdkMsa0JBQUssQ0FBQyxVQUFVLENBQUMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLENBQUM7b0JBQ3ZDLGtCQUFLLENBQUMsVUFBVSxDQUFDLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDO29CQUN2QyxrQkFBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsQ0FBQztpQkFDeEMsQ0FBQzthQUNILENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG9FQUFvRSxFQUFFLEdBQUcsRUFBRTtZQUM1RSxnREFBZ0Q7WUFDaEQsUUFBUSxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO2dCQUN4RCxNQUFNLEVBQUUsdUJBQXVCO2dCQUMvQixTQUFTLEVBQUUsMEJBQTBCO2dCQUNyQyxZQUFZLEVBQUUsa0JBQUssQ0FBQyxVQUFVLENBQUM7b0JBQzdCLFlBQVksRUFBRSxrQkFBSyxDQUFDLFNBQVMsQ0FBQzt3QkFDNUIsa0JBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQzt3QkFDMUMsS0FBSztxQkFDTixDQUFDO2lCQUNILENBQUM7YUFDSCxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHdCQUF3QixFQUFFLEdBQUcsRUFBRTtRQUN0QyxFQUFFLENBQUMsd0NBQXdDLEVBQUUsR0FBRyxFQUFFO1lBQ2hELDBDQUEwQztZQUMxQyxRQUFRLENBQUMsU0FBUyxDQUFDLHFCQUFxQixFQUFFO2dCQUN4QyxXQUFXLEVBQUUsb0NBQW9DO2dCQUNqRCxNQUFNLEVBQUU7b0JBQ04sSUFBSSxFQUFFLDBCQUEwQjtpQkFDakM7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7WUFDNUMsc0NBQXNDO1lBQ3RDLFFBQVEsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUU7Z0JBQ3BDLFdBQVcsRUFBRSx5QkFBeUI7Z0JBQ3RDLE1BQU0sRUFBRTtvQkFDTixJQUFJLEVBQUUsc0JBQXNCO2lCQUM3QjthQUNGLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLEVBQUUsQ0FBQyxrREFBa0QsRUFBRSxHQUFHLEVBQUU7WUFDMUQsNkJBQTZCO1lBQzdCLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQywwQkFBMEIsRUFBRTtnQkFDekQsSUFBSSxFQUFFLDBCQUEwQjtnQkFDaEMsV0FBVyxFQUFFLCtCQUErQjthQUM3QyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7WUFDakQsd0JBQXdCO1lBQ3hCLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyx3QkFBd0IsRUFBRTtnQkFDdkQsU0FBUyxFQUFFLE1BQU07YUFDbEIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO1lBQzdDLGdDQUFnQztZQUNoQyxRQUFRLENBQUMscUJBQXFCLENBQUMsNEJBQTRCLEVBQUU7Z0JBQzNELGFBQWEsRUFBRSxrQkFBa0I7Z0JBQ2pDLFdBQVcsRUFBRSx5Q0FBeUM7YUFDdkQsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsMENBQTBDLEVBQUUsR0FBRyxFQUFFO1lBQ2xELGtDQUFrQztZQUNsQyxRQUFRLENBQUMscUJBQXFCLENBQUMsK0JBQStCLEVBQUU7Z0JBQzlELE9BQU8sRUFBRSxTQUFTO2FBQ25CLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtRQUMzQixFQUFFLENBQUMsbURBQW1ELEVBQUUsR0FBRyxFQUFFO1lBQzNELDRDQUE0QztZQUM1QyxRQUFRLENBQUMscUJBQXFCLENBQUMsa0JBQWtCLEVBQUU7Z0JBQ2pELGNBQWMsRUFBRTtvQkFDZCxTQUFTLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7d0JBQ3pCLGtCQUFLLENBQUMsVUFBVSxDQUFDOzRCQUNmLE1BQU0sRUFBRSxrQkFBSyxDQUFDLFNBQVMsQ0FBQztnQ0FDdEIsdUJBQXVCO2dDQUN2QixxQkFBcUI7Z0NBQ3JCLDJCQUEyQjtnQ0FDM0IsZ0JBQWdCO2dDQUNoQixrQkFBa0I7Z0NBQ2xCLGVBQWU7Z0NBQ2YsNkJBQTZCO2dDQUM3Qix3QkFBd0I7NkJBQ3pCLENBQUM7NEJBQ0YsTUFBTSxFQUFFLE9BQU87eUJBQ2hCLENBQUM7cUJBQ0gsQ0FBQztpQkFDSDtnQkFDRCxLQUFLLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7b0JBQ3JCLGtCQUFLLENBQUMsVUFBVSxDQUFDO3dCQUNmLEdBQUcsRUFBRSxrQkFBSyxDQUFDLGdCQUFnQixDQUFDLHVCQUF1QixDQUFDO3FCQUNyRCxDQUFDO2lCQUNILENBQUM7YUFDSCxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxvREFBb0QsRUFBRSxHQUFHLEVBQUU7WUFDNUQsNkNBQTZDO1lBQzdDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsRUFBRTtnQkFDakQsY0FBYyxFQUFFO29CQUNkLFNBQVMsRUFBRSxrQkFBSyxDQUFDLFNBQVMsQ0FBQzt3QkFDekIsa0JBQUssQ0FBQyxVQUFVLENBQUM7NEJBQ2YsTUFBTSxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO2dDQUN0Qix1QkFBdUI7Z0NBQ3ZCLHFCQUFxQjtnQ0FDckIsMkJBQTJCO2dDQUMzQixnQkFBZ0I7Z0NBQ2hCLGtCQUFrQjtnQ0FDbEIsZUFBZTtnQ0FDZiw2QkFBNkI7Z0NBQzdCLHdCQUF3Qjs2QkFDekIsQ0FBQzs0QkFDRixNQUFNLEVBQUUsT0FBTzt5QkFDaEIsQ0FBQztxQkFDSCxDQUFDO2lCQUNIO2dCQUNELEtBQUssRUFBRSxrQkFBSyxDQUFDLFNBQVMsQ0FBQztvQkFDckIsa0JBQUssQ0FBQyxVQUFVLENBQUM7d0JBQ2YsR0FBRyxFQUFFLGtCQUFLLENBQUMsZ0JBQWdCLENBQUMsd0JBQXdCLENBQUM7cUJBQ3RELENBQUM7aUJBQ0gsQ0FBQzthQUNILENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDhEQUE4RCxFQUFFLEdBQUcsRUFBRTtZQUN0RSxvREFBb0Q7WUFDcEQsUUFBUSxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixFQUFFO2dCQUNqRCxjQUFjLEVBQUU7b0JBQ2QsU0FBUyxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO3dCQUN6QixrQkFBSyxDQUFDLFVBQVUsQ0FBQzs0QkFDZixNQUFNLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7Z0NBQ3RCLGNBQWM7Z0NBQ2QsdUJBQXVCO2dDQUN2Qix1QkFBdUI7Z0NBQ3ZCLHFCQUFxQjtnQ0FDckIsNEJBQTRCO2dDQUM1QixXQUFXOzZCQUNaLENBQUM7NEJBQ0YsTUFBTSxFQUFFLE9BQU87eUJBQ2hCLENBQUM7cUJBQ0gsQ0FBQztpQkFDSDtnQkFDRCxLQUFLLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7b0JBQ3JCLGtCQUFLLENBQUMsVUFBVSxDQUFDO3dCQUNmLEdBQUcsRUFBRSxrQkFBSyxDQUFDLGdCQUFnQixDQUFDLHdCQUF3QixDQUFDO3FCQUN0RCxDQUFDO2lCQUNILENBQUM7YUFDSCxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5REFBeUQsRUFBRSxHQUFHLEVBQUU7WUFDakUsZ0RBQWdEO1lBQ2hELFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsRUFBRTtnQkFDakQsY0FBYyxFQUFFO29CQUNkLFNBQVMsRUFBRSxrQkFBSyxDQUFDLFNBQVMsQ0FBQzt3QkFDekIsa0JBQUssQ0FBQyxVQUFVLENBQUM7NEJBQ2YsTUFBTSxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO2dDQUN0QixlQUFlO2dDQUNmLGVBQWU7Z0NBQ2YsVUFBVTs2QkFDWCxDQUFDOzRCQUNGLE1BQU0sRUFBRSxPQUFPO3lCQUNoQixDQUFDO3FCQUNILENBQUM7aUJBQ0g7Z0JBQ0QsS0FBSyxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO29CQUNyQixrQkFBSyxDQUFDLFVBQVUsQ0FBQzt3QkFDZixHQUFHLEVBQUUsa0JBQUssQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQztxQkFDckQsQ0FBQztpQkFDSCxDQUFDO2FBQ0gsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1FBQ3JCLEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxHQUFHLEVBQUU7WUFDdkQseUNBQXlDO1lBQ3pDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQywrQkFBK0IsRUFBRTtnQkFDOUQsV0FBVyxFQUFFLGtCQUFLLENBQUMsVUFBVSxDQUFDO29CQUM1QixVQUFVLEVBQUUsa0JBQUssQ0FBQyxTQUFTLENBQUM7d0JBQzFCLGtCQUFLLENBQUMsU0FBUyxDQUFDOzRCQUNkLGtCQUFLLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUM7eUJBQzFDLENBQUM7cUJBQ0gsQ0FBQztpQkFDSCxDQUFDO2dCQUNGLFNBQVMsRUFBRSxrQkFBSyxDQUFDLFVBQVUsQ0FBQztvQkFDMUIsWUFBWSxFQUFFLGtCQUFLLENBQUMsU0FBUyxDQUFDO3dCQUM1QixrQkFBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQzt3QkFDcEMsS0FBSztxQkFDTixDQUFDO2lCQUNILENBQUM7YUFDSCxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcY2RrXFxfX3Rlc3RzX19cXGFwaS1xdWVyeS1leHBvcnQtZW5kcG9pbnRzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEFQSSBHYXRld2F5IFF1ZXJ5ICYgRXhwb3J0IEVuZHBvaW50cyBUZXN0c1xyXG4gKlxyXG4gKiBHRVQgL2Rpc2Nsb3N1cmVzIOOBiuOCiOOBsyBQT1NUIC9leHBvcnRzIOOCqOODs+ODieODneOCpOODs+ODiOOBrue1seWQiOODhuOCueODiFxyXG4gKlxyXG4gKiBSZXF1aXJlbWVudHM6IOOCv+OCueOCrzEzLjMsIDEzLjQgLSBBUEkgR2F0ZXdheSDjgqjjg7Pjg4njg53jgqTjg7Pjg4jlrp/oo4VcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZSwgTWF0Y2ggfSBmcm9tICdhd3MtY2RrLWxpYi9hc3NlcnRpb25zJztcclxuaW1wb3J0IHsgVGRuZXREYXRhQ29sbGVjdG9yU3RhY2sgfSBmcm9tICcuLi9saWIvdGRuZXQtZGF0YS1jb2xsZWN0b3Itc3RhY2snO1xyXG5cclxuZGVzY3JpYmUoJ0FQSSBHYXRld2F5IFF1ZXJ5ICYgRXhwb3J0IEVuZHBvaW50cycsICgpID0+IHtcclxuICBsZXQgdGVtcGxhdGU6IFRlbXBsYXRlO1xyXG5cclxuICBiZWZvcmVBbGwoKCkgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcclxuICAgIGNvbnN0IHN0YWNrID0gbmV3IFRkbmV0RGF0YUNvbGxlY3RvclN0YWNrKGFwcCwgJ1Rlc3RTdGFjaycpO1xyXG4gICAgdGVtcGxhdGUgPSBUZW1wbGF0ZS5mcm9tU3RhY2soc3RhY2spO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnR0VUIC9kaXNjbG9zdXJlcyDjgqjjg7Pjg4njg53jgqTjg7Pjg4gnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSAvZGlzY2xvc3VyZXMgcmVzb3VyY2UnLCAoKSA9PiB7XHJcbiAgICAgIC8vIC9kaXNjbG9zdXJlcyDjg6rjgr3jg7zjgrnjgYzkvZzmiJDjgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6OlJlc291cmNlJywge1xyXG4gICAgICAgIFBhdGhQYXJ0OiAnZGlzY2xvc3VyZXMnLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY3JlYXRlIEdFVCBtZXRob2Qgd2l0aCBBUEkga2V5IHJlcXVpcmVkJywgKCkgPT4ge1xyXG4gICAgICAvLyBHRVQg44Oh44K944OD44OJ44GM5L2c5oiQ44GV44KM44CBQVBJ44Kt44O86KqN6Ki844GM5b+F6aCI44Gn44GC44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcGlHYXRld2F5OjpNZXRob2QnLCB7XHJcbiAgICAgICAgSHR0cE1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgQXBpS2V5UmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgUmVzb3VyY2VJZDogTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICBSZWY6IE1hdGNoLnN0cmluZ0xpa2VSZWdleHAoJy4qZGlzY2xvc3VyZXMuKicpLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY29uZmlndXJlIHF1ZXJ5IHBhcmFtZXRlcnMnLCAoKSA9PiB7XHJcbiAgICAgIC8vIOOCr+OCqOODquODkeODqeODoeODvOOCv+OBjOioreWumuOBleOCjOOBpuOBhOOCi+OBk+OBqOOCkueiuuiqjVxyXG4gICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBpR2F0ZXdheTo6TWV0aG9kJywge1xyXG4gICAgICAgIEh0dHBNZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIFJlcXVlc3RQYXJhbWV0ZXJzOiB7XHJcbiAgICAgICAgICAnbWV0aG9kLnJlcXVlc3QucXVlcnlzdHJpbmcuY29tcGFueV9jb2RlJzogZmFsc2UsXHJcbiAgICAgICAgICAnbWV0aG9kLnJlcXVlc3QucXVlcnlzdHJpbmcuc3RhcnRfZGF0ZSc6IGZhbHNlLFxyXG4gICAgICAgICAgJ21ldGhvZC5yZXF1ZXN0LnF1ZXJ5c3RyaW5nLmVuZF9kYXRlJzogZmFsc2UsXHJcbiAgICAgICAgICAnbWV0aG9kLnJlcXVlc3QucXVlcnlzdHJpbmcuZGlzY2xvc3VyZV90eXBlJzogZmFsc2UsXHJcbiAgICAgICAgICAnbWV0aG9kLnJlcXVlc3QucXVlcnlzdHJpbmcuZm9ybWF0JzogZmFsc2UsXHJcbiAgICAgICAgICAnbWV0aG9kLnJlcXVlc3QucXVlcnlzdHJpbmcubGltaXQnOiBmYWxzZSxcclxuICAgICAgICAgICdtZXRob2QucmVxdWVzdC5xdWVyeXN0cmluZy5vZmZzZXQnOiBmYWxzZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY29uZmlndXJlIExhbWJkYSBpbnRlZ3JhdGlvbicsICgpID0+IHtcclxuICAgICAgLy8gTGFtYmRh57Wx5ZCI44GM6Kit5a6a44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcGlHYXRld2F5OjpNZXRob2QnLCB7XHJcbiAgICAgICAgSHR0cE1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgSW50ZWdyYXRpb246IHtcclxuICAgICAgICAgIFR5cGU6ICdBV1NfUFJPWFknLFxyXG4gICAgICAgICAgSW50ZWdyYXRpb25IdHRwTWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBVcmk6IE1hdGNoLm9iamVjdExpa2Uoe1xyXG4gICAgICAgICAgICAnRm46OkpvaW4nOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgICAgIE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgICAgICBNYXRjaC5zdHJpbmdMaWtlUmVnZXhwKCcuKmxhbWJkYS4qJyksXHJcbiAgICAgICAgICAgICAgXSksXHJcbiAgICAgICAgICAgIF0pLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNvbmZpZ3VyZSBDT1JTIGhlYWRlcnMnLCAoKSA9PiB7XHJcbiAgICAgIC8vIENPUlPjg5jjg4Pjg4Djg7zjgYzoqK3lrprjgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6Ok1ldGhvZCcsIHtcclxuICAgICAgICBIdHRwTWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBNZXRob2RSZXNwb25zZXM6IE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICBNYXRjaC5vYmplY3RMaWtlKHtcclxuICAgICAgICAgICAgU3RhdHVzQ29kZTogJzIwMCcsXHJcbiAgICAgICAgICAgIFJlc3BvbnNlUGFyYW1ldGVyczoge1xyXG4gICAgICAgICAgICAgICdtZXRob2QucmVzcG9uc2UuaGVhZGVyLkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6IHRydWUsXHJcbiAgICAgICAgICAgICAgJ21ldGhvZC5yZXNwb25zZS5oZWFkZXIuQ29udGVudC1UeXBlJzogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY29uZmlndXJlIGVycm9yIHJlc3BvbnNlcyAoNDAwLCA0MDEsIDUwMCknLCAoKSA9PiB7XHJcbiAgICAgIC8vIOOCqOODqeODvOODrOOCueODneODs+OCueOBjOioreWumuOBleOCjOOBpuOBhOOCi+OBk+OBqOOCkueiuuiqjVxyXG4gICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBpR2F0ZXdheTo6TWV0aG9kJywge1xyXG4gICAgICAgIEh0dHBNZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIE1ldGhvZFJlc3BvbnNlczogTWF0Y2guYXJyYXlXaXRoKFtcclxuICAgICAgICAgIE1hdGNoLm9iamVjdExpa2UoeyBTdGF0dXNDb2RlOiAnMjAwJyB9KSxcclxuICAgICAgICAgIE1hdGNoLm9iamVjdExpa2UoeyBTdGF0dXNDb2RlOiAnNDAwJyB9KSxcclxuICAgICAgICAgIE1hdGNoLm9iamVjdExpa2UoeyBTdGF0dXNDb2RlOiAnNDAxJyB9KSxcclxuICAgICAgICAgIE1hdGNoLm9iamVjdExpa2UoeyBTdGF0dXNDb2RlOiAnNTAwJyB9KSxcclxuICAgICAgICBdKSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdyYW50IFF1ZXJ5IExhbWJkYSBwZXJtaXNzaW9uIHRvIGJlIGludm9rZWQgYnkgQVBJIEdhdGV3YXknLCAoKSA9PiB7XHJcbiAgICAgIC8vIEFQSSBHYXRld2F544GMUXVlcnkgTGFtYmRh44KS5ZG844Gz5Ye644GZ5qip6ZmQ44GM5LuY5LiO44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OlBlcm1pc3Npb24nLCB7XHJcbiAgICAgICAgQWN0aW9uOiAnbGFtYmRhOkludm9rZUZ1bmN0aW9uJyxcclxuICAgICAgICBQcmluY2lwYWw6ICdhcGlnYXRld2F5LmFtYXpvbmF3cy5jb20nLFxyXG4gICAgICAgIEZ1bmN0aW9uTmFtZTogTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICAnRm46OkdldEF0dCc6IE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgIE1hdGNoLnN0cmluZ0xpa2VSZWdleHAoJ1F1ZXJ5RnVuY3Rpb24uKicpLFxyXG4gICAgICAgICAgICAnQXJuJyxcclxuICAgICAgICAgIF0pLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUE9TVCAvZXhwb3J0cyDjgqjjg7Pjg4njg53jgqTjg7Pjg4gnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSAvZXhwb3J0cyByZXNvdXJjZScsICgpID0+IHtcclxuICAgICAgLy8gL2V4cG9ydHMg44Oq44K944O844K544GM5L2c5oiQ44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcGlHYXRld2F5OjpSZXNvdXJjZScsIHtcclxuICAgICAgICBQYXRoUGFydDogJ2V4cG9ydHMnLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY3JlYXRlIFBPU1QgbWV0aG9kIHdpdGggQVBJIGtleSByZXF1aXJlZCcsICgpID0+IHtcclxuICAgICAgLy8gUE9TVCDjg6Hjgr3jg4Pjg4njgYzkvZzmiJDjgZXjgozjgIFBUEnjgq3jg7zoqo3oqLzjgYzlv4XpoIjjgafjgYLjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6Ok1ldGhvZCcsIHtcclxuICAgICAgICBIdHRwTWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgQXBpS2V5UmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgUmVzb3VyY2VJZDogTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICBSZWY6IE1hdGNoLnN0cmluZ0xpa2VSZWdleHAoJy4qZXhwb3J0cy4qJyksXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjb25maWd1cmUgTGFtYmRhIGludGVncmF0aW9uJywgKCkgPT4ge1xyXG4gICAgICAvLyBMYW1iZGHntbHlkIjjgYzoqK3lrprjgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6Ok1ldGhvZCcsIHtcclxuICAgICAgICBIdHRwTWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgSW50ZWdyYXRpb246IHtcclxuICAgICAgICAgIFR5cGU6ICdBV1NfUFJPWFknLFxyXG4gICAgICAgICAgSW50ZWdyYXRpb25IdHRwTWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBVcmk6IE1hdGNoLm9iamVjdExpa2Uoe1xyXG4gICAgICAgICAgICAnRm46OkpvaW4nOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgICAgIE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgICAgICBNYXRjaC5zdHJpbmdMaWtlUmVnZXhwKCcuKmxhbWJkYS4qJyksXHJcbiAgICAgICAgICAgICAgXSksXHJcbiAgICAgICAgICAgIF0pLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNvbmZpZ3VyZSBDT1JTIGhlYWRlcnMnLCAoKSA9PiB7XHJcbiAgICAgIC8vIENPUlPjg5jjg4Pjg4Djg7zjgYzoqK3lrprjgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6Ok1ldGhvZCcsIHtcclxuICAgICAgICBIdHRwTWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgTWV0aG9kUmVzcG9uc2VzOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICAgIFN0YXR1c0NvZGU6ICcyMDInLFxyXG4gICAgICAgICAgICBSZXNwb25zZVBhcmFtZXRlcnM6IHtcclxuICAgICAgICAgICAgICAnbWV0aG9kLnJlc3BvbnNlLmhlYWRlci5BY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgXSksXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjb25maWd1cmUgc3VjY2VzcyByZXNwb25zZSAoMjAyIEFjY2VwdGVkKScsICgpID0+IHtcclxuICAgICAgLy8g5oiQ5Yqf44Os44K544Od44Oz44K577yIMjAyIEFjY2VwdGVk77yJ44GM6Kit5a6a44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcGlHYXRld2F5OjpNZXRob2QnLCB7XHJcbiAgICAgICAgSHR0cE1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIE1ldGhvZFJlc3BvbnNlczogTWF0Y2guYXJyYXlXaXRoKFtcclxuICAgICAgICAgIE1hdGNoLm9iamVjdExpa2UoeyBTdGF0dXNDb2RlOiAnMjAyJyB9KSxcclxuICAgICAgICBdKSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNvbmZpZ3VyZSBlcnJvciByZXNwb25zZXMgKDQwMCwgNDAxLCA1MDApJywgKCkgPT4ge1xyXG4gICAgICAvLyDjgqjjg6njg7zjg6zjgrnjg53jg7PjgrnjgYzoqK3lrprjgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6Ok1ldGhvZCcsIHtcclxuICAgICAgICBIdHRwTWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgTWV0aG9kUmVzcG9uc2VzOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgTWF0Y2gub2JqZWN0TGlrZSh7IFN0YXR1c0NvZGU6ICcyMDInIH0pLFxyXG4gICAgICAgICAgTWF0Y2gub2JqZWN0TGlrZSh7IFN0YXR1c0NvZGU6ICc0MDAnIH0pLFxyXG4gICAgICAgICAgTWF0Y2gub2JqZWN0TGlrZSh7IFN0YXR1c0NvZGU6ICc0MDEnIH0pLFxyXG4gICAgICAgICAgTWF0Y2gub2JqZWN0TGlrZSh7IFN0YXR1c0NvZGU6ICc1MDAnIH0pLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ3JhbnQgRXhwb3J0IExhbWJkYSBwZXJtaXNzaW9uIHRvIGJlIGludm9rZWQgYnkgQVBJIEdhdGV3YXknLCAoKSA9PiB7XHJcbiAgICAgIC8vIEFQSSBHYXRld2F544GMRXhwb3J0IExhbWJkYeOCkuWRvOOBs+WHuuOBmeaoqemZkOOBjOS7mOS4juOBleOCjOOBpuOBhOOCi+OBk+OBqOOCkueiuuiqjVxyXG4gICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6TGFtYmRhOjpQZXJtaXNzaW9uJywge1xyXG4gICAgICAgIEFjdGlvbjogJ2xhbWJkYTpJbnZva2VGdW5jdGlvbicsXHJcbiAgICAgICAgUHJpbmNpcGFsOiAnYXBpZ2F0ZXdheS5hbWF6b25hd3MuY29tJyxcclxuICAgICAgICBGdW5jdGlvbk5hbWU6IE1hdGNoLm9iamVjdExpa2Uoe1xyXG4gICAgICAgICAgJ0ZuOjpHZXRBdHQnOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgICBNYXRjaC5zdHJpbmdMaWtlUmVnZXhwKCdFeHBvcnRGdW5jdGlvbi4qJyksXHJcbiAgICAgICAgICAgICdBcm4nLFxyXG4gICAgICAgICAgXSksXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDbG91ZEZvcm1hdGlvbiBPdXRwdXRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBleHBvcnQgRGlzY2xvc3VyZXMgZW5kcG9pbnQgVVJMJywgKCkgPT4ge1xyXG4gICAgICAvLyBEaXNjbG9zdXJlcyDjgqjjg7Pjg4njg53jgqTjg7Pjg4hVUkzjgYzjgqjjgq/jgrnjg53jg7zjg4jjgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzT3V0cHV0KCdEaXNjbG9zdXJlc0VuZHBvaW50Jywge1xyXG4gICAgICAgIERlc2NyaXB0aW9uOiAnRGlzY2xvc3VyZXMgcXVlcnkgQVBJIGVuZHBvaW50IFVSTCcsXHJcbiAgICAgICAgRXhwb3J0OiB7XHJcbiAgICAgICAgICBOYW1lOiAnVGRuZXREaXNjbG9zdXJlc0VuZHBvaW50JyxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZXhwb3J0IEV4cG9ydHMgZW5kcG9pbnQgVVJMJywgKCkgPT4ge1xyXG4gICAgICAvLyBFeHBvcnRzIOOCqOODs+ODieODneOCpOODs+ODiFVSTOOBjOOCqOOCr+OCueODneODvOODiOOBleOCjOOBpuOBhOOCi+OBk+OBqOOCkueiuuiqjVxyXG4gICAgICB0ZW1wbGF0ZS5oYXNPdXRwdXQoJ0V4cG9ydHNFbmRwb2ludCcsIHtcclxuICAgICAgICBEZXNjcmlwdGlvbjogJ0V4cG9ydCBBUEkgZW5kcG9pbnQgVVJMJyxcclxuICAgICAgICBFeHBvcnQ6IHtcclxuICAgICAgICAgIE5hbWU6ICdUZG5ldEV4cG9ydHNFbmRwb2ludCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0FQSSBHYXRld2F557Wx5ZCI44Gu5pW05ZCI5oCnJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvbnNpc3RlbnQgQVBJIEdhdGV3YXkgY29uZmlndXJhdGlvbicsICgpID0+IHtcclxuICAgICAgLy8gQVBJIEdhdGV3YXnjga7ln7rmnKzoqK3lrprjgYzlrZjlnKjjgZnjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6OlJlc3RBcGknLCB7XHJcbiAgICAgICAgTmFtZTogJ3RkbmV0LWRhdGEtY29sbGVjdG9yLWFwaScsXHJcbiAgICAgICAgRGVzY3JpcHRpb246ICdURG5ldCBEYXRhIENvbGxlY3RvciBSRVNUIEFQSScsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGRlcGxveW1lbnQgc3RhZ2UgY29uZmlndXJlZCcsICgpID0+IHtcclxuICAgICAgLy8g44OH44OX44Ot44Kk44K544OG44O844K444GM6Kit5a6a44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcGlHYXRld2F5OjpTdGFnZScsIHtcclxuICAgICAgICBTdGFnZU5hbWU6ICdwcm9kJyxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhdmUgdXNhZ2UgcGxhbiB3aXRoIEFQSSBrZXknLCAoKSA9PiB7XHJcbiAgICAgIC8vIFVzYWdlIFBsYW7jgahBUEnjgq3jg7zjgYzoqK3lrprjgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6OlVzYWdlUGxhbicsIHtcclxuICAgICAgICBVc2FnZVBsYW5OYW1lOiAndGRuZXQtdXNhZ2UtcGxhbicsXHJcbiAgICAgICAgRGVzY3JpcHRpb246ICdVc2FnZSBwbGFuIGZvciBURG5ldCBEYXRhIENvbGxlY3RvciBBUEknLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYXNzb2NpYXRlIEFQSSBrZXkgd2l0aCB1c2FnZSBwbGFuJywgKCkgPT4ge1xyXG4gICAgICAvLyBBUEnjgq3jg7zjgYxVc2FnZSBQbGFu44Gr6Zai6YCj5LuY44GR44KJ44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcGlHYXRld2F5OjpVc2FnZVBsYW5LZXknLCB7XHJcbiAgICAgICAgS2V5VHlwZTogJ0FQSV9LRVknLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTGFtYmRh6Zai5pWw44Gu5qip6ZmQJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBncmFudCBRdWVyeSBMYW1iZGEgcmVhZCBhY2Nlc3MgdG8gRHluYW1vREInLCAoKSA9PiB7XHJcbiAgICAgIC8vIFF1ZXJ5IExhbWJkYeOBq0R5bmFtb0RC44Gu6Kqt44G/5Y+W44KK5qip6ZmQ44GM5LuY5LiO44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcclxuICAgICAgICBQb2xpY3lEb2N1bWVudDoge1xyXG4gICAgICAgICAgU3RhdGVtZW50OiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgICBNYXRjaC5vYmplY3RMaWtlKHtcclxuICAgICAgICAgICAgICBBY3Rpb246IE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgICAgICAnZHluYW1vZGI6QmF0Y2hHZXRJdGVtJyxcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpHZXRSZWNvcmRzJyxcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpHZXRTaGFyZEl0ZXJhdG9yJyxcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpRdWVyeScsXHJcbiAgICAgICAgICAgICAgICAnZHluYW1vZGI6R2V0SXRlbScsXHJcbiAgICAgICAgICAgICAgICAnZHluYW1vZGI6U2NhbicsXHJcbiAgICAgICAgICAgICAgICAnZHluYW1vZGI6Q29uZGl0aW9uQ2hlY2tJdGVtJyxcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpEZXNjcmliZVRhYmxlJyxcclxuICAgICAgICAgICAgICBdKSxcclxuICAgICAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgXSksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBSb2xlczogTWF0Y2guYXJyYXlXaXRoKFtcclxuICAgICAgICAgIE1hdGNoLm9iamVjdExpa2Uoe1xyXG4gICAgICAgICAgICBSZWY6IE1hdGNoLnN0cmluZ0xpa2VSZWdleHAoJ1F1ZXJ5RnVuY3Rpb24uKlJvbGUuKicpLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgXSksXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBncmFudCBFeHBvcnQgTGFtYmRhIHJlYWQgYWNjZXNzIHRvIER5bmFtb0RCJywgKCkgPT4ge1xyXG4gICAgICAvLyBFeHBvcnQgTGFtYmRh44GrRHluYW1vRELjga7oqq3jgb/lj5bjgormqKnpmZDjgYzku5jkuI7jgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OklBTTo6UG9saWN5Jywge1xyXG4gICAgICAgIFBvbGljeURvY3VtZW50OiB7XHJcbiAgICAgICAgICBTdGF0ZW1lbnQ6IE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgIE1hdGNoLm9iamVjdExpa2Uoe1xyXG4gICAgICAgICAgICAgIEFjdGlvbjogTWF0Y2guYXJyYXlXaXRoKFtcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpCYXRjaEdldEl0ZW0nLFxyXG4gICAgICAgICAgICAgICAgJ2R5bmFtb2RiOkdldFJlY29yZHMnLFxyXG4gICAgICAgICAgICAgICAgJ2R5bmFtb2RiOkdldFNoYXJkSXRlcmF0b3InLFxyXG4gICAgICAgICAgICAgICAgJ2R5bmFtb2RiOlF1ZXJ5JyxcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpHZXRJdGVtJyxcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpTY2FuJyxcclxuICAgICAgICAgICAgICAgICdkeW5hbW9kYjpDb25kaXRpb25DaGVja0l0ZW0nLFxyXG4gICAgICAgICAgICAgICAgJ2R5bmFtb2RiOkRlc2NyaWJlVGFibGUnLFxyXG4gICAgICAgICAgICAgIF0pLFxyXG4gICAgICAgICAgICAgIEVmZmVjdDogJ0FsbG93JyxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICBdKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFJvbGVzOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICAgIFJlZjogTWF0Y2guc3RyaW5nTGlrZVJlZ2V4cCgnRXhwb3J0RnVuY3Rpb24uKlJvbGUuKicpLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgXSksXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBncmFudCBFeHBvcnQgTGFtYmRhIHdyaXRlIGFjY2VzcyB0byBTMyBleHBvcnRzIGJ1Y2tldCcsICgpID0+IHtcclxuICAgICAgLy8gRXhwb3J0IExhbWJkYeOBq1MzIGV4cG9ydHPjg5DjgrHjg4Pjg4jjgbjjga7mm7jjgY3ovrzjgb/mqKnpmZDjgYzku5jkuI7jgZXjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OklBTTo6UG9saWN5Jywge1xyXG4gICAgICAgIFBvbGljeURvY3VtZW50OiB7XHJcbiAgICAgICAgICBTdGF0ZW1lbnQ6IE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgIE1hdGNoLm9iamVjdExpa2Uoe1xyXG4gICAgICAgICAgICAgIEFjdGlvbjogTWF0Y2guYXJyYXlXaXRoKFtcclxuICAgICAgICAgICAgICAgICdzMzpQdXRPYmplY3QnLFxyXG4gICAgICAgICAgICAgICAgJ3MzOlB1dE9iamVjdExlZ2FsSG9sZCcsXHJcbiAgICAgICAgICAgICAgICAnczM6UHV0T2JqZWN0UmV0ZW50aW9uJyxcclxuICAgICAgICAgICAgICAgICdzMzpQdXRPYmplY3RUYWdnaW5nJyxcclxuICAgICAgICAgICAgICAgICdzMzpQdXRPYmplY3RWZXJzaW9uVGFnZ2luZycsXHJcbiAgICAgICAgICAgICAgICAnczM6QWJvcnQqJyxcclxuICAgICAgICAgICAgICBdKSxcclxuICAgICAgICAgICAgICBFZmZlY3Q6ICdBbGxvdycsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgXSksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBSb2xlczogTWF0Y2guYXJyYXlXaXRoKFtcclxuICAgICAgICAgIE1hdGNoLm9iamVjdExpa2Uoe1xyXG4gICAgICAgICAgICBSZWY6IE1hdGNoLnN0cmluZ0xpa2VSZWdleHAoJ0V4cG9ydEZ1bmN0aW9uLipSb2xlLionKSxcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ3JhbnQgUXVlcnkgTGFtYmRhIHJlYWQgYWNjZXNzIHRvIFMzIFBERnMgYnVja2V0JywgKCkgPT4ge1xyXG4gICAgICAvLyBRdWVyeSBMYW1iZGHjgatTMyBQREZz44OQ44Kx44OD44OI44G444Gu6Kqt44G/5Y+W44KK5qip6ZmQ44GM5LuY5LiO44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpJQU06OlBvbGljeScsIHtcclxuICAgICAgICBQb2xpY3lEb2N1bWVudDoge1xyXG4gICAgICAgICAgU3RhdGVtZW50OiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgICBNYXRjaC5vYmplY3RMaWtlKHtcclxuICAgICAgICAgICAgICBBY3Rpb246IE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgICAgICAnczM6R2V0T2JqZWN0KicsXHJcbiAgICAgICAgICAgICAgICAnczM6R2V0QnVja2V0KicsXHJcbiAgICAgICAgICAgICAgICAnczM6TGlzdConLFxyXG4gICAgICAgICAgICAgIF0pLFxyXG4gICAgICAgICAgICAgIEVmZmVjdDogJ0FsbG93JyxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICBdKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFJvbGVzOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICAgIFJlZjogTWF0Y2guc3RyaW5nTGlrZVJlZ2V4cCgnUXVlcnlGdW5jdGlvbi4qUm9sZS4qJyksXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICBdKSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1dBRue1seWQiCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgYXNzb2NpYXRlIFdBRiBXZWIgQUNMIHdpdGggQVBJIEdhdGV3YXknLCAoKSA9PiB7XHJcbiAgICAgIC8vIFdBRiBXZWIgQUNM44GMQVBJIEdhdGV3YXnjgavplqLpgKPku5jjgZHjgonjgozjgabjgYTjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OldBRnYyOjpXZWJBQ0xBc3NvY2lhdGlvbicsIHtcclxuICAgICAgICBSZXNvdXJjZUFybjogTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICAnRm46OkpvaW4nOiBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgICBNYXRjaC5hcnJheVdpdGgoW1xyXG4gICAgICAgICAgICAgIE1hdGNoLnN0cmluZ0xpa2VSZWdleHAoJy4qZXhlY3V0ZS1hcGkuKicpLFxyXG4gICAgICAgICAgICBdKSxcclxuICAgICAgICAgIF0pLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIFdlYkFDTEFybjogTWF0Y2gub2JqZWN0TGlrZSh7XHJcbiAgICAgICAgICAnRm46OkdldEF0dCc6IE1hdGNoLmFycmF5V2l0aChbXHJcbiAgICAgICAgICAgIE1hdGNoLnN0cmluZ0xpa2VSZWdleHAoJy4qV2ViQWNsLionKSxcclxuICAgICAgICAgICAgJ0FybicsXHJcbiAgICAgICAgICBdKSxcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJ2ZXJzaW9uIjozfQ==