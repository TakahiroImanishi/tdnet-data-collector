d2581b8f441730df0bb2b089f17f66c7
/**
 * Jest Setup for Unit/Integration Tests
 *
 * ユニットテストと統合テスト用の環境変数を設定します。
 */

// テスト環境用の環境変数を設定
process.env.NODE_ENV = 'test';
process.env.AWS_REGION = 'ap-northeast-1';
process.env.LOG_LEVEL = 'error'; // テスト中はエラーログのみ

// DynamoDB環境変数
process.env.DYNAMODB_TABLE_NAME = 'test-disclosures-table';
process.env.DYNAMODB_TABLE_DISCLOSURES = 'test-disclosures-table';
process.env.DYNAMODB_EXECUTIONS_TABLE = 'test-executions-table';
process.env.DYNAMODB_TABLE_EXECUTIONS = 'test-executions-table';
process.env.EXPORT_STATUS_TABLE_NAME = 'test-export-status-table';

// S3環境変数
process.env.S3_BUCKET = 'test-pdfs-bucket';
process.env.S3_BUCKET_NAME = 'test-pdfs-bucket';
process.env.S3_BUCKET_PDFS = 'test-pdfs-bucket';
process.env.EXPORT_BUCKET_NAME = 'test-exports-bucket';
process.env.S3_BUCKET_EXPORTS = 'test-exports-bucket';

// Lambda環境変数
process.env.COLLECTOR_FUNCTION_NAME = 'test-collector-function';

// API Key環境変数（テスト用のダミー値）
process.env.API_KEY_SECRET_ARN = 'arn:aws:secretsmanager:ap-northeast-1:123456789012:secret:test-api-key';
process.env.API_KEY = 'test-api-key-12345';

// その他の環境変数
process.env.ENVIRONMENT = 'test';

// AWS SDK v3のモック設定を有効化
process.env.AWS_SDK_JS_SUPPRESS_MAINTENANCE_MODE_MESSAGE = '1';

// テストタイムアウトの設定
jest.setTimeout(30000); // 30秒
