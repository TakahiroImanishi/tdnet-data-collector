{"version":3,"names":["cov_2ihptrpuhr","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage"],"sources":["C:\\Users\\ti198\\investment_analysis_opopo\\src\\lambda\\export\\types.ts"],"sourcesContent":["/**\r\n * Lambda Export型定義\r\n *\r\n * エクスポート機能で使用する型定義を集約します。\r\n *\r\n * Requirements: 要件5.1, 5.2, 5.4（エクスポート機能）\r\n */\r\n\r\nimport { APIGatewayProxyEvent } from 'aws-lambda';\r\n\r\n/**\r\n * エクスポートイベント（API Gateway経由）\r\n */\r\nexport interface ExportEvent extends APIGatewayProxyEvent {\r\n  body: string; // JSON文字列\r\n}\r\n\r\n/**\r\n * エクスポートリクエストボディ\r\n */\r\nexport interface ExportRequestBody {\r\n  /** フォーマット（json, csv） */\r\n  format: 'json' | 'csv';\r\n\r\n  /** クエリフィルター */\r\n  filter: {\r\n    /** 企業コード */\r\n    company_code?: string;\r\n\r\n    /** 開始日（ISO 8601形式、YYYY-MM-DD） */\r\n    start_date?: string;\r\n\r\n    /** 終了日（ISO 8601形式、YYYY-MM-DD） */\r\n    end_date?: string;\r\n\r\n    /** 開示種類 */\r\n    disclosure_type?: string;\r\n  };\r\n}\r\n\r\n/**\r\n * エクスポートレスポンス\r\n */\r\nexport interface ExportResponse {\r\n  /** エクスポートID */\r\n  export_id: string;\r\n\r\n  /** 状態（pending, processing, completed, failed） */\r\n  status: 'pending' | 'processing' | 'completed' | 'failed';\r\n\r\n  /** メッセージ */\r\n  message: string;\r\n\r\n  /** 進捗率（0〜100） */\r\n  progress: number;\r\n\r\n  /** ダウンロードURL（署名付きURL、有効期限7日） */\r\n  download_url?: string;\r\n\r\n  /** エラーメッセージ */\r\n  error_message?: string;\r\n}\r\n\r\n/**\r\n * エクスポートステータス（DynamoDB保存用）\r\n */\r\nexport interface ExportStatusItem {\r\n  /** エクスポートID（パーティションキー） */\r\n  export_id: string;\r\n\r\n  /** 状態（pending, processing, completed, failed） */\r\n  status: 'pending' | 'processing' | 'completed' | 'failed';\r\n\r\n  /** リクエスト日時（ISO 8601形式、UTC） */\r\n  requested_at: string;\r\n\r\n  /** 完了日時（ISO 8601形式、UTC） */\r\n  completed_at?: string;\r\n\r\n  /** 進捗率（0〜100） */\r\n  progress: number;\r\n\r\n  /** S3キー（エクスポートファイルの保存先） */\r\n  s3_key?: string;\r\n\r\n  /** ダウンロードURL（署名付きURL、有効期限7日） */\r\n  download_url?: string;\r\n\r\n  /** エラーメッセージ */\r\n  error_message?: string;\r\n\r\n  /** TTL（Unix timestamp、30日後に自動削除） */\r\n  ttl: number;\r\n\r\n  /** フォーマット（json, csv） */\r\n  format: 'json' | 'csv';\r\n\r\n  /** クエリフィルター（JSON文字列） */\r\n  filter: string;\r\n}\r\n"],"mappings":";;AAAA;;;;;;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,IAAA;MAAAC,QAAA;MAAAC,KAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,OAAA;IAAA;IAAAC,eAAA;IAAAtB,IAAA;EAAA;EAAA,IAAAuB,QAAA,GAAAtB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAoB,QAAA,CAAAxB,IAAA,KAAAwB,QAAA,CAAAxB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAuB,QAAA,CAAAxB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAoB,cAAA,GAAAD,QAAA,CAAAxB,IAAA;EAAA","ignoreList":[]}