8b6b0e81ae3ac8bc38695b4d7f97df55
"use strict";
/**
 * Create Export Job Unit Tests
 *
 * Requirements: 要件14.1（ユニットテスト）
 */
Object.defineProperty(exports, "__esModule", { value: true });
jest.mock('@aws-sdk/client-dynamodb', () => {
    const actualModule = jest.requireActual('@aws-sdk/client-dynamodb');
    return {
        ...actualModule,
        DynamoDBClient: jest.fn().mockImplementation(() => ({
            send: mockSend,
        })),
    };
});
jest.mock('../../../utils/logger', () => ({
    logger: {
        info: mockLoggerInfo,
        error: mockLoggerError,
    },
}));
jest.mock('../../../utils/retry', () => ({
    retryWithBackoff: mockRetryWithBackoff,
}));
// モック設定（importより前に定義）
const mockSend = jest.fn();
const mockRetryWithBackoff = jest.fn();
const mockLoggerInfo = jest.fn();
const mockLoggerError = jest.fn();
const create_export_job_1 = require("../create-export-job");
const client_dynamodb_1 = require("@aws-sdk/client-dynamodb");
describe('createExportJob', () => {
    const mockRequestBody = {
        format: 'json',
        filter: {
            company_code: '1234',
            start_date: '2024-01-01',
            end_date: '2024-01-31',
            disclosure_type: '決算短信',
        },
    };
    const mockRequestId = 'test-request-id-12345678';
    beforeEach(() => {
        jest.clearAllMocks();
        mockSend.mockClear();
        mockRetryWithBackoff.mockClear();
        mockLoggerInfo.mockClear();
        mockLoggerError.mockClear();
        // デフォルトでretryWithBackoffは渡された関数を実行
        mockRetryWithBackoff.mockImplementation(async (fn) => await fn());
        // デフォルトでDynamoDB操作は成功
        mockSend.mockResolvedValue({
            $metadata: { httpStatusCode: 200 },
        });
        // 環境変数設定
        process.env.EXPORT_STATUS_TABLE_NAME = 'test-export-status-table';
        process.env.AWS_REGION = 'ap-northeast-1';
        // Date.now()をモック（一貫したタイムスタンプ）
        jest.spyOn(Date, 'now').mockReturnValue(1705305600000); // 2024-01-15 10:00:00 UTC
        jest.spyOn(Date.prototype, 'toISOString').mockReturnValue('2024-01-15T10:00:00.000Z');
        jest.spyOn(Math, 'random').mockReturnValue(0.123456); // 一貫したランダム値
    });
    afterEach(() => {
        jest.restoreAllMocks();
    });
    describe('エクスポートジョブ作成成功', () => {
        it('エクスポートジョブを正常に作成できる', async () => {
            // Act
            const result = await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(result).toMatchObject({
                export_id: expect.stringMatching(/^export_\d+_[a-z0-9]+_[a-z0-9]+$/),
                status: 'pending',
                requested_at: '2024-01-15T10:00:00.000Z',
                progress: 0,
                format: 'json',
                filter: JSON.stringify(mockRequestBody.filter),
            });
            expect(result.ttl).toBeGreaterThan(Date.now() / 1000);
        });
        it('DynamoDBにPutItemCommandを送信する', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(mockSend).toHaveBeenCalledTimes(1);
            const command = mockSend.mock.calls[0][0];
            expect(command).toBeInstanceOf(client_dynamodb_1.PutItemCommand);
            expect(command.input.TableName).toBe('test-export-status-table');
        });
        it('ログに作成開始と完了を記録する', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(mockLoggerInfo).toHaveBeenCalledWith('Creating export job', expect.objectContaining({
                export_id: expect.stringMatching(/^export_\d+_[a-z0-9]+_[a-z0-9]+$/),
                format: 'json',
                filter: mockRequestBody.filter,
            }));
            expect(mockLoggerInfo).toHaveBeenCalledWith('Export job created successfully', expect.objectContaining({
                export_id: expect.stringMatching(/^export_\d+_[a-z0-9]+_[a-z0-9]+$/),
                status: 'pending',
            }));
        });
    });
    describe('エクスポートID生成', () => {
        it('エクスポートIDが正しいフォーマットで生成される', async () => {
            // Act
            const result = await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            // フォーマット: export_タイムスタンプ_ランダム文字列_リクエストID先頭8文字
            expect(result.export_id).toMatch(/^export_\d+_[a-z0-9]+_[a-z0-9]{8}$/);
        });
        it('エクスポートIDにタイムスタンプが含まれる', async () => {
            // Act
            const result = await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(result.export_id).toContain('1705305600000');
        });
        it('エクスポートIDにリクエストIDの先頭8文字が含まれる', async () => {
            // Act
            const result = await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(result.export_id).toContain('test-req');
        });
        it('異なるリクエストIDで異なるエクスポートIDが生成される', async () => {
            // Arrange
            const requestId1 = 'request-id-1-12345678';
            const requestId2 = 'request-id-2-87654321';
            // Act
            const result1 = await (0, create_export_job_1.createExportJob)(mockRequestBody, requestId1);
            // 2回目の呼び出しで異なるランダム値を返す
            jest.spyOn(Math, 'random').mockReturnValue(0.987654);
            const result2 = await (0, create_export_job_1.createExportJob)(mockRequestBody, requestId2);
            // Assert
            expect(result1.export_id).not.toBe(result2.export_id);
        });
    });
    describe('DynamoDB保存', () => {
        it('ステータスがpendingで保存される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.Item?.status).toEqual({ S: 'pending' });
        });
        it('進捗率が0で保存される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.Item?.progress).toEqual({ N: '0' });
        });
        it('リクエスト日時がISO 8601形式で保存される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.Item?.requested_at).toEqual({ S: '2024-01-15T10:00:00.000Z' });
        });
        it('フォーマットが保存される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.Item?.format).toEqual({ S: 'json' });
        });
        it('フィルターがJSON文字列として保存される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.Item?.filter).toEqual({
                S: JSON.stringify(mockRequestBody.filter),
            });
        });
        it('CSV形式のリクエストも正しく保存される', async () => {
            // Arrange
            const csvRequestBody = {
                format: 'csv',
                filter: {
                    start_date: '2024-01-01',
                    end_date: '2024-01-31',
                },
            };
            // Act
            await (0, create_export_job_1.createExportJob)(csvRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.Item?.format).toEqual({ S: 'csv' });
        });
    });
    describe('TTL設定', () => {
        it('TTLが30日後に設定される', async () => {
            // Arrange
            const now = Date.now() / 1000; // Unix timestamp (秒)
            const expectedTtl = now + 30 * 24 * 60 * 60; // 30日後
            // Act
            const result = await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(result.ttl).toBeCloseTo(expectedTtl, 0);
        });
        it('TTLがDynamoDBに保存される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.Item?.ttl).toEqual({
                N: expect.stringMatching(/^\d+$/),
            });
            const ttlValue = parseInt(command.input.Item?.ttl?.N || '0', 10);
            const now = Date.now() / 1000;
            const expectedTtl = now + 30 * 24 * 60 * 60;
            expect(ttlValue).toBeCloseTo(expectedTtl, 0);
        });
    });
    describe('ConditionExpression（重複防止）', () => {
        it('ConditionExpressionが設定される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.ConditionExpression).toBe('attribute_not_exists(export_id)');
        });
    });
    describe('再試行設定', () => {
        it('retryWithBackoffが呼び出される', async () => {
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(mockRetryWithBackoff).toHaveBeenCalledTimes(1);
            expect(mockRetryWithBackoff).toHaveBeenCalledWith(expect.any(Function), expect.objectContaining({
                maxRetries: 3,
                initialDelay: 1000,
                backoffMultiplier: 2,
                jitter: true,
                shouldRetry: expect.any(Function),
            }));
        });
        it('ProvisionedThroughputExceededExceptionで再試行する', async () => {
            // Arrange
            const error = new Error('Provisioned throughput exceeded');
            error.name = 'ProvisionedThroughputExceededException';
            // retryWithBackoffの設定を取得
            mockRetryWithBackoff.mockImplementation(async (fn, options) => {
                // shouldRetry関数をテスト
                const shouldRetry = options.shouldRetry;
                expect(shouldRetry(error)).toBe(true);
                return await fn();
            });
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(mockRetryWithBackoff).toHaveBeenCalled();
        });
        it('その他のエラーでは再試行しない', async () => {
            // Arrange
            const error = new Error('Validation error');
            error.name = 'ValidationException';
            // retryWithBackoffの設定を取得
            mockRetryWithBackoff.mockImplementation(async (fn, options) => {
                // shouldRetry関数をテスト
                const shouldRetry = options.shouldRetry;
                expect(shouldRetry(error)).toBe(false);
                return await fn();
            });
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            expect(mockRetryWithBackoff).toHaveBeenCalled();
        });
    });
    describe('エラーハンドリング', () => {
        it('DynamoDBエラーが発生した場合、エラーを伝播する', async () => {
            // Arrange
            const dynamoError = new Error('DynamoDB error');
            dynamoError.name = 'InternalServerError';
            mockRetryWithBackoff.mockRejectedValue(dynamoError);
            // Act & Assert
            await expect((0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId)).rejects.toThrow('DynamoDB error');
        });
        it('ProvisionedThroughputExceededExceptionが発生した場合、再試行後にエラーを伝播する', async () => {
            // Arrange
            const throughputError = new Error('Provisioned throughput exceeded');
            throughputError.name = 'ProvisionedThroughputExceededException';
            mockRetryWithBackoff.mockRejectedValue(throughputError);
            // Act & Assert
            await expect((0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId)).rejects.toThrow('Provisioned throughput exceeded');
        });
        it('ConditionalCheckFailedExceptionが発生した場合、エラーを伝播する', async () => {
            // Arrange
            const conditionalError = new Error('Conditional check failed');
            conditionalError.name = 'ConditionalCheckFailedException';
            mockRetryWithBackoff.mockRejectedValue(conditionalError);
            // Act & Assert
            await expect((0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId)).rejects.toThrow('Conditional check failed');
        });
    });
    describe('環境変数', () => {
        it('EXPORT_STATUS_TABLE_NAMEが使用される', async () => {
            // Arrange
            process.env.EXPORT_STATUS_TABLE_NAME = 'custom-export-table';
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.TableName).toBe('custom-export-table');
        });
        it('EXPORT_STATUS_TABLE_NAMEが未設定の場合、デフォルト値を使用する', async () => {
            // Arrange
            delete process.env.EXPORT_STATUS_TABLE_NAME;
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert
            const command = mockSend.mock.calls[0][0];
            expect(command.input.TableName).toBe('tdnet-export-status');
        });
        it('AWS_REGIONが使用される', async () => {
            // Arrange
            process.env.AWS_REGION = 'us-east-1';
            // Act
            await (0, create_export_job_1.createExportJob)(mockRequestBody, mockRequestId);
            // Assert - DynamoDBClientが正しいリージョンで初期化されることを確認
            // （実際のテストではモックされているため、環境変数が設定されていることを確認）
            expect(process.env.AWS_REGION).toBe('us-east-1');
        });
    });
    describe('フィルター条件のバリエーション', () => {
        it('企業コードのみのフィルターで作成できる', async () => {
            // Arrange
            const requestBody = {
                format: 'json',
                filter: {
                    company_code: '1234',
                },
            };
            // Act
            const result = await (0, create_export_job_1.createExportJob)(requestBody, mockRequestId);
            // Assert
            expect(result.filter).toBe(JSON.stringify({ company_code: '1234' }));
        });
        it('日付範囲のみのフィルターで作成できる', async () => {
            // Arrange
            const requestBody = {
                format: 'json',
                filter: {
                    start_date: '2024-01-01',
                    end_date: '2024-01-31',
                },
            };
            // Act
            const result = await (0, create_export_job_1.createExportJob)(requestBody, mockRequestId);
            // Assert
            expect(result.filter).toBe(JSON.stringify({
                start_date: '2024-01-01',
                end_date: '2024-01-31',
            }));
        });
        it('開示種類のみのフィルターで作成できる', async () => {
            // Arrange
            const requestBody = {
                format: 'json',
                filter: {
                    disclosure_type: '決算短信',
                },
            };
            // Act
            const result = await (0, create_export_job_1.createExportJob)(requestBody, mockRequestId);
            // Assert
            expect(result.filter).toBe(JSON.stringify({ disclosure_type: '決算短信' }));
        });
        it('空のフィルターで作成できる', async () => {
            // Arrange
            const requestBody = {
                format: 'json',
                filter: {},
            };
            // Act
            const result = await (0, create_export_job_1.createExportJob)(requestBody, mockRequestId);
            // Assert
            expect(result.filter).toBe(JSON.stringify({}));
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcc3JjXFxsYW1iZGFcXGV4cG9ydFxcX190ZXN0c19fXFxjcmVhdGUtZXhwb3J0LWpvYi50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOztBQVFILElBQUksQ0FBQyxJQUFJLENBQUMsMEJBQTBCLEVBQUUsR0FBRyxFQUFFO0lBQ3pDLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsMEJBQTBCLENBQUMsQ0FBQztJQUNwRSxPQUFPO1FBQ0wsR0FBRyxZQUFZO1FBQ2YsY0FBYyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBQ2xELElBQUksRUFBRSxRQUFRO1NBQ2YsQ0FBQyxDQUFDO0tBQ0osQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sRUFBRTtRQUNOLElBQUksRUFBRSxjQUFjO1FBQ3BCLEtBQUssRUFBRSxlQUFlO0tBQ3ZCO0NBQ0YsQ0FBQyxDQUFDLENBQUM7QUFFSixJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFzQixFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDdkMsZ0JBQWdCLEVBQUUsb0JBQW9CO0NBQ3ZDLENBQUMsQ0FBQyxDQUFDO0FBekJKLHNCQUFzQjtBQUN0QixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7QUFDM0IsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7QUFDdkMsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO0FBQ2pDLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztBQXVCbEMsNERBQXVEO0FBRXZELDhEQUEwRDtBQUUxRCxRQUFRLENBQUMsaUJBQWlC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c19vcG9wb1xcc3JjXFxsYW1iZGFcXGV4cG9ydFxcX190ZXN0c19fXFxjcmVhdGUtZXhwb3J0LWpvYi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGUgRXhwb3J0IEpvYiBVbml0IFRlc3RzXHJcbiAqXHJcbiAqIFJlcXVpcmVtZW50czog6KaB5Lu2MTQuMe+8iOODpuODi+ODg+ODiOODhuOCueODiO+8iVxyXG4gKi9cclxuXHJcbi8vIOODouODg+OCr+ioreWumu+8iGltcG9ydOOCiOOCiuWJjeOBq+Wumue+qe+8iVxyXG5jb25zdCBtb2NrU2VuZCA9IGplc3QuZm4oKTtcclxuY29uc3QgbW9ja1JldHJ5V2l0aEJhY2tvZmYgPSBqZXN0LmZuKCk7XHJcbmNvbnN0IG1vY2tMb2dnZXJJbmZvID0gamVzdC5mbigpO1xyXG5jb25zdCBtb2NrTG9nZ2VyRXJyb3IgPSBqZXN0LmZuKCk7XHJcblxyXG5qZXN0Lm1vY2soJ0Bhd3Mtc2RrL2NsaWVudC1keW5hbW9kYicsICgpID0+IHtcclxuICBjb25zdCBhY3R1YWxNb2R1bGUgPSBqZXN0LnJlcXVpcmVBY3R1YWwoJ0Bhd3Mtc2RrL2NsaWVudC1keW5hbW9kYicpO1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5hY3R1YWxNb2R1bGUsXHJcbiAgICBEeW5hbW9EQkNsaWVudDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICBzZW5kOiBtb2NrU2VuZCxcclxuICAgIH0pKSxcclxuICB9O1xyXG59KTtcclxuXHJcbmplc3QubW9jaygnLi4vLi4vLi4vdXRpbHMvbG9nZ2VyJywgKCkgPT4gKHtcclxuICBsb2dnZXI6IHtcclxuICAgIGluZm86IG1vY2tMb2dnZXJJbmZvLFxyXG4gICAgZXJyb3I6IG1vY2tMb2dnZXJFcnJvcixcclxuICB9LFxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJy4uLy4uLy4uL3V0aWxzL3JldHJ5JywgKCkgPT4gKHtcclxuICByZXRyeVdpdGhCYWNrb2ZmOiBtb2NrUmV0cnlXaXRoQmFja29mZixcclxufSkpO1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlRXhwb3J0Sm9iIH0gZnJvbSAnLi4vY3JlYXRlLWV4cG9ydC1qb2InO1xyXG5pbXBvcnQgeyBFeHBvcnRSZXF1ZXN0Qm9keSB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgUHV0SXRlbUNvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtZHluYW1vZGInO1xyXG5cclxuZGVzY3JpYmUoJ2NyZWF0ZUV4cG9ydEpvYicsICgpID0+IHtcclxuICBjb25zdCBtb2NrUmVxdWVzdEJvZHk6IEV4cG9ydFJlcXVlc3RCb2R5ID0ge1xyXG4gICAgZm9ybWF0OiAnanNvbicsXHJcbiAgICBmaWx0ZXI6IHtcclxuICAgICAgY29tcGFueV9jb2RlOiAnMTIzNCcsXHJcbiAgICAgIHN0YXJ0X2RhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgZW5kX2RhdGU6ICcyMDI0LTAxLTMxJyxcclxuICAgICAgZGlzY2xvc3VyZV90eXBlOiAn5rG6566X55+t5L+hJyxcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbW9ja1JlcXVlc3RJZCA9ICd0ZXN0LXJlcXVlc3QtaWQtMTIzNDU2NzgnO1xyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICAgbW9ja1NlbmQubW9ja0NsZWFyKCk7XHJcbiAgICBtb2NrUmV0cnlXaXRoQmFja29mZi5tb2NrQ2xlYXIoKTtcclxuICAgIG1vY2tMb2dnZXJJbmZvLm1vY2tDbGVhcigpO1xyXG4gICAgbW9ja0xvZ2dlckVycm9yLm1vY2tDbGVhcigpO1xyXG5cclxuICAgIC8vIOODh+ODleOCqeODq+ODiOOBp3JldHJ5V2l0aEJhY2tvZmbjga/muKHjgZXjgozjgZ/plqLmlbDjgpLlrp/ooYxcclxuICAgIG1vY2tSZXRyeVdpdGhCYWNrb2ZmLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoZm4pID0+IGF3YWl0IGZuKCkpO1xyXG5cclxuICAgIC8vIOODh+ODleOCqeODq+ODiOOBp0R5bmFtb0RC5pON5L2c44Gv5oiQ5YqfXHJcbiAgICBtb2NrU2VuZC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICRtZXRhZGF0YTogeyBodHRwU3RhdHVzQ29kZTogMjAwIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDnkrDlooPlpInmlbDoqK3lrppcclxuICAgIHByb2Nlc3MuZW52LkVYUE9SVF9TVEFUVVNfVEFCTEVfTkFNRSA9ICd0ZXN0LWV4cG9ydC1zdGF0dXMtdGFibGUnO1xyXG4gICAgcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTiA9ICdhcC1ub3J0aGVhc3QtMSc7XHJcblxyXG4gICAgLy8gRGF0ZS5ub3coKeOCkuODouODg+OCr++8iOS4gOiyq+OBl+OBn+OCv+OCpOODoOOCueOCv+ODs+ODl++8iVxyXG4gICAgamVzdC5zcHlPbihEYXRlLCAnbm93JykubW9ja1JldHVyblZhbHVlKDE3MDUzMDU2MDAwMDApOyAvLyAyMDI0LTAxLTE1IDEwOjAwOjAwIFVUQ1xyXG4gICAgamVzdC5zcHlPbihEYXRlLnByb3RvdHlwZSwgJ3RvSVNPU3RyaW5nJykubW9ja1JldHVyblZhbHVlKCcyMDI0LTAxLTE1VDEwOjAwOjAwLjAwMFonKTtcclxuICAgIGplc3Quc3B5T24oTWF0aCwgJ3JhbmRvbScpLm1vY2tSZXR1cm5WYWx1ZSgwLjEyMzQ1Nik7IC8vIOS4gOiyq+OBl+OBn+ODqeODs+ODgOODoOWApFxyXG4gIH0pO1xyXG5cclxuICBhZnRlckVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5yZXN0b3JlQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+OCqOOCr+OCueODneODvOODiOOCuOODp+ODluS9nOaIkOaIkOWKnycsICgpID0+IHtcclxuICAgIGl0KCfjgqjjgq/jgrnjg53jg7zjg4jjgrjjg6fjg5bjgpLmraPluLjjgavkvZzmiJDjgafjgY3jgosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVFeHBvcnRKb2IobW9ja1JlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoT2JqZWN0KHtcclxuICAgICAgICBleHBvcnRfaWQ6IGV4cGVjdC5zdHJpbmdNYXRjaGluZygvXmV4cG9ydF9cXGQrX1thLXowLTldK19bYS16MC05XSskLyksXHJcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICAgICAgcmVxdWVzdGVkX2F0OiAnMjAyNC0wMS0xNVQxMDowMDowMC4wMDBaJyxcclxuICAgICAgICBwcm9ncmVzczogMCxcclxuICAgICAgICBmb3JtYXQ6ICdqc29uJyxcclxuICAgICAgICBmaWx0ZXI6IEpTT04uc3RyaW5naWZ5KG1vY2tSZXF1ZXN0Qm9keS5maWx0ZXIpLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudHRsKS50b0JlR3JlYXRlclRoYW4oRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ0R5bmFtb0RC44GrUHV0SXRlbUNvbW1hbmTjgpLpgIHkv6HjgZnjgosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBhd2FpdCBjcmVhdGVFeHBvcnRKb2IobW9ja1JlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja1NlbmQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBtb2NrU2VuZC5tb2NrLmNhbGxzWzBdWzBdIGFzIFB1dEl0ZW1Db21tYW5kO1xyXG4gICAgICBleHBlY3QoY29tbWFuZCkudG9CZUluc3RhbmNlT2YoUHV0SXRlbUNvbW1hbmQpO1xyXG4gICAgICBleHBlY3QoY29tbWFuZC5pbnB1dC5UYWJsZU5hbWUpLnRvQmUoJ3Rlc3QtZXhwb3J0LXN0YXR1cy10YWJsZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+ODreOCsOOBq+S9nOaIkOmWi+Wni+OBqOWujOS6huOCkuiomOmMsuOBmeOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChtb2NrTG9nZ2VySW5mbykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ0NyZWF0aW5nIGV4cG9ydCBqb2InLFxyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcclxuICAgICAgICAgIGV4cG9ydF9pZDogZXhwZWN0LnN0cmluZ01hdGNoaW5nKC9eZXhwb3J0X1xcZCtfW2EtejAtOV0rX1thLXowLTldKyQvKSxcclxuICAgICAgICAgIGZvcm1hdDogJ2pzb24nLFxyXG4gICAgICAgICAgZmlsdGVyOiBtb2NrUmVxdWVzdEJvZHkuZmlsdGVyLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja0xvZ2dlckluZm8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICdFeHBvcnQgam9iIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XHJcbiAgICAgICAgICBleHBvcnRfaWQ6IGV4cGVjdC5zdHJpbmdNYXRjaGluZygvXmV4cG9ydF9cXGQrX1thLXowLTldK19bYS16MC05XSskLyksXHJcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfjgqjjgq/jgrnjg53jg7zjg4hJROeUn+aIkCcsICgpID0+IHtcclxuICAgIGl0KCfjgqjjgq/jgrnjg53jg7zjg4hJROOBjOato+OBl+OBhOODleOCqeODvOODnuODg+ODiOOBp+eUn+aIkOOBleOCjOOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIC8vIOODleOCqeODvOODnuODg+ODiDogZXhwb3J0X+OCv+OCpOODoOOCueOCv+ODs+ODl1/jg6njg7Pjg4Djg6DmloflrZfliJdf44Oq44Kv44Ko44K544OISUTlhYjpoK045paH5a2XXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXhwb3J0X2lkKS50b01hdGNoKC9eZXhwb3J0X1xcZCtfW2EtejAtOV0rX1thLXowLTldezh9JC8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+OCqOOCr+OCueODneODvOODiElE44Gr44K/44Kk44Og44K544K/44Oz44OX44GM5ZCr44G+44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KHJlc3VsdC5leHBvcnRfaWQpLnRvQ29udGFpbignMTcwNTMwNTYwMDAwMCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+OCqOOCr+OCueODneODvOODiElE44Gr44Oq44Kv44Ko44K544OISUTjga7lhYjpoK045paH5a2X44GM5ZCr44G+44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KHJlc3VsdC5leHBvcnRfaWQpLnRvQ29udGFpbigndGVzdC1yZXEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfnlbDjgarjgovjg6rjgq/jgqjjgrnjg4hJROOBp+eVsOOBquOCi+OCqOOCr+OCueODneODvOODiElE44GM55Sf5oiQ44GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IHJlcXVlc3RJZDEgPSAncmVxdWVzdC1pZC0xLTEyMzQ1Njc4JztcclxuICAgICAgY29uc3QgcmVxdWVzdElkMiA9ICdyZXF1ZXN0LWlkLTItODc2NTQzMjEnO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBjcmVhdGVFeHBvcnRKb2IobW9ja1JlcXVlc3RCb2R5LCByZXF1ZXN0SWQxKTtcclxuICAgICAgXHJcbiAgICAgIC8vIDLlm57nm67jga7lkbzjgbPlh7rjgZfjgafnlbDjgarjgovjg6njg7Pjg4Djg6DlgKTjgpLov5TjgZlcclxuICAgICAgamVzdC5zcHlPbihNYXRoLCAncmFuZG9tJykubW9ja1JldHVyblZhbHVlKDAuOTg3NjU0KTtcclxuICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIHJlcXVlc3RJZDIpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChyZXN1bHQxLmV4cG9ydF9pZCkubm90LnRvQmUocmVzdWx0Mi5leHBvcnRfaWQpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdEeW5hbW9EQuS/neWtmCcsICgpID0+IHtcclxuICAgIGl0KCfjgrnjg4bjg7zjgr/jgrnjgYxwZW5kaW5n44Gn5L+d5a2Y44GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgY29uc3QgY29tbWFuZCA9IG1vY2tTZW5kLm1vY2suY2FsbHNbMF1bMF0gYXMgUHV0SXRlbUNvbW1hbmQ7XHJcbiAgICAgIGV4cGVjdChjb21tYW5kLmlucHV0Lkl0ZW0/LnN0YXR1cykudG9FcXVhbCh7IFM6ICdwZW5kaW5nJyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfpgLLmjZfnjofjgYww44Gn5L+d5a2Y44GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgY29uc3QgY29tbWFuZCA9IG1vY2tTZW5kLm1vY2suY2FsbHNbMF1bMF0gYXMgUHV0SXRlbUNvbW1hbmQ7XHJcbiAgICAgIGV4cGVjdChjb21tYW5kLmlucHV0Lkl0ZW0/LnByb2dyZXNzKS50b0VxdWFsKHsgTjogJzAnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+ODquOCr+OCqOOCueODiOaXpeaZguOBjElTTyA4NjAx5b2i5byP44Gn5L+d5a2Y44GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgY29uc3QgY29tbWFuZCA9IG1vY2tTZW5kLm1vY2suY2FsbHNbMF1bMF0gYXMgUHV0SXRlbUNvbW1hbmQ7XHJcbiAgICAgIGV4cGVjdChjb21tYW5kLmlucHV0Lkl0ZW0/LnJlcXVlc3RlZF9hdCkudG9FcXVhbCh7IFM6ICcyMDI0LTAxLTE1VDEwOjAwOjAwLjAwMFonIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+ODleOCqeODvOODnuODg+ODiOOBjOS/neWtmOOBleOCjOOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBtb2NrU2VuZC5tb2NrLmNhbGxzWzBdWzBdIGFzIFB1dEl0ZW1Db21tYW5kO1xyXG4gICAgICBleHBlY3QoY29tbWFuZC5pbnB1dC5JdGVtPy5mb3JtYXQpLnRvRXF1YWwoeyBTOiAnanNvbicgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn44OV44Kj44Or44K/44O844GMSlNPTuaWh+Wtl+WIl+OBqOOBl+OBpuS/neWtmOOBleOCjOOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBtb2NrU2VuZC5tb2NrLmNhbGxzWzBdWzBdIGFzIFB1dEl0ZW1Db21tYW5kO1xyXG4gICAgICBleHBlY3QoY29tbWFuZC5pbnB1dC5JdGVtPy5maWx0ZXIpLnRvRXF1YWwoe1xyXG4gICAgICAgIFM6IEpTT04uc3RyaW5naWZ5KG1vY2tSZXF1ZXN0Qm9keS5maWx0ZXIpLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdDU1blvaLlvI/jga7jg6rjgq/jgqjjgrnjg4jjgoLmraPjgZfjgY/kv53lrZjjgZXjgozjgosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgY3N2UmVxdWVzdEJvZHk6IEV4cG9ydFJlcXVlc3RCb2R5ID0ge1xyXG4gICAgICAgIGZvcm1hdDogJ2NzdicsXHJcbiAgICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgICBzdGFydF9kYXRlOiAnMjAyNC0wMS0wMScsXHJcbiAgICAgICAgICBlbmRfZGF0ZTogJzIwMjQtMDEtMzEnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKGNzdlJlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBjb25zdCBjb21tYW5kID0gbW9ja1NlbmQubW9jay5jYWxsc1swXVswXSBhcyBQdXRJdGVtQ29tbWFuZDtcclxuICAgICAgZXhwZWN0KGNvbW1hbmQuaW5wdXQuSXRlbT8uZm9ybWF0KS50b0VxdWFsKHsgUzogJ2NzdicgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1RUTOioreWumicsICgpID0+IHtcclxuICAgIGl0KCdUVEzjgYwzMOaXpeW+jOOBq+ioreWumuOBleOCjOOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpIC8gMTAwMDsgLy8gVW5peCB0aW1lc3RhbXAgKOenkilcclxuICAgICAgY29uc3QgZXhwZWN0ZWRUdGwgPSBub3cgKyAzMCAqIDI0ICogNjAgKiA2MDsgLy8gMzDml6XlvoxcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVFeHBvcnRKb2IobW9ja1JlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QocmVzdWx0LnR0bCkudG9CZUNsb3NlVG8oZXhwZWN0ZWRUdGwsIDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ1RUTOOBjER5bmFtb0RC44Gr5L+d5a2Y44GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgY29uc3QgY29tbWFuZCA9IG1vY2tTZW5kLm1vY2suY2FsbHNbMF1bMF0gYXMgUHV0SXRlbUNvbW1hbmQ7XHJcbiAgICAgIGV4cGVjdChjb21tYW5kLmlucHV0Lkl0ZW0/LnR0bCkudG9FcXVhbCh7XHJcbiAgICAgICAgTjogZXhwZWN0LnN0cmluZ01hdGNoaW5nKC9eXFxkKyQvKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB0dGxWYWx1ZSA9IHBhcnNlSW50KGNvbW1hbmQuaW5wdXQuSXRlbT8udHRsPy5OIHx8ICcwJywgMTApO1xyXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpIC8gMTAwMDtcclxuICAgICAgY29uc3QgZXhwZWN0ZWRUdGwgPSBub3cgKyAzMCAqIDI0ICogNjAgKiA2MDtcclxuICAgICAgZXhwZWN0KHR0bFZhbHVlKS50b0JlQ2xvc2VUbyhleHBlY3RlZFR0bCwgMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NvbmRpdGlvbkV4cHJlc3Npb27vvIjph43opIfpmLLmraLvvIknLCAoKSA9PiB7XHJcbiAgICBpdCgnQ29uZGl0aW9uRXhwcmVzc2lvbuOBjOioreWumuOBleOCjOOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGNvbnN0IGNvbW1hbmQgPSBtb2NrU2VuZC5tb2NrLmNhbGxzWzBdWzBdIGFzIFB1dEl0ZW1Db21tYW5kO1xyXG4gICAgICBleHBlY3QoY29tbWFuZC5pbnB1dC5Db25kaXRpb25FeHByZXNzaW9uKS50b0JlKCdhdHRyaWJ1dGVfbm90X2V4aXN0cyhleHBvcnRfaWQpJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+WGjeippuihjOioreWumicsICgpID0+IHtcclxuICAgIGl0KCdyZXRyeVdpdGhCYWNrb2Zm44GM5ZG844Gz5Ye644GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KG1vY2tSZXRyeVdpdGhCYWNrb2ZmKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcbiAgICAgIGV4cGVjdChtb2NrUmV0cnlXaXRoQmFja29mZikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgZXhwZWN0LmFueShGdW5jdGlvbiksXHJcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgICAgbWF4UmV0cmllczogMyxcclxuICAgICAgICAgIGluaXRpYWxEZWxheTogMTAwMCxcclxuICAgICAgICAgIGJhY2tvZmZNdWx0aXBsaWVyOiAyLFxyXG4gICAgICAgICAgaml0dGVyOiB0cnVlLFxyXG4gICAgICAgICAgc2hvdWxkUmV0cnk6IGV4cGVjdC5hbnkoRnVuY3Rpb24pLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnUHJvdmlzaW9uZWRUaHJvdWdocHV0RXhjZWVkZWRFeGNlcHRpb27jgaflho3oqabooYzjgZnjgosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Byb3Zpc2lvbmVkIHRocm91Z2hwdXQgZXhjZWVkZWQnKTtcclxuICAgICAgZXJyb3IubmFtZSA9ICdQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvbic7XHJcblxyXG4gICAgICAvLyByZXRyeVdpdGhCYWNrb2Zm44Gu6Kit5a6a44KS5Y+W5b6XXHJcbiAgICAgIG1vY2tSZXRyeVdpdGhCYWNrb2ZmLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoZm4sIG9wdGlvbnMpID0+IHtcclxuICAgICAgICAvLyBzaG91bGRSZXRyeemWouaVsOOCkuODhuOCueODiFxyXG4gICAgICAgIGNvbnN0IHNob3VsZFJldHJ5ID0gb3B0aW9ucy5zaG91bGRSZXRyeTtcclxuICAgICAgICBleHBlY3Qoc2hvdWxkUmV0cnkoZXJyb3IpKS50b0JlKHRydWUpO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBhd2FpdCBjcmVhdGVFeHBvcnRKb2IobW9ja1JlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja1JldHJ5V2l0aEJhY2tvZmYpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfjgZ3jga7ku5bjga7jgqjjg6njg7zjgafjga/lho3oqabooYzjgZfjgarjgYQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZXJyb3InKTtcclxuICAgICAgZXJyb3IubmFtZSA9ICdWYWxpZGF0aW9uRXhjZXB0aW9uJztcclxuXHJcbiAgICAgIC8vIHJldHJ5V2l0aEJhY2tvZmbjga7oqK3lrprjgpLlj5blvpdcclxuICAgICAgbW9ja1JldHJ5V2l0aEJhY2tvZmYubW9ja0ltcGxlbWVudGF0aW9uKGFzeW5jIChmbiwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIC8vIHNob3VsZFJldHJ56Zai5pWw44KS44OG44K544OIXHJcbiAgICAgICAgY29uc3Qgc2hvdWxkUmV0cnkgPSBvcHRpb25zLnNob3VsZFJldHJ5O1xyXG4gICAgICAgIGV4cGVjdChzaG91bGRSZXRyeShlcnJvcikpLnRvQmUoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBhd2FpdCBjcmVhdGVFeHBvcnRKb2IobW9ja1JlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja1JldHJ5V2l0aEJhY2tvZmYpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn44Ko44Op44O844OP44Oz44OJ44Oq44Oz44KwJywgKCkgPT4ge1xyXG4gICAgaXQoJ0R5bmFtb0RC44Ko44Op44O844GM55m655Sf44GX44Gf5aC05ZCI44CB44Ko44Op44O844KS5Lyd5pKt44GZ44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGR5bmFtb0Vycm9yID0gbmV3IEVycm9yKCdEeW5hbW9EQiBlcnJvcicpO1xyXG4gICAgICBkeW5hbW9FcnJvci5uYW1lID0gJ0ludGVybmFsU2VydmVyRXJyb3InO1xyXG4gICAgICBtb2NrUmV0cnlXaXRoQmFja29mZi5tb2NrUmVqZWN0ZWRWYWx1ZShkeW5hbW9FcnJvcik7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpKS5yZWplY3RzLnRvVGhyb3coXHJcbiAgICAgICAgJ0R5bmFtb0RCIGVycm9yJ1xyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ1Byb3Zpc2lvbmVkVGhyb3VnaHB1dEV4Y2VlZGVkRXhjZXB0aW9u44GM55m655Sf44GX44Gf5aC05ZCI44CB5YaN6Kmm6KGM5b6M44Gr44Ko44Op44O844KS5Lyd5pKt44GZ44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IHRocm91Z2hwdXRFcnJvciA9IG5ldyBFcnJvcignUHJvdmlzaW9uZWQgdGhyb3VnaHB1dCBleGNlZWRlZCcpO1xyXG4gICAgICB0aHJvdWdocHV0RXJyb3IubmFtZSA9ICdQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvbic7XHJcbiAgICAgIG1vY2tSZXRyeVdpdGhCYWNrb2ZmLm1vY2tSZWplY3RlZFZhbHVlKHRocm91Z2hwdXRFcnJvcik7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpKS5yZWplY3RzLnRvVGhyb3coXHJcbiAgICAgICAgJ1Byb3Zpc2lvbmVkIHRocm91Z2hwdXQgZXhjZWVkZWQnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnQ29uZGl0aW9uYWxDaGVja0ZhaWxlZEV4Y2VwdGlvbuOBjOeZuueUn+OBl+OBn+WgtOWQiOOAgeOCqOODqeODvOOCkuS8neaSreOBmeOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBjb25kaXRpb25hbEVycm9yID0gbmV3IEVycm9yKCdDb25kaXRpb25hbCBjaGVjayBmYWlsZWQnKTtcclxuICAgICAgY29uZGl0aW9uYWxFcnJvci5uYW1lID0gJ0NvbmRpdGlvbmFsQ2hlY2tGYWlsZWRFeGNlcHRpb24nO1xyXG4gICAgICBtb2NrUmV0cnlXaXRoQmFja29mZi5tb2NrUmVqZWN0ZWRWYWx1ZShjb25kaXRpb25hbEVycm9yKTtcclxuXHJcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxyXG4gICAgICBhd2FpdCBleHBlY3QoY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCkpLnJlamVjdHMudG9UaHJvdyhcclxuICAgICAgICAnQ29uZGl0aW9uYWwgY2hlY2sgZmFpbGVkJ1xyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfnkrDlooPlpInmlbAnLCAoKSA9PiB7XHJcbiAgICBpdCgnRVhQT1JUX1NUQVRVU19UQUJMRV9OQU1F44GM5L2/55So44GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIHByb2Nlc3MuZW52LkVYUE9SVF9TVEFUVVNfVEFCTEVfTkFNRSA9ICdjdXN0b20tZXhwb3J0LXRhYmxlJztcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBhd2FpdCBjcmVhdGVFeHBvcnRKb2IobW9ja1JlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBjb25zdCBjb21tYW5kID0gbW9ja1NlbmQubW9jay5jYWxsc1swXVswXSBhcyBQdXRJdGVtQ29tbWFuZDtcclxuICAgICAgZXhwZWN0KGNvbW1hbmQuaW5wdXQuVGFibGVOYW1lKS50b0JlKCdjdXN0b20tZXhwb3J0LXRhYmxlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnRVhQT1JUX1NUQVRVU19UQUJMRV9OQU1F44GM5pyq6Kit5a6a44Gu5aC05ZCI44CB44OH44OV44Kp44Or44OI5YCk44KS5L2/55So44GZ44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5FWFBPUlRfU1RBVFVTX1RBQkxFX05BTUU7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKG1vY2tSZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgY29uc3QgY29tbWFuZCA9IG1vY2tTZW5kLm1vY2suY2FsbHNbMF1bMF0gYXMgUHV0SXRlbUNvbW1hbmQ7XHJcbiAgICAgIGV4cGVjdChjb21tYW5kLmlucHV0LlRhYmxlTmFtZSkudG9CZSgndGRuZXQtZXhwb3J0LXN0YXR1cycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ0FXU19SRUdJT07jgYzkvb/nlKjjgZXjgozjgosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTiA9ICd1cy1lYXN0LTEnO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihtb2NrUmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0IC0gRHluYW1vREJDbGllbnTjgYzmraPjgZfjgYTjg6rjg7zjgrjjg6fjg7PjgafliJ3mnJ/ljJbjgZXjgozjgovjgZPjgajjgpLnorroqo1cclxuICAgICAgLy8g77yI5a6f6Zqb44Gu44OG44K544OI44Gn44Gv44Oi44OD44Kv44GV44KM44Gm44GE44KL44Gf44KB44CB55Kw5aKD5aSJ5pWw44GM6Kit5a6a44GV44KM44Gm44GE44KL44GT44Go44KS56K66KqN77yJXHJcbiAgICAgIGV4cGVjdChwcm9jZXNzLmVudi5BV1NfUkVHSU9OKS50b0JlKCd1cy1lYXN0LTEnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn44OV44Kj44Or44K/44O85p2h5Lu244Gu44OQ44Oq44Ko44O844K344On44OzJywgKCkgPT4ge1xyXG4gICAgaXQoJ+S8gealreOCs+ODvOODieOBruOBv+OBruODleOCo+ODq+OCv+ODvOOBp+S9nOaIkOOBp+OBjeOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCByZXF1ZXN0Qm9keTogRXhwb3J0UmVxdWVzdEJvZHkgPSB7XHJcbiAgICAgICAgZm9ybWF0OiAnanNvbicsXHJcbiAgICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgICBjb21wYW55X2NvZGU6ICcxMjM0JyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihyZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KHJlc3VsdC5maWx0ZXIpLnRvQmUoSlNPTi5zdHJpbmdpZnkoeyBjb21wYW55X2NvZGU6ICcxMjM0JyB9KSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5pel5LuY56+E5Zuy44Gu44G/44Gu44OV44Kj44Or44K/44O844Gn5L2c5oiQ44Gn44GN44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5OiBFeHBvcnRSZXF1ZXN0Qm9keSA9IHtcclxuICAgICAgICBmb3JtYXQ6ICdqc29uJyxcclxuICAgICAgICBmaWx0ZXI6IHtcclxuICAgICAgICAgIHN0YXJ0X2RhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGVuZF9kYXRlOiAnMjAyNC0wMS0zMScsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVFeHBvcnRKb2IocmVxdWVzdEJvZHksIG1vY2tSZXF1ZXN0SWQpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZmlsdGVyKS50b0JlKFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHN0YXJ0X2RhdGU6ICcyMDI0LTAxLTAxJyxcclxuICAgICAgICAgIGVuZF9kYXRlOiAnMjAyNC0wMS0zMScsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfplovnpLrnqK7poZ7jga7jgb/jga7jg5XjgqPjg6vjgr/jg7zjgafkvZzmiJDjgafjgY3jgosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgcmVxdWVzdEJvZHk6IEV4cG9ydFJlcXVlc3RCb2R5ID0ge1xyXG4gICAgICAgIGZvcm1hdDogJ2pzb24nLFxyXG4gICAgICAgIGZpbHRlcjoge1xyXG4gICAgICAgICAgZGlzY2xvc3VyZV90eXBlOiAn5rG6566X55+t5L+hJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUV4cG9ydEpvYihyZXF1ZXN0Qm9keSwgbW9ja1JlcXVlc3RJZCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KHJlc3VsdC5maWx0ZXIpLnRvQmUoSlNPTi5zdHJpbmdpZnkoeyBkaXNjbG9zdXJlX3R5cGU6ICfmsbrnrpfnn63kv6EnIH0pKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCfnqbrjga7jg5XjgqPjg6vjgr/jg7zjgafkvZzmiJDjgafjgY3jgosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgcmVxdWVzdEJvZHk6IEV4cG9ydFJlcXVlc3RCb2R5ID0ge1xyXG4gICAgICAgIGZvcm1hdDogJ2pzb24nLFxyXG4gICAgICAgIGZpbHRlcjoge30sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlRXhwb3J0Sm9iKHJlcXVlc3RCb2R5LCBtb2NrUmVxdWVzdElkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QocmVzdWx0LmZpbHRlcikudG9CZShKU09OLnN0cmluZ2lmeSh7fSkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwidmVyc2lvbiI6M30=