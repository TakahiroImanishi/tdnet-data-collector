a9948bd2fed20d04af0dd1f282eb2611
"use strict";
/**
 * 実行状態の進捗単調性テスト
 *
 * Property 11: 実行状態の進捗単調性
 * Validates: Requirements 5.4
 *
 * 進捗率が単調増加（0 → 100）し、減少しないことを検証します。
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const client_dynamodb_1 = require("@aws-sdk/client-dynamodb");
const aws_sdk_client_mock_1 = require("aws-sdk-client-mock");
const fc = __importStar(require("fast-check"));
const update_execution_status_1 = require("../update-execution-status");
const dynamoMock = (0, aws_sdk_client_mock_1.mockClient)(client_dynamodb_1.DynamoDBClient);
describe('Property 11: 実行状態の進捗単調性', () => {
    beforeEach(() => {
        jest.clearAllMocks();
        dynamoMock.reset();
        process.env.DYNAMODB_EXECUTIONS_TABLE = 'test-executions-table';
    });
    describe('ユニットテスト', () => {
        it('進捗率が0から100まで単調増加する', async () => {
            // Arrange
            const execution_id = 'exec_test_001';
            dynamoMock.on(client_dynamodb_1.PutItemCommand).resolves({});
            // Act & Assert
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'pending', 0);
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'running', 25);
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'running', 50);
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'running', 75);
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'completed', 100);
            // 5回の更新が行われた
            expect(dynamoMock.calls()).toHaveLength(5);
            // 各呼び出しで進捗率が増加していることを確認
            const calls = dynamoMock.calls();
            const progresses = calls.map(call => {
                const input = call.args[0].input;
                return parseInt(input.Item.progress.N);
            });
            // 進捗率が単調増加
            for (let i = 1; i < progresses.length; i++) {
                expect(progresses[i]).toBeGreaterThanOrEqual(progresses[i - 1]);
            }
        });
        it('進捗率が100を超えない', async () => {
            // Arrange
            const execution_id = 'exec_test_002';
            dynamoMock.on(client_dynamodb_1.PutItemCommand).resolves({});
            // Act
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'completed', 150); // 100を超える値
            // Assert
            const call = dynamoMock.call(0);
            const input = call.args[0].input;
            expect(parseInt(input.Item.progress.N)).toBe(100); // 100に制限される
        });
        it('進捗率が0未満にならない', async () => {
            // Arrange
            const execution_id = 'exec_test_003';
            dynamoMock.on(client_dynamodb_1.PutItemCommand).resolves({});
            // Act
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'pending', -10); // 負の値
            // Assert
            const call = dynamoMock.call(0);
            const input = call.args[0].input;
            expect(parseInt(input.Item.progress.N)).toBe(0); // 0に制限される
        });
        it('ステータスがpending → running → completedの順に遷移する', async () => {
            // Arrange
            const execution_id = 'exec_test_004';
            dynamoMock.on(client_dynamodb_1.PutItemCommand).resolves({});
            // Act
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'pending', 0);
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'running', 50);
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'completed', 100);
            // Assert
            const calls = dynamoMock.calls();
            const statuses = calls.map(call => {
                const input = call.args[0].input;
                return input.Item.status.S;
            });
            expect(statuses).toEqual(['pending', 'running', 'completed']);
        });
        it('失敗時にエラーメッセージが記録される', async () => {
            // Arrange
            const execution_id = 'exec_test_005';
            const error_message = 'Network error occurred';
            dynamoMock.on(client_dynamodb_1.PutItemCommand).resolves({});
            // Act
            await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'failed', 50, 10, 5, error_message);
            // Assert
            const call = dynamoMock.call(0);
            const input = call.args[0].input;
            expect(input.Item.status.S).toBe('failed');
            expect(input.Item.error_message.S).toBe(error_message);
            expect(parseInt(input.Item.collected_count.N)).toBe(10);
            expect(parseInt(input.Item.failed_count.N)).toBe(5);
        });
    });
    describe('プロパティベーステスト', () => {
        it('任意の進捗率シーケンスで単調性が保たれる', async () => {
            await fc.assert(fc.asyncProperty(fc.array(fc.integer({ min: 0, max: 100 }), { minLength: 2, maxLength: 10 }), async (progressValues) => {
                // Arrange
                dynamoMock.reset();
                dynamoMock.on(client_dynamodb_1.PutItemCommand).resolves({});
                const execution_id = `exec_test_${Math.random().toString(36).substring(7)}`;
                // ソートして単調増加にする
                const sortedProgress = [...progressValues].sort((a, b) => a - b);
                // Act
                for (const progress of sortedProgress) {
                    const status = progress === 0 ? 'pending' : progress === 100 ? 'completed' : 'running';
                    await (0, update_execution_status_1.updateExecutionStatus)(execution_id, status, progress);
                }
                // Assert
                const calls = dynamoMock.calls();
                const progresses = calls.map(call => {
                    const input = call.args[0].input;
                    return parseInt(input.Item.progress.N);
                });
                // 進捗率が単調増加（または同じ値）
                for (let i = 1; i < progresses.length; i++) {
                    expect(progresses[i]).toBeGreaterThanOrEqual(progresses[i - 1]);
                }
            }), { numRuns: 100 } // 100回反復
            );
        });
        it('任意の実行IDで進捗率が0-100の範囲内に収まる', async () => {
            await fc.assert(fc.asyncProperty(fc.string({ minLength: 10, maxLength: 50 }), fc.integer({ min: -1000, max: 1000 }), // 範囲外の値も含む
            async (execution_id, progress) => {
                // Arrange
                dynamoMock.reset();
                dynamoMock.on(client_dynamodb_1.PutItemCommand).resolves({});
                // Act
                await (0, update_execution_status_1.updateExecutionStatus)(execution_id, 'running', progress);
                // Assert
                const call = dynamoMock.call(0);
                const input = call.args[0].input;
                const actualProgress = parseInt(input.Item.progress.N);
                // 進捗率が0-100の範囲内
                expect(actualProgress).toBeGreaterThanOrEqual(0);
                expect(actualProgress).toBeLessThanOrEqual(100);
            }), { numRuns: 100 } // 100回反復
            );
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcc3JjXFxsYW1iZGFcXGNvbGxlY3RvclxcX190ZXN0c19fXFxleGVjdXRpb24tc3RhdHVzLm1vbm90b25pY2l0eS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7OztHQU9HOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVILDhEQUEwRTtBQUMxRSw2REFBaUQ7QUFDakQsK0NBQWlDO0FBQ2pDLHdFQUFtRTtBQUVuRSxNQUFNLFVBQVUsR0FBRyxJQUFBLGdDQUFVLEVBQUMsZ0NBQWMsQ0FBQyxDQUFDO0FBRTlDLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7SUFDdkMsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQixVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsR0FBRyx1QkFBdUIsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO1FBQ3ZCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNsQyxVQUFVO1lBQ1YsTUFBTSxZQUFZLEdBQUcsZUFBZSxDQUFDO1lBQ3JDLFVBQVUsQ0FBQyxFQUFFLENBQUMsZ0NBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUUzQyxlQUFlO1lBQ2YsTUFBTSxJQUFBLCtDQUFxQixFQUFDLFlBQVksRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDeEQsTUFBTSxJQUFBLCtDQUFxQixFQUFDLFlBQVksRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDekQsTUFBTSxJQUFBLCtDQUFxQixFQUFDLFlBQVksRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDekQsTUFBTSxJQUFBLCtDQUFxQixF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QkFDaEIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqRCxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbEQsQ0FBQyxDQUNGLEVBQ0QsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsU0FBUzthQUMzQixDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGkxOThcXGludmVzdG1lbnRfYW5hbHlzaXNfb3BvcG9cXHNyY1xcbGFtYmRhXFxjb2xsZWN0b3JcXF9fdGVzdHNfX1xcZXhlY3V0aW9uLXN0YXR1cy5tb25vdG9uaWNpdHkudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5a6f6KGM54q25oWL44Gu6YCy5o2X5Y2Y6Kq/5oCn44OG44K544OIXHJcbiAqXHJcbiAqIFByb3BlcnR5IDExOiDlrp/ooYznirbmhYvjga7pgLLmjZfljZjoqr/mgKdcclxuICogVmFsaWRhdGVzOiBSZXF1aXJlbWVudHMgNS40XHJcbiAqXHJcbiAqIOmAsuaNl+eOh+OBjOWNmOiqv+Wil+WKoO+8iDAg4oaSIDEwMO+8ieOBl+OAgea4m+WwkeOBl+OBquOBhOOBk+OBqOOCkuaknOiovOOBl+OBvuOBmeOAglxyXG4gKi9cclxuXHJcbmltcG9ydCB7IER5bmFtb0RCQ2xpZW50LCBQdXRJdGVtQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1keW5hbW9kYic7XHJcbmltcG9ydCB7IG1vY2tDbGllbnQgfSBmcm9tICdhd3Mtc2RrLWNsaWVudC1tb2NrJztcclxuaW1wb3J0ICogYXMgZmMgZnJvbSAnZmFzdC1jaGVjayc7XHJcbmltcG9ydCB7IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyB9IGZyb20gJy4uL3VwZGF0ZS1leGVjdXRpb24tc3RhdHVzJztcclxuXHJcbmNvbnN0IGR5bmFtb01vY2sgPSBtb2NrQ2xpZW50KER5bmFtb0RCQ2xpZW50KTtcclxuXHJcbmRlc2NyaWJlKCdQcm9wZXJ0eSAxMTog5a6f6KGM54q25oWL44Gu6YCy5o2X5Y2Y6Kq/5oCnJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICBkeW5hbW9Nb2NrLnJlc2V0KCk7XHJcbiAgICBwcm9jZXNzLmVudi5EWU5BTU9EQl9FWEVDVVRJT05TX1RBQkxFID0gJ3Rlc3QtZXhlY3V0aW9ucy10YWJsZSc7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfjg6bjg4vjg4Pjg4jjg4bjgrnjg4gnLCAoKSA9PiB7XHJcbiAgICBpdCgn6YCy5o2X546H44GMMOOBi+OCiTEwMOOBvuOBp+WNmOiqv+Wil+WKoOOBmeOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBleGVjdXRpb25faWQgPSAnZXhlY190ZXN0XzAwMSc7XHJcbiAgICAgIGR5bmFtb01vY2sub24oUHV0SXRlbUNvbW1hbmQpLnJlc29sdmVzKHt9KTtcclxuXHJcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxyXG4gICAgICBhd2FpdCB1cGRhdGVFeGVjdXRpb25TdGF0dXMoZXhlY3V0aW9uX2lkLCAncGVuZGluZycsIDApO1xyXG4gICAgICBhd2FpdCB1cGRhdGVFeGVjdXRpb25TdGF0dXMoZXhlY3V0aW9uX2lkLCAncnVubmluZycsIDI1KTtcclxuICAgICAgYXdhaXQgdXBkYXRlRXhlY3V0aW9uU3RhdHVzKGV4ZWN1dGlvbl9pZCwgJ3J1bm5pbmcnLCA1MCk7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyhleGVjdXRpb25faWQsICdydW5uaW5nJywgNzUpO1xyXG4gICAgICBhd2FpdCB1cGRhdGVFeGVjdXRpb25TdGF0dXMoZXhlY3V0aW9uX2lkLCAnY29tcGxldGVkJywgMTAwKTtcclxuXHJcbiAgICAgIC8vIDXlm57jga7mm7TmlrDjgYzooYzjgo/jgozjgZ9cclxuICAgICAgZXhwZWN0KGR5bmFtb01vY2suY2FsbHMoKSkudG9IYXZlTGVuZ3RoKDUpO1xyXG5cclxuICAgICAgLy8g5ZCE5ZG844Gz5Ye644GX44Gn6YCy5o2X546H44GM5aKX5Yqg44GX44Gm44GE44KL44GT44Go44KS56K66KqNXHJcbiAgICAgIGNvbnN0IGNhbGxzID0gZHluYW1vTW9jay5jYWxscygpO1xyXG4gICAgICBjb25zdCBwcm9ncmVzc2VzID0gY2FsbHMubWFwKGNhbGwgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gY2FsbC5hcmdzWzBdLmlucHV0IGFzIGFueTtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQuSXRlbS5wcm9ncmVzcy5OKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDpgLLmjZfnjofjgYzljZjoqr/lopfliqBcclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwcm9ncmVzc2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZXhwZWN0KHByb2dyZXNzZXNbaV0pLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwocHJvZ3Jlc3Nlc1tpIC0gMV0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn6YCy5o2X546H44GMMTAw44KS6LaF44GI44Gq44GEJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGV4ZWN1dGlvbl9pZCA9ICdleGVjX3Rlc3RfMDAyJztcclxuICAgICAgZHluYW1vTW9jay5vbihQdXRJdGVtQ29tbWFuZCkucmVzb2x2ZXMoe30pO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyhleGVjdXRpb25faWQsICdjb21wbGV0ZWQnLCAxNTApOyAvLyAxMDDjgpLotoXjgYjjgovlgKRcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBjb25zdCBjYWxsID0gZHluYW1vTW9jay5jYWxsKDApO1xyXG4gICAgICBjb25zdCBpbnB1dCA9IGNhbGwuYXJnc1swXS5pbnB1dCBhcyBhbnk7XHJcbiAgICAgIGV4cGVjdChwYXJzZUludChpbnB1dC5JdGVtLnByb2dyZXNzLk4pKS50b0JlKDEwMCk7IC8vIDEwMOOBq+WItumZkOOBleOCjOOCi1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+mAsuaNl+eOh+OBjDDmnKrmuoDjgavjgarjgonjgarjgYQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgZXhlY3V0aW9uX2lkID0gJ2V4ZWNfdGVzdF8wMDMnO1xyXG4gICAgICBkeW5hbW9Nb2NrLm9uKFB1dEl0ZW1Db21tYW5kKS5yZXNvbHZlcyh7fSk7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgdXBkYXRlRXhlY3V0aW9uU3RhdHVzKGV4ZWN1dGlvbl9pZCwgJ3BlbmRpbmcnLCAtMTApOyAvLyDosqDjga7lgKRcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBjb25zdCBjYWxsID0gZHluYW1vTW9jay5jYWxsKDApO1xyXG4gICAgICBjb25zdCBpbnB1dCA9IGNhbGwuYXJnc1swXS5pbnB1dCBhcyBhbnk7XHJcbiAgICAgIGV4cGVjdChwYXJzZUludChpbnB1dC5JdGVtLnByb2dyZXNzLk4pKS50b0JlKDApOyAvLyAw44Gr5Yi26ZmQ44GV44KM44KLXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn44K544OG44O844K/44K544GMcGVuZGluZyDihpIgcnVubmluZyDihpIgY29tcGxldGVk44Gu6aCG44Gr6YG356e744GZ44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGV4ZWN1dGlvbl9pZCA9ICdleGVjX3Rlc3RfMDA0JztcclxuICAgICAgZHluYW1vTW9jay5vbihQdXRJdGVtQ29tbWFuZCkucmVzb2x2ZXMoe30pO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyhleGVjdXRpb25faWQsICdwZW5kaW5nJywgMCk7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyhleGVjdXRpb25faWQsICdydW5uaW5nJywgNTApO1xyXG4gICAgICBhd2FpdCB1cGRhdGVFeGVjdXRpb25TdGF0dXMoZXhlY3V0aW9uX2lkLCAnY29tcGxldGVkJywgMTAwKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBjb25zdCBjYWxscyA9IGR5bmFtb01vY2suY2FsbHMoKTtcclxuICAgICAgY29uc3Qgc3RhdHVzZXMgPSBjYWxscy5tYXAoY2FsbCA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSBjYWxsLmFyZ3NbMF0uaW5wdXQgYXMgYW55O1xyXG4gICAgICAgIHJldHVybiBpbnB1dC5JdGVtLnN0YXR1cy5TO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChzdGF0dXNlcykudG9FcXVhbChbJ3BlbmRpbmcnLCAncnVubmluZycsICdjb21wbGV0ZWQnXSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5aSx5pWX5pmC44Gr44Ko44Op44O844Oh44OD44K744O844K444GM6KiY6Yyy44GV44KM44KLJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGV4ZWN1dGlvbl9pZCA9ICdleGVjX3Rlc3RfMDA1JztcclxuICAgICAgY29uc3QgZXJyb3JfbWVzc2FnZSA9ICdOZXR3b3JrIGVycm9yIG9jY3VycmVkJztcclxuICAgICAgZHluYW1vTW9jay5vbihQdXRJdGVtQ29tbWFuZCkucmVzb2x2ZXMoe30pO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyhleGVjdXRpb25faWQsICdmYWlsZWQnLCA1MCwgMTAsIDUsIGVycm9yX21lc3NhZ2UpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGNvbnN0IGNhbGwgPSBkeW5hbW9Nb2NrLmNhbGwoMCk7XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gY2FsbC5hcmdzWzBdLmlucHV0IGFzIGFueTtcclxuICAgICAgZXhwZWN0KGlucHV0Lkl0ZW0uc3RhdHVzLlMpLnRvQmUoJ2ZhaWxlZCcpO1xyXG4gICAgICBleHBlY3QoaW5wdXQuSXRlbS5lcnJvcl9tZXNzYWdlLlMpLnRvQmUoZXJyb3JfbWVzc2FnZSk7XHJcbiAgICAgIGV4cGVjdChwYXJzZUludChpbnB1dC5JdGVtLmNvbGxlY3RlZF9jb3VudC5OKSkudG9CZSgxMCk7XHJcbiAgICAgIGV4cGVjdChwYXJzZUludChpbnB1dC5JdGVtLmZhaWxlZF9jb3VudC5OKSkudG9CZSg1KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn44OX44Ot44OR44OG44Kj44OZ44O844K544OG44K544OIJywgKCkgPT4ge1xyXG4gICAgaXQoJ+S7u+aEj+OBrumAsuaNl+eOh+OCt+ODvOOCseODs+OCueOBp+WNmOiqv+aAp+OBjOS/neOBn+OCjOOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZmMuYXNzZXJ0KFxyXG4gICAgICAgIGZjLmFzeW5jUHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5hcnJheShmYy5pbnRlZ2VyKHsgbWluOiAwLCBtYXg6IDEwMCB9KSwgeyBtaW5MZW5ndGg6IDIsIG1heExlbmd0aDogMTAgfSksXHJcbiAgICAgICAgICBhc3luYyAocHJvZ3Jlc3NWYWx1ZXMpID0+IHtcclxuICAgICAgICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICAgICAgICBkeW5hbW9Nb2NrLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIGR5bmFtb01vY2sub24oUHV0SXRlbUNvbW1hbmQpLnJlc29sdmVzKHt9KTtcclxuICAgICAgICAgICAgY29uc3QgZXhlY3V0aW9uX2lkID0gYGV4ZWNfdGVzdF8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KX1gO1xyXG5cclxuICAgICAgICAgICAgLy8g44K944O844OI44GX44Gm5Y2Y6Kq/5aKX5Yqg44Gr44GZ44KLXHJcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZFByb2dyZXNzID0gWy4uLnByb2dyZXNzVmFsdWVzXS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XHJcblxyXG4gICAgICAgICAgICAvLyBBY3RcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9ncmVzcyBvZiBzb3J0ZWRQcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHByb2dyZXNzID09PSAwID8gJ3BlbmRpbmcnIDogcHJvZ3Jlc3MgPT09IDEwMCA/ICdjb21wbGV0ZWQnIDogJ3J1bm5pbmcnO1xyXG4gICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyhleGVjdXRpb25faWQsIHN0YXR1cywgcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBc3NlcnRcclxuICAgICAgICAgICAgY29uc3QgY2FsbHMgPSBkeW5hbW9Nb2NrLmNhbGxzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzZXMgPSBjYWxscy5tYXAoY2FsbCA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBjYWxsLmFyZ3NbMF0uaW5wdXQgYXMgYW55O1xyXG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dC5JdGVtLnByb2dyZXNzLk4pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOmAsuaNl+eOh+OBjOWNmOiqv+Wil+WKoO+8iOOBvuOBn+OBr+WQjOOBmOWApO+8iVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByb2dyZXNzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBleHBlY3QocHJvZ3Jlc3Nlc1tpXSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChwcm9ncmVzc2VzW2kgLSAxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICApLFxyXG4gICAgICAgIHsgbnVtUnVuczogMTAwIH0gLy8gMTAw5Zue5Y+N5b6pXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5Lu75oSP44Gu5a6f6KGMSUTjgafpgLLmjZfnjofjgYwwLTEwMOOBruevhOWbsuWGheOBq+WPjuOBvuOCiycsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZmMuYXNzZXJ0KFxyXG4gICAgICAgIGZjLmFzeW5jUHJvcGVydHkoXHJcbiAgICAgICAgICBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEwLCBtYXhMZW5ndGg6IDUwIH0pLFxyXG4gICAgICAgICAgZmMuaW50ZWdlcih7IG1pbjogLTEwMDAsIG1heDogMTAwMCB9KSwgLy8g56+E5Zuy5aSW44Gu5YCk44KC5ZCr44KAXHJcbiAgICAgICAgICBhc3luYyAoZXhlY3V0aW9uX2lkLCBwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAvLyBBcnJhbmdlXHJcbiAgICAgICAgICAgIGR5bmFtb01vY2sucmVzZXQoKTtcclxuICAgICAgICAgICAgZHluYW1vTW9jay5vbihQdXRJdGVtQ29tbWFuZCkucmVzb2x2ZXMoe30pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWN0XHJcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUV4ZWN1dGlvblN0YXR1cyhleGVjdXRpb25faWQsICdydW5uaW5nJywgcHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSBkeW5hbW9Nb2NrLmNhbGwoMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gY2FsbC5hcmdzWzBdLmlucHV0IGFzIGFueTtcclxuICAgICAgICAgICAgY29uc3QgYWN0dWFsUHJvZ3Jlc3MgPSBwYXJzZUludChpbnB1dC5JdGVtLnByb2dyZXNzLk4pO1xyXG5cclxuICAgICAgICAgICAgLy8g6YCy5o2X546H44GMMC0xMDDjga7nr4Tlm7LlhoVcclxuICAgICAgICAgICAgZXhwZWN0KGFjdHVhbFByb2dyZXNzKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgICAgICAgICBleHBlY3QoYWN0dWFsUHJvZ3Jlc3MpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApLFxyXG4gICAgICAgIHsgbnVtUnVuczogMTAwIH0gLy8gMTAw5Zue5Y+N5b6pXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJ2ZXJzaW9uIjozfQ==