{"version":3,"names":["cov_2hgjg0tpr","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","downloadPdf","validatePdfFile","axios_1","__importDefault","require","logger_1","errors_1","retry_1","url","retryWithBackoff","response","default","get","responseType","timeout","headers","buffer","Buffer","from","data","logger","info","size","length","error","isAxiosError","code","RetryableError","status","maxRetries","initialDelay","backoffMultiplier","jitter","minSize","maxSize","ValidationError","header","slice","toString","startsWith"],"sources":["C:\\Users\\ti198\\investment_analysis_opopo\\src\\scraper\\pdf-downloader.ts"],"sourcesContent":["/**\r\n * PDFダウンローダー\r\n *\r\n * TDnetからPDFファイルをダウンロードし、バリデーションを行います。\r\n *\r\n * Requirements: 要件1.3, 2.3（PDFダウンロード、整合性検証）\r\n */\r\n\r\nimport axios from 'axios';\r\nimport { logger } from '../utils/logger';\r\nimport { RetryableError, ValidationError } from '../errors';\r\nimport { retryWithBackoff } from '../utils/retry';\r\n\r\n/**\r\n * PDFファイルをダウンロード\r\n *\r\n * @param url PDF URL\r\n * @returns PDFファイルのバイナリデータ\r\n * @throws RetryableError ネットワークエラー\r\n * @throws ValidationError PDFファイルが不正な場合\r\n */\r\nexport async function downloadPdf(url: string): Promise<Buffer> {\r\n  return await retryWithBackoff(\r\n    async () => {\r\n      try {\r\n        const response = await axios.get(url, {\r\n          responseType: 'arraybuffer',\r\n          timeout: 30000, // 30秒タイムアウト\r\n          headers: {\r\n            'User-Agent': 'TDnet-Data-Collector/1.0',\r\n          },\r\n        });\r\n\r\n        const buffer = Buffer.from(response.data);\r\n\r\n        // PDFファイルのバリデーション\r\n        validatePdfFile(buffer);\r\n\r\n        logger.info('PDF downloaded successfully', {\r\n          url,\r\n          size: buffer.length,\r\n        });\r\n\r\n        return buffer;\r\n      } catch (error) {\r\n        if (axios.isAxiosError(error)) {\r\n          if (error.code === 'ECONNABORTED' || error.code === 'ETIMEDOUT') {\r\n            throw new RetryableError(`Timeout downloading PDF: ${url}`);\r\n          }\r\n          if (error.response && error.response.status >= 500) {\r\n            throw new RetryableError(`Server error (${error.response.status}): ${url}`);\r\n          }\r\n        }\r\n        throw error;\r\n      }\r\n    },\r\n    {\r\n      maxRetries: 3,\r\n      initialDelay: 2000,\r\n      backoffMultiplier: 2,\r\n      jitter: true,\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * PDFファイルのバリデーション\r\n *\r\n * @param buffer PDFファイルのバイナリデータ\r\n * @throws ValidationError PDFファイルが不正な場合\r\n */\r\nexport function validatePdfFile(buffer: Buffer): void {\r\n  // ファイルサイズチェック（10KB〜50MB）\r\n  const minSize = 10 * 1024; // 10KB\r\n  const maxSize = 50 * 1024 * 1024; // 50MB\r\n\r\n  if (buffer.length < minSize) {\r\n    throw new ValidationError(`PDF file too small: ${buffer.length} bytes (min: ${minSize})`);\r\n  }\r\n\r\n  if (buffer.length > maxSize) {\r\n    throw new ValidationError(`PDF file too large: ${buffer.length} bytes (max: ${maxSize})`);\r\n  }\r\n\r\n  // PDFヘッダーチェック（%PDF-で開始）\r\n  const header = buffer.slice(0, 5).toString('utf-8');\r\n  if (!header.startsWith('%PDF-')) {\r\n    throw new ValidationError(`Invalid PDF header: ${header}`);\r\n  }\r\n}\r\n"],"mappings":";;AAAA;;;;;;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;MAAA;QAAAC,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAO,SAAA;MAAA;QAAAD,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;IAAA;IAAAW,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,cAAA;MAAAC,IAAA;MAAAC,QAAA;MAAAC,KAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,OAAA;IAAA;IAAAC,eAAA;IAAA5B,IAAA;EAAA;EAAA,IAAA6B,QAAA,GAAA5B,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAA0B,QAAA,CAAA9B,IAAA,KAAA8B,QAAA,CAAA9B,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAA6B,QAAA,CAAA9B,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAA0B,cAAA,GAAAD,QAAA,CAAA9B,IAAA;EAAA;IASA;IAAAD,aAAA,YAAAA,CAAA;MAAA,OAAAgC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAhC,aAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYAiC,OAAA,CAAAC,WAAA,GAAAA,WAAA;AA0CC;AAAAlC,aAAA,GAAAoB,CAAA;AAQDa,OAAA,CAAAE,eAAA,GAAAA,eAAA;AA/DA,MAAAC,OAAA;AAAA;AAAA,CAAApC,aAAA,GAAAoB,CAAA,OAAAiB,eAAA,CAAAC,OAAA;AACA,MAAAC,QAAA;AAAA;AAAA,CAAAvC,aAAA,GAAAoB,CAAA,OAAAkB,OAAA;AACA,MAAAE,QAAA;AAAA;AAAA,CAAAxC,aAAA,GAAAoB,CAAA,OAAAkB,OAAA;AACA,MAAAG,OAAA;AAAA;AAAA,CAAAzC,aAAA,GAAAoB,CAAA,OAAAkB,OAAA;AAEA;;;;;;;;AAQO,eAAeJ,WAAWA,CAACQ,GAAW;EAAA;EAAA1C,aAAA,GAAAqB,CAAA;EAAArB,aAAA,GAAAoB,CAAA;EAC3C,OAAO,MAAM,IAAAqB,OAAA,CAAAE,gBAAgB,EAC3B,YAAW;IAAA;IAAA3C,aAAA,GAAAqB,CAAA;IAAArB,aAAA,GAAAoB,CAAA;IACT,IAAI;MACF,MAAMwB,QAAQ;MAAA;MAAA,CAAA5C,aAAA,GAAAoB,CAAA,QAAG,MAAMgB,OAAA,CAAAS,OAAK,CAACC,GAAG,CAACJ,GAAG,EAAE;QACpCK,YAAY,EAAE,aAAa;QAC3BC,OAAO,EAAE,KAAK;QAAE;QAChBC,OAAO,EAAE;UACP,YAAY,EAAE;;OAEjB,CAAC;MAEF,MAAMC,MAAM;MAAA;MAAA,CAAAlD,aAAA,GAAAoB,CAAA,QAAG+B,MAAM,CAACC,IAAI,CAACR,QAAQ,CAACS,IAAI,CAAC;MAEzC;MAAA;MAAArD,aAAA,GAAAoB,CAAA;MACAe,eAAe,CAACe,MAAM,CAAC;MAAC;MAAAlD,aAAA,GAAAoB,CAAA;MAExBmB,QAAA,CAAAe,MAAM,CAACC,IAAI,CAAC,6BAA6B,EAAE;QACzCb,GAAG;QACHc,IAAI,EAAEN,MAAM,CAACO;OACd,CAAC;MAAC;MAAAzD,aAAA,GAAAoB,CAAA;MAEH,OAAO8B,MAAM;IACf,CAAC,CAAC,OAAOQ,KAAK,EAAE;MAAA;MAAA1D,aAAA,GAAAoB,CAAA;MACd,IAAIgB,OAAA,CAAAS,OAAK,CAACc,YAAY,CAACD,KAAK,CAAC,EAAE;QAAA;QAAA1D,aAAA,GAAAsB,CAAA;QAAAtB,aAAA,GAAAoB,CAAA;QAC7B;QAAI;QAAA,CAAApB,aAAA,GAAAsB,CAAA,UAAAoC,KAAK,CAACE,IAAI,KAAK,cAAc;QAAA;QAAA,CAAA5D,aAAA,GAAAsB,CAAA,UAAIoC,KAAK,CAACE,IAAI,KAAK,WAAW,GAAE;UAAA;UAAA5D,aAAA,GAAAsB,CAAA;UAAAtB,aAAA,GAAAoB,CAAA;UAC/D,MAAM,IAAIoB,QAAA,CAAAqB,cAAc,CAAC,4BAA4BnB,GAAG,EAAE,CAAC;QAC7D,CAAC;QAAA;QAAA;UAAA1C,aAAA,GAAAsB,CAAA;QAAA;QAAAtB,aAAA,GAAAoB,CAAA;QACD;QAAI;QAAA,CAAApB,aAAA,GAAAsB,CAAA,UAAAoC,KAAK,CAACd,QAAQ;QAAA;QAAA,CAAA5C,aAAA,GAAAsB,CAAA,UAAIoC,KAAK,CAACd,QAAQ,CAACkB,MAAM,IAAI,GAAG,GAAE;UAAA;UAAA9D,aAAA,GAAAsB,CAAA;UAAAtB,aAAA,GAAAoB,CAAA;UAClD,MAAM,IAAIoB,QAAA,CAAAqB,cAAc,CAAC,iBAAiBH,KAAK,CAACd,QAAQ,CAACkB,MAAM,MAAMpB,GAAG,EAAE,CAAC;QAC7E,CAAC;QAAA;QAAA;UAAA1C,aAAA,GAAAsB,CAAA;QAAA;MACH,CAAC;MAAA;MAAA;QAAAtB,aAAA,GAAAsB,CAAA;MAAA;MAAAtB,aAAA,GAAAoB,CAAA;MACD,MAAMsC,KAAK;IACb;EACF,CAAC,EACD;IACEK,UAAU,EAAE,CAAC;IACbC,YAAY,EAAE,IAAI;IAClBC,iBAAiB,EAAE,CAAC;IACpBC,MAAM,EAAE;GACT,CACF;AACH;AAEA;;;;;;AAMA,SAAgB/B,eAAeA,CAACe,MAAc;EAAA;EAAAlD,aAAA,GAAAqB,CAAA;EAC5C;EACA,MAAM8C,OAAO;EAAA;EAAA,CAAAnE,aAAA,GAAAoB,CAAA,QAAG,EAAE,GAAG,IAAI,EAAC,CAAC;EAC3B,MAAMgD,OAAO;EAAA;EAAA,CAAApE,aAAA,GAAAoB,CAAA,QAAG,EAAE,GAAG,IAAI,GAAG,IAAI,EAAC,CAAC;EAAA;EAAApB,aAAA,GAAAoB,CAAA;EAElC,IAAI8B,MAAM,CAACO,MAAM,GAAGU,OAAO,EAAE;IAAA;IAAAnE,aAAA,GAAAsB,CAAA;IAAAtB,aAAA,GAAAoB,CAAA;IAC3B,MAAM,IAAIoB,QAAA,CAAA6B,eAAe,CAAC,uBAAuBnB,MAAM,CAACO,MAAM,gBAAgBU,OAAO,GAAG,CAAC;EAC3F,CAAC;EAAA;EAAA;IAAAnE,aAAA,GAAAsB,CAAA;EAAA;EAAAtB,aAAA,GAAAoB,CAAA;EAED,IAAI8B,MAAM,CAACO,MAAM,GAAGW,OAAO,EAAE;IAAA;IAAApE,aAAA,GAAAsB,CAAA;IAAAtB,aAAA,GAAAoB,CAAA;IAC3B,MAAM,IAAIoB,QAAA,CAAA6B,eAAe,CAAC,uBAAuBnB,MAAM,CAACO,MAAM,gBAAgBW,OAAO,GAAG,CAAC;EAC3F,CAAC;EAAA;EAAA;IAAApE,aAAA,GAAAsB,CAAA;EAAA;EAED;EACA,MAAMgD,MAAM;EAAA;EAAA,CAAAtE,aAAA,GAAAoB,CAAA,QAAG8B,MAAM,CAACqB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,QAAQ,CAAC,OAAO,CAAC;EAAC;EAAAxE,aAAA,GAAAoB,CAAA;EACpD,IAAI,CAACkD,MAAM,CAACG,UAAU,CAAC,OAAO,CAAC,EAAE;IAAA;IAAAzE,aAAA,GAAAsB,CAAA;IAAAtB,aAAA,GAAAoB,CAAA;IAC/B,MAAM,IAAIoB,QAAA,CAAA6B,eAAe,CAAC,uBAAuBC,MAAM,EAAE,CAAC;EAC5D,CAAC;EAAA;EAAA;IAAAtE,aAAA,GAAAsB,CAAA;EAAA;AACH","ignoreList":[]}