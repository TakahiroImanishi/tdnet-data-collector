2981f04e8be937d33faa0aa12eb43863
"use strict";
/**
 * Environment Parameterization Test
 *
 * Task 15.15-A: CDKスタックの環境パラメータ化テスト
 * Requirements: 要件8.1（設定管理）
 *
 * このテストは、CDKスタックが環境（dev/prod）ごとに正しくパラメータ化されていることを検証します。
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = __importStar(require("aws-cdk-lib"));
const assertions_1 = require("aws-cdk-lib/assertions");
const tdnet_data_collector_stack_1 = require("../lib/tdnet-data-collector-stack");
describe('Environment Parameterization', () => {
    const testAccount = '123456789012';
    const testRegion = 'ap-northeast-1';
    describe('Development Environment', () => {
        let template;
        beforeAll(() => {
            const app = new cdk.App();
            const stack = new tdnet_data_collector_stack_1.TdnetDataCollectorStack(app, 'TestStack-dev', {
                env: { account: testAccount, region: testRegion },
                environmentConfig: { environment: 'dev' },
            });
            template = assertions_1.Template.fromStack(stack);
        });
        describe('DynamoDB Tables', () => {
            it('should have environment suffix in table names', () => {
                template.hasResourceProperties('AWS::DynamoDB::Table', {
                    TableName: 'tdnet_disclosures_dev',
                });
                template.hasResourceProperties('AWS::DynamoDB::Table', {
                    TableName: 'tdnet_executions_dev',
                });
                template.hasResourceProperties('AWS::DynamoDB::Table', {
                    TableName: 'tdnet_export_status_dev',
                });
            });
        });
        describe('S3 Buckets', () => {
            it('should have environment suffix in bucket names', () => {
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-data-collector-pdfs-dev-${testAccount}`,
                });
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-data-collector-exports-dev-${testAccount}`,
                });
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-dashboard-dev-${testAccount}`,
                });
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-cloudtrail-logs-dev-${testAccount}`,
                });
            });
        });
        describe('Lambda Functions', () => {
            it('should have environment suffix in function names', () => {
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-collector-dev',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-query-dev',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-export-dev',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-collect-dev',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-collect-status-dev',
                });
            });
        });
        describe('API Gateway', () => {
            it('should have environment suffix in API name', () => {
                template.hasResourceProperties('AWS::ApiGateway::RestApi', {
                    Name: 'tdnet-data-collector-api-dev',
                });
            });
            it('should have environment suffix in API key name', () => {
                template.hasResourceProperties('AWS::ApiGateway::ApiKey', {
                    Name: 'tdnet-api-key-dev',
                });
            });
            it('should have environment suffix in usage plan name', () => {
                template.hasResourceProperties('AWS::ApiGateway::UsagePlan', {
                    UsagePlanName: 'tdnet-usage-plan-dev',
                });
            });
        });
        describe('WAF', () => {
            it('should have environment suffix in Web ACL name', () => {
                template.hasResourceProperties('AWS::WAFv2::WebACL', {
                    Name: 'tdnet-web-acl-dev',
                });
            });
        });
    });
    describe('Production Environment', () => {
        let template;
        beforeAll(() => {
            const app = new cdk.App();
            const stack = new tdnet_data_collector_stack_1.TdnetDataCollectorStack(app, 'TestStack-prod', {
                env: { account: testAccount, region: testRegion },
                environmentConfig: { environment: 'prod' },
            });
            template = assertions_1.Template.fromStack(stack);
        });
        describe('DynamoDB Tables', () => {
            it('should have environment suffix in table names', () => {
                template.hasResourceProperties('AWS::DynamoDB::Table', {
                    TableName: 'tdnet_disclosures_prod',
                });
                template.hasResourceProperties('AWS::DynamoDB::Table', {
                    TableName: 'tdnet_executions_prod',
                });
                template.hasResourceProperties('AWS::DynamoDB::Table', {
                    TableName: 'tdnet_export_status_prod',
                });
            });
        });
        describe('S3 Buckets', () => {
            it('should have environment suffix in bucket names', () => {
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-data-collector-pdfs-prod-${testAccount}`,
                });
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-data-collector-exports-prod-${testAccount}`,
                });
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-dashboard-prod-${testAccount}`,
                });
                template.hasResourceProperties('AWS::S3::Bucket', {
                    BucketName: `tdnet-cloudtrail-logs-prod-${testAccount}`,
                });
            });
        });
        describe('Lambda Functions', () => {
            it('should have environment suffix in function names', () => {
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-collector-prod',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-query-prod',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-export-prod',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-collect-prod',
                });
                template.hasResourceProperties('AWS::Lambda::Function', {
                    FunctionName: 'tdnet-collect-status-prod',
                });
            });
        });
        describe('API Gateway', () => {
            it('should have environment suffix in API name', () => {
                template.hasResourceProperties('AWS::ApiGateway::RestApi', {
                    Name: 'tdnet-data-collector-api-prod',
                });
            });
            it('should have environment suffix in API key name', () => {
                template.hasResourceProperties('AWS::ApiGateway::ApiKey', {
                    Name: 'tdnet-api-key-prod',
                });
            });
            it('should have environment suffix in usage plan name', () => {
                template.hasResourceProperties('AWS::ApiGateway::UsagePlan', {
                    UsagePlanName: 'tdnet-usage-plan-prod',
                });
            });
        });
        describe('WAF', () => {
            it('should have environment suffix in Web ACL name', () => {
                template.hasResourceProperties('AWS::WAFv2::WebACL', {
                    Name: 'tdnet-web-acl-prod',
                });
            });
        });
    });
    describe('Default Environment (no config provided)', () => {
        let template;
        beforeAll(() => {
            const app = new cdk.App();
            const stack = new tdnet_data_collector_stack_1.TdnetDataCollectorStack(app, 'TestStack-default', {
                env: { account: testAccount, region: testRegion },
                // environmentConfig not provided - should default to 'dev'
            });
            template = assertions_1.Template.fromStack(stack);
        });
        it('should default to dev environment', () => {
            template.hasResourceProperties('AWS::DynamoDB::Table', {
                TableName: 'tdnet_disclosures_dev',
            });
            template.hasResourceProperties('AWS::Lambda::Function', {
                FunctionName: 'tdnet-collector-dev',
            });
            template.hasResourceProperties('AWS::ApiGateway::RestApi', {
                Name: 'tdnet-data-collector-api-dev',
            });
        });
    });
    describe('Resource Isolation', () => {
        it('should create different resource names for dev and prod', () => {
            const app = new cdk.App();
            const devStack = new tdnet_data_collector_stack_1.TdnetDataCollectorStack(app, 'DevStack', {
                env: { account: testAccount, region: testRegion },
                environmentConfig: { environment: 'dev' },
            });
            const prodStack = new tdnet_data_collector_stack_1.TdnetDataCollectorStack(app, 'ProdStack', {
                env: { account: testAccount, region: testRegion },
                environmentConfig: { environment: 'prod' },
            });
            const devTemplate = assertions_1.Template.fromStack(devStack);
            const prodTemplate = assertions_1.Template.fromStack(prodStack);
            // Verify dev resources
            devTemplate.hasResourceProperties('AWS::DynamoDB::Table', {
                TableName: 'tdnet_disclosures_dev',
            });
            // Verify prod resources
            prodTemplate.hasResourceProperties('AWS::DynamoDB::Table', {
                TableName: 'tdnet_disclosures_prod',
            });
            // Ensure they are different
            expect(devStack.disclosuresTable.tableName).not.toBe(prodStack.disclosuresTable.tableName);
        });
    });
    describe('Environment Variable Propagation', () => {
        let template;
        beforeAll(() => {
            const app = new cdk.App();
            const stack = new tdnet_data_collector_stack_1.TdnetDataCollectorStack(app, 'TestStack-env-vars', {
                env: { account: testAccount, region: testRegion },
                environmentConfig: { environment: 'dev' },
            });
            template = assertions_1.Template.fromStack(stack);
        });
        it('should pass environment-specific table names to Lambda functions', () => {
            // Collector function should have dev table names
            template.hasResourceProperties('AWS::Lambda::Function', {
                FunctionName: 'tdnet-collector-dev',
                Environment: {
                    Variables: {
                        DYNAMODB_TABLE: 'tdnet_disclosures_dev',
                        DYNAMODB_EXECUTIONS_TABLE: 'tdnet_executions_dev',
                    },
                },
            });
            // Query function should have dev table name
            template.hasResourceProperties('AWS::Lambda::Function', {
                FunctionName: 'tdnet-query-dev',
                Environment: {
                    Variables: {
                        DYNAMODB_TABLE_NAME: 'tdnet_disclosures_dev',
                    },
                },
            });
            // Export function should have dev table names
            template.hasResourceProperties('AWS::Lambda::Function', {
                FunctionName: 'tdnet-export-dev',
                Environment: {
                    Variables: {
                        DYNAMODB_TABLE_NAME: 'tdnet_disclosures_dev',
                        EXPORT_STATUS_TABLE_NAME: 'tdnet_export_status_dev',
                    },
                },
            });
        });
        it('should pass environment-specific bucket names to Lambda functions', () => {
            // Collector function should have dev bucket name
            template.hasResourceProperties('AWS::Lambda::Function', {
                FunctionName: 'tdnet-collector-dev',
                Environment: {
                    Variables: {
                        S3_BUCKET: `tdnet-data-collector-pdfs-dev-${testAccount}`,
                    },
                },
            });
            // Query function should have dev bucket name
            template.hasResourceProperties('AWS::Lambda::Function', {
                FunctionName: 'tdnet-query-dev',
                Environment: {
                    Variables: {
                        S3_BUCKET_NAME: `tdnet-data-collector-pdfs-dev-${testAccount}`,
                    },
                },
            });
            // Export function should have dev bucket name
            template.hasResourceProperties('AWS::Lambda::Function', {
                FunctionName: 'tdnet-export-dev',
                Environment: {
                    Variables: {
                        EXPORT_BUCKET_NAME: `tdnet-data-collector-exports-dev-${testAccount}`,
                    },
                },
            });
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcY2RrXFxfX3Rlc3RzX19cXGVudmlyb25tZW50LXBhcmFtZXRlcml6YXRpb24udGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7R0FPRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFSCxpREFBbUM7QUFDbkMsdURBQWtEO0FBQ2xELGtGQUE0RTtBQUU1RSxRQUFRLENBQUMsOEJBQThCLEVBQUUsR0FBRyxFQUFFO0lBQzVDLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQztJQUNuQyxNQUFNLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQztJQUVwQyxRQUFRLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ3ZDLElBQUksUUFBa0IsQ0FBQztRQUV2QixTQUFTLENBQUMsR0FBRyxFQUFFO1lBQ2IsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDMUIsTUFBTSxLQUFLLEdBQUcsSUFBSSxvREFBdUIsQ0FBQyxHQUFHLEVBQUUsZUFBZSxFQUFFO2dCQUM5RCxHQUFHLEVBQUUsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUU7Z0JBQ2pELGlCQUFpQixFQUFFLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRTthQUMxQyxDQUFDLENBQUM7WUFDSCxRQUFRLEdBQUcscUJBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxRQUFRLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1lBQy9CLEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxHQUFHLEVBQUU7Z0JBQ3ZELFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxzQkFBc0IsRUFBRTtvQkFDckQsU0FBUyxFQUFFLHVCQUF1QjtpQkFDbkMsQ0FBQyxDQUFDO2dCQUVILFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxzQkFBc0IsRUFBRTtvQkFD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O3dCQUNULGNBQWMsRUFBRSxpQ0FBaUMsV0FBVyxFQUFFO3FCQUMvRDtpQkFDRjthQUNGLENBQUMsQ0FBQztZQUVILDhDQUE4QztZQUM5QyxRQUFRLENBQUMscUJBQXFCLENBQUMsdUJBQXVCLEVBQUU7Z0JBQ3RELFlBQVksRUFBRSxrQkFBa0I7Z0JBQ2hDLFdBQVcsRUFBRTtvQkFDWCxTQUFTLEVBQUU7d0JBQ1Qsa0JBQWtCLEVBQUUsb0NBQW9DLFdBQVcsRUFBRTtxQkFDdEU7aUJBQ0Y7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0aTE5OFxcaW52ZXN0bWVudF9hbmFseXNpc19vcG9wb1xcY2RrXFxfX3Rlc3RzX19cXGVudmlyb25tZW50LXBhcmFtZXRlcml6YXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRW52aXJvbm1lbnQgUGFyYW1ldGVyaXphdGlvbiBUZXN0XHJcbiAqXHJcbiAqIFRhc2sgMTUuMTUtQTogQ0RL44K544K/44OD44Kv44Gu55Kw5aKD44OR44Op44Oh44O844K/5YyW44OG44K544OIXHJcbiAqIFJlcXVpcmVtZW50czog6KaB5Lu2OC4x77yI6Kit5a6a566h55CG77yJXHJcbiAqXHJcbiAqIOOBk+OBruODhuOCueODiOOBr+OAgUNES+OCueOCv+ODg+OCr+OBjOeSsOWig++8iGRldi9wcm9k77yJ44GU44Go44Gr5q2j44GX44GP44OR44Op44Oh44O844K/5YyW44GV44KM44Gm44GE44KL44GT44Go44KS5qSc6Ki844GX44G+44GZ44CCXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcclxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tICdhd3MtY2RrLWxpYi9hc3NlcnRpb25zJztcclxuaW1wb3J0IHsgVGRuZXREYXRhQ29sbGVjdG9yU3RhY2sgfSBmcm9tICcuLi9saWIvdGRuZXQtZGF0YS1jb2xsZWN0b3Itc3RhY2snO1xyXG5cclxuZGVzY3JpYmUoJ0Vudmlyb25tZW50IFBhcmFtZXRlcml6YXRpb24nLCAoKSA9PiB7XHJcbiAgY29uc3QgdGVzdEFjY291bnQgPSAnMTIzNDU2Nzg5MDEyJztcclxuICBjb25zdCB0ZXN0UmVnaW9uID0gJ2FwLW5vcnRoZWFzdC0xJztcclxuXHJcbiAgZGVzY3JpYmUoJ0RldmVsb3BtZW50IEVudmlyb25tZW50JywgKCkgPT4ge1xyXG4gICAgbGV0IHRlbXBsYXRlOiBUZW1wbGF0ZTtcclxuXHJcbiAgICBiZWZvcmVBbGwoKCkgPT4ge1xyXG4gICAgICBjb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xyXG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBUZG5ldERhdGFDb2xsZWN0b3JTdGFjayhhcHAsICdUZXN0U3RhY2stZGV2Jywge1xyXG4gICAgICAgIGVudjogeyBhY2NvdW50OiB0ZXN0QWNjb3VudCwgcmVnaW9uOiB0ZXN0UmVnaW9uIH0sXHJcbiAgICAgICAgZW52aXJvbm1lbnRDb25maWc6IHsgZW52aXJvbm1lbnQ6ICdkZXYnIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICB0ZW1wbGF0ZSA9IFRlbXBsYXRlLmZyb21TdGFjayhzdGFjayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnRHluYW1vREIgVGFibGVzJywgKCkgPT4ge1xyXG4gICAgICBpdCgnc2hvdWxkIGhhdmUgZW52aXJvbm1lbnQgc3VmZml4IGluIHRhYmxlIG5hbWVzJywgKCkgPT4ge1xyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpEeW5hbW9EQjo6VGFibGUnLCB7XHJcbiAgICAgICAgICBUYWJsZU5hbWU6ICd0ZG5ldF9kaXNjbG9zdXJlc19kZXYnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RHluYW1vREI6OlRhYmxlJywge1xyXG4gICAgICAgICAgVGFibGVOYW1lOiAndGRuZXRfZXhlY3V0aW9uc19kZXYnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6RHluYW1vREI6OlRhYmxlJywge1xyXG4gICAgICAgICAgVGFibGVOYW1lOiAndGRuZXRfZXhwb3J0X3N0YXR1c19kZXYnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdTMyBCdWNrZXRzJywgKCkgPT4ge1xyXG4gICAgICBpdCgnc2hvdWxkIGhhdmUgZW52aXJvbm1lbnQgc3VmZml4IGluIGJ1Y2tldCBuYW1lcycsICgpID0+IHtcclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6UzM6OkJ1Y2tldCcsIHtcclxuICAgICAgICAgIEJ1Y2tldE5hbWU6IGB0ZG5ldC1kYXRhLWNvbGxlY3Rvci1wZGZzLWRldi0ke3Rlc3RBY2NvdW50fWAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTMzo6QnVja2V0Jywge1xyXG4gICAgICAgICAgQnVja2V0TmFtZTogYHRkbmV0LWRhdGEtY29sbGVjdG9yLWV4cG9ydHMtZGV2LSR7dGVzdEFjY291bnR9YCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OlMzOjpCdWNrZXQnLCB7XHJcbiAgICAgICAgICBCdWNrZXROYW1lOiBgdGRuZXQtZGFzaGJvYXJkLWRldi0ke3Rlc3RBY2NvdW50fWAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTMzo6QnVja2V0Jywge1xyXG4gICAgICAgICAgQnVja2V0TmFtZTogYHRkbmV0LWNsb3VkdHJhaWwtbG9ncy1kZXYtJHt0ZXN0QWNjb3VudH1gLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdMYW1iZGEgRnVuY3Rpb25zJywgKCkgPT4ge1xyXG4gICAgICBpdCgnc2hvdWxkIGhhdmUgZW52aXJvbm1lbnQgc3VmZml4IGluIGZ1bmN0aW9uIG5hbWVzJywgKCkgPT4ge1xyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgICAgRnVuY3Rpb25OYW1lOiAndGRuZXQtY29sbGVjdG9yLWRldicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgICAgRnVuY3Rpb25OYW1lOiAndGRuZXQtcXVlcnktZGV2JyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLCB7XHJcbiAgICAgICAgICBGdW5jdGlvbk5hbWU6ICd0ZG5ldC1leHBvcnQtZGV2JyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLCB7XHJcbiAgICAgICAgICBGdW5jdGlvbk5hbWU6ICd0ZG5ldC1jb2xsZWN0LWRldicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgICAgRnVuY3Rpb25OYW1lOiAndGRuZXQtY29sbGVjdC1zdGF0dXMtZGV2JyxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnQVBJIEdhdGV3YXknLCAoKSA9PiB7XHJcbiAgICAgIGl0KCdzaG91bGQgaGF2ZSBlbnZpcm9ubWVudCBzdWZmaXggaW4gQVBJIG5hbWUnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6OlJlc3RBcGknLCB7XHJcbiAgICAgICAgICBOYW1lOiAndGRuZXQtZGF0YS1jb2xsZWN0b3ItYXBpLWRldicsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBoYXZlIGVudmlyb25tZW50IHN1ZmZpeCBpbiBBUEkga2V5IG5hbWUnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6OkFwaUtleScsIHtcclxuICAgICAgICAgIE5hbWU6ICd0ZG5ldC1hcGkta2V5LWRldicsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBoYXZlIGVudmlyb25tZW50IHN1ZmZpeCBpbiB1c2FnZSBwbGFuIG5hbWUnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6OlVzYWdlUGxhbicsIHtcclxuICAgICAgICAgIFVzYWdlUGxhbk5hbWU6ICd0ZG5ldC11c2FnZS1wbGFuLWRldicsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ1dBRicsICgpID0+IHtcclxuICAgICAgaXQoJ3Nob3VsZCBoYXZlIGVudmlyb25tZW50IHN1ZmZpeCBpbiBXZWIgQUNMIG5hbWUnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OldBRnYyOjpXZWJBQ0wnLCB7XHJcbiAgICAgICAgICBOYW1lOiAndGRuZXQtd2ViLWFjbC1kZXYnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUHJvZHVjdGlvbiBFbnZpcm9ubWVudCcsICgpID0+IHtcclxuICAgIGxldCB0ZW1wbGF0ZTogVGVtcGxhdGU7XHJcblxyXG4gICAgYmVmb3JlQWxsKCgpID0+IHtcclxuICAgICAgY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcclxuICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgVGRuZXREYXRhQ29sbGVjdG9yU3RhY2soYXBwLCAnVGVzdFN0YWNrLXByb2QnLCB7XHJcbiAgICAgICAgZW52OiB7IGFjY291bnQ6IHRlc3RBY2NvdW50LCByZWdpb246IHRlc3RSZWdpb24gfSxcclxuICAgICAgICBlbnZpcm9ubWVudENvbmZpZzogeyBlbnZpcm9ubWVudDogJ3Byb2QnIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICB0ZW1wbGF0ZSA9IFRlbXBsYXRlLmZyb21TdGFjayhzdGFjayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnRHluYW1vREIgVGFibGVzJywgKCkgPT4ge1xyXG4gICAgICBpdCgnc2hvdWxkIGhhdmUgZW52aXJvbm1lbnQgc3VmZml4IGluIHRhYmxlIG5hbWVzJywgKCkgPT4ge1xyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpEeW5hbW9EQjo6VGFibGUnLCB7XHJcbiAgICAgICAgICBUYWJsZU5hbWU6ICd0ZG5ldF9kaXNjbG9zdXJlc19wcm9kJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkR5bmFtb0RCOjpUYWJsZScsIHtcclxuICAgICAgICAgIFRhYmxlTmFtZTogJ3RkbmV0X2V4ZWN1dGlvbnNfcHJvZCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpEeW5hbW9EQjo6VGFibGUnLCB7XHJcbiAgICAgICAgICBUYWJsZU5hbWU6ICd0ZG5ldF9leHBvcnRfc3RhdHVzX3Byb2QnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2NyaWJlKCdTMyBCdWNrZXRzJywgKCkgPT4ge1xyXG4gICAgICBpdCgnc2hvdWxkIGhhdmUgZW52aXJvbm1lbnQgc3VmZml4IGluIGJ1Y2tldCBuYW1lcycsICgpID0+IHtcclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6UzM6OkJ1Y2tldCcsIHtcclxuICAgICAgICAgIEJ1Y2tldE5hbWU6IGB0ZG5ldC1kYXRhLWNvbGxlY3Rvci1wZGZzLXByb2QtJHt0ZXN0QWNjb3VudH1gLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6UzM6OkJ1Y2tldCcsIHtcclxuICAgICAgICAgIEJ1Y2tldE5hbWU6IGB0ZG5ldC1kYXRhLWNvbGxlY3Rvci1leHBvcnRzLXByb2QtJHt0ZXN0QWNjb3VudH1gLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6UzM6OkJ1Y2tldCcsIHtcclxuICAgICAgICAgIEJ1Y2tldE5hbWU6IGB0ZG5ldC1kYXNoYm9hcmQtcHJvZC0ke3Rlc3RBY2NvdW50fWAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpTMzo6QnVja2V0Jywge1xyXG4gICAgICAgICAgQnVja2V0TmFtZTogYHRkbmV0LWNsb3VkdHJhaWwtbG9ncy1wcm9kLSR7dGVzdEFjY291bnR9YCxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnTGFtYmRhIEZ1bmN0aW9ucycsICgpID0+IHtcclxuICAgICAgaXQoJ3Nob3VsZCBoYXZlIGVudmlyb25tZW50IHN1ZmZpeCBpbiBmdW5jdGlvbiBuYW1lcycsICgpID0+IHtcclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6TGFtYmRhOjpGdW5jdGlvbicsIHtcclxuICAgICAgICAgIEZ1bmN0aW9uTmFtZTogJ3RkbmV0LWNvbGxlY3Rvci1wcm9kJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLCB7XHJcbiAgICAgICAgICBGdW5jdGlvbk5hbWU6ICd0ZG5ldC1xdWVyeS1wcm9kJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLCB7XHJcbiAgICAgICAgICBGdW5jdGlvbk5hbWU6ICd0ZG5ldC1leHBvcnQtcHJvZCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgICAgRnVuY3Rpb25OYW1lOiAndGRuZXQtY29sbGVjdC1wcm9kJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLCB7XHJcbiAgICAgICAgICBGdW5jdGlvbk5hbWU6ICd0ZG5ldC1jb2xsZWN0LXN0YXR1cy1wcm9kJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNjcmliZSgnQVBJIEdhdGV3YXknLCAoKSA9PiB7XHJcbiAgICAgIGl0KCdzaG91bGQgaGF2ZSBlbnZpcm9ubWVudCBzdWZmaXggaW4gQVBJIG5hbWUnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkFwaUdhdGV3YXk6OlJlc3RBcGknLCB7XHJcbiAgICAgICAgICBOYW1lOiAndGRuZXQtZGF0YS1jb2xsZWN0b3ItYXBpLXByb2QnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgaGF2ZSBlbnZpcm9ubWVudCBzdWZmaXggaW4gQVBJIGtleSBuYW1lJywgKCkgPT4ge1xyXG4gICAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpBcGlHYXRld2F5OjpBcGlLZXknLCB7XHJcbiAgICAgICAgICBOYW1lOiAndGRuZXQtYXBpLWtleS1wcm9kJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGhhdmUgZW52aXJvbm1lbnQgc3VmZml4IGluIHVzYWdlIHBsYW4gbmFtZScsICgpID0+IHtcclxuICAgICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBpR2F0ZXdheTo6VXNhZ2VQbGFuJywge1xyXG4gICAgICAgICAgVXNhZ2VQbGFuTmFtZTogJ3RkbmV0LXVzYWdlLXBsYW4tcHJvZCcsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZGVzY3JpYmUoJ1dBRicsICgpID0+IHtcclxuICAgICAgaXQoJ3Nob3VsZCBoYXZlIGVudmlyb25tZW50IHN1ZmZpeCBpbiBXZWIgQUNMIG5hbWUnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OldBRnYyOjpXZWJBQ0wnLCB7XHJcbiAgICAgICAgICBOYW1lOiAndGRuZXQtd2ViLWFjbC1wcm9kJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0RlZmF1bHQgRW52aXJvbm1lbnQgKG5vIGNvbmZpZyBwcm92aWRlZCknLCAoKSA9PiB7XHJcbiAgICBsZXQgdGVtcGxhdGU6IFRlbXBsYXRlO1xyXG5cclxuICAgIGJlZm9yZUFsbCgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XHJcbiAgICAgIGNvbnN0IHN0YWNrID0gbmV3IFRkbmV0RGF0YUNvbGxlY3RvclN0YWNrKGFwcCwgJ1Rlc3RTdGFjay1kZWZhdWx0Jywge1xyXG4gICAgICAgIGVudjogeyBhY2NvdW50OiB0ZXN0QWNjb3VudCwgcmVnaW9uOiB0ZXN0UmVnaW9uIH0sXHJcbiAgICAgICAgLy8gZW52aXJvbm1lbnRDb25maWcgbm90IHByb3ZpZGVkIC0gc2hvdWxkIGRlZmF1bHQgdG8gJ2RldidcclxuICAgICAgfSk7XHJcbiAgICAgIHRlbXBsYXRlID0gVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGVmYXVsdCB0byBkZXYgZW52aXJvbm1lbnQnLCAoKSA9PiB7XHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpEeW5hbW9EQjo6VGFibGUnLCB7XHJcbiAgICAgICAgVGFibGVOYW1lOiAndGRuZXRfZGlzY2xvc3VyZXNfZGV2JyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6TGFtYmRhOjpGdW5jdGlvbicsIHtcclxuICAgICAgICBGdW5jdGlvbk5hbWU6ICd0ZG5ldC1jb2xsZWN0b3ItZGV2JyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0ZW1wbGF0ZS5oYXNSZXNvdXJjZVByb3BlcnRpZXMoJ0FXUzo6QXBpR2F0ZXdheTo6UmVzdEFwaScsIHtcclxuICAgICAgICBOYW1lOiAndGRuZXQtZGF0YS1jb2xsZWN0b3ItYXBpLWRldicsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdSZXNvdXJjZSBJc29sYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBkaWZmZXJlbnQgcmVzb3VyY2UgbmFtZXMgZm9yIGRldiBhbmQgcHJvZCcsICgpID0+IHtcclxuICAgICAgY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRldlN0YWNrID0gbmV3IFRkbmV0RGF0YUNvbGxlY3RvclN0YWNrKGFwcCwgJ0RldlN0YWNrJywge1xyXG4gICAgICAgIGVudjogeyBhY2NvdW50OiB0ZXN0QWNjb3VudCwgcmVnaW9uOiB0ZXN0UmVnaW9uIH0sXHJcbiAgICAgICAgZW52aXJvbm1lbnRDb25maWc6IHsgZW52aXJvbm1lbnQ6ICdkZXYnIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcHJvZFN0YWNrID0gbmV3IFRkbmV0RGF0YUNvbGxlY3RvclN0YWNrKGFwcCwgJ1Byb2RTdGFjaycsIHtcclxuICAgICAgICBlbnY6IHsgYWNjb3VudDogdGVzdEFjY291bnQsIHJlZ2lvbjogdGVzdFJlZ2lvbiB9LFxyXG4gICAgICAgIGVudmlyb25tZW50Q29uZmlnOiB7IGVudmlyb25tZW50OiAncHJvZCcgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBkZXZUZW1wbGF0ZSA9IFRlbXBsYXRlLmZyb21TdGFjayhkZXZTdGFjayk7XHJcbiAgICAgIGNvbnN0IHByb2RUZW1wbGF0ZSA9IFRlbXBsYXRlLmZyb21TdGFjayhwcm9kU3RhY2spO1xyXG5cclxuICAgICAgLy8gVmVyaWZ5IGRldiByZXNvdXJjZXNcclxuICAgICAgZGV2VGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkR5bmFtb0RCOjpUYWJsZScsIHtcclxuICAgICAgICBUYWJsZU5hbWU6ICd0ZG5ldF9kaXNjbG9zdXJlc19kZXYnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFZlcmlmeSBwcm9kIHJlc291cmNlc1xyXG4gICAgICBwcm9kVGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkR5bmFtb0RCOjpUYWJsZScsIHtcclxuICAgICAgICBUYWJsZU5hbWU6ICd0ZG5ldF9kaXNjbG9zdXJlc19wcm9kJyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBFbnN1cmUgdGhleSBhcmUgZGlmZmVyZW50XHJcbiAgICAgIGV4cGVjdChkZXZTdGFjay5kaXNjbG9zdXJlc1RhYmxlLnRhYmxlTmFtZSkubm90LnRvQmUoXHJcbiAgICAgICAgcHJvZFN0YWNrLmRpc2Nsb3N1cmVzVGFibGUudGFibGVOYW1lXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Vudmlyb25tZW50IFZhcmlhYmxlIFByb3BhZ2F0aW9uJywgKCkgPT4ge1xyXG4gICAgbGV0IHRlbXBsYXRlOiBUZW1wbGF0ZTtcclxuXHJcbiAgICBiZWZvcmVBbGwoKCkgPT4ge1xyXG4gICAgICBjb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xyXG4gICAgICBjb25zdCBzdGFjayA9IG5ldyBUZG5ldERhdGFDb2xsZWN0b3JTdGFjayhhcHAsICdUZXN0U3RhY2stZW52LXZhcnMnLCB7XHJcbiAgICAgICAgZW52OiB7IGFjY291bnQ6IHRlc3RBY2NvdW50LCByZWdpb246IHRlc3RSZWdpb24gfSxcclxuICAgICAgICBlbnZpcm9ubWVudENvbmZpZzogeyBlbnZpcm9ubWVudDogJ2RldicgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIHRlbXBsYXRlID0gVGVtcGxhdGUuZnJvbVN0YWNrKHN0YWNrKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcGFzcyBlbnZpcm9ubWVudC1zcGVjaWZpYyB0YWJsZSBuYW1lcyB0byBMYW1iZGEgZnVuY3Rpb25zJywgKCkgPT4ge1xyXG4gICAgICAvLyBDb2xsZWN0b3IgZnVuY3Rpb24gc2hvdWxkIGhhdmUgZGV2IHRhYmxlIG5hbWVzXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgIEZ1bmN0aW9uTmFtZTogJ3RkbmV0LWNvbGxlY3Rvci1kZXYnLFxyXG4gICAgICAgIEVudmlyb25tZW50OiB7XHJcbiAgICAgICAgICBWYXJpYWJsZXM6IHtcclxuICAgICAgICAgICAgRFlOQU1PREJfVEFCTEU6ICd0ZG5ldF9kaXNjbG9zdXJlc19kZXYnLFxyXG4gICAgICAgICAgICBEWU5BTU9EQl9FWEVDVVRJT05TX1RBQkxFOiAndGRuZXRfZXhlY3V0aW9uc19kZXYnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFF1ZXJ5IGZ1bmN0aW9uIHNob3VsZCBoYXZlIGRldiB0YWJsZSBuYW1lXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgIEZ1bmN0aW9uTmFtZTogJ3RkbmV0LXF1ZXJ5LWRldicsXHJcbiAgICAgICAgRW52aXJvbm1lbnQ6IHtcclxuICAgICAgICAgIFZhcmlhYmxlczoge1xyXG4gICAgICAgICAgICBEWU5BTU9EQl9UQUJMRV9OQU1FOiAndGRuZXRfZGlzY2xvc3VyZXNfZGV2JyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBFeHBvcnQgZnVuY3Rpb24gc2hvdWxkIGhhdmUgZGV2IHRhYmxlIG5hbWVzXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgIEZ1bmN0aW9uTmFtZTogJ3RkbmV0LWV4cG9ydC1kZXYnLFxyXG4gICAgICAgIEVudmlyb25tZW50OiB7XHJcbiAgICAgICAgICBWYXJpYWJsZXM6IHtcclxuICAgICAgICAgICAgRFlOQU1PREJfVEFCTEVfTkFNRTogJ3RkbmV0X2Rpc2Nsb3N1cmVzX2RldicsXHJcbiAgICAgICAgICAgIEVYUE9SVF9TVEFUVVNfVEFCTEVfTkFNRTogJ3RkbmV0X2V4cG9ydF9zdGF0dXNfZGV2JyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHBhc3MgZW52aXJvbm1lbnQtc3BlY2lmaWMgYnVja2V0IG5hbWVzIHRvIExhbWJkYSBmdW5jdGlvbnMnLCAoKSA9PiB7XHJcbiAgICAgIC8vIENvbGxlY3RvciBmdW5jdGlvbiBzaG91bGQgaGF2ZSBkZXYgYnVja2V0IG5hbWVcclxuICAgICAgdGVtcGxhdGUuaGFzUmVzb3VyY2VQcm9wZXJ0aWVzKCdBV1M6OkxhbWJkYTo6RnVuY3Rpb24nLCB7XHJcbiAgICAgICAgRnVuY3Rpb25OYW1lOiAndGRuZXQtY29sbGVjdG9yLWRldicsXHJcbiAgICAgICAgRW52aXJvbm1lbnQ6IHtcclxuICAgICAgICAgIFZhcmlhYmxlczoge1xyXG4gICAgICAgICAgICBTM19CVUNLRVQ6IGB0ZG5ldC1kYXRhLWNvbGxlY3Rvci1wZGZzLWRldi0ke3Rlc3RBY2NvdW50fWAsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gUXVlcnkgZnVuY3Rpb24gc2hvdWxkIGhhdmUgZGV2IGJ1Y2tldCBuYW1lXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgIEZ1bmN0aW9uTmFtZTogJ3RkbmV0LXF1ZXJ5LWRldicsXHJcbiAgICAgICAgRW52aXJvbm1lbnQ6IHtcclxuICAgICAgICAgIFZhcmlhYmxlczoge1xyXG4gICAgICAgICAgICBTM19CVUNLRVRfTkFNRTogYHRkbmV0LWRhdGEtY29sbGVjdG9yLXBkZnMtZGV2LSR7dGVzdEFjY291bnR9YCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBFeHBvcnQgZnVuY3Rpb24gc2hvdWxkIGhhdmUgZGV2IGJ1Y2tldCBuYW1lXHJcbiAgICAgIHRlbXBsYXRlLmhhc1Jlc291cmNlUHJvcGVydGllcygnQVdTOjpMYW1iZGE6OkZ1bmN0aW9uJywge1xyXG4gICAgICAgIEZ1bmN0aW9uTmFtZTogJ3RkbmV0LWV4cG9ydC1kZXYnLFxyXG4gICAgICAgIEVudmlyb25tZW50OiB7XHJcbiAgICAgICAgICBWYXJpYWJsZXM6IHtcclxuICAgICAgICAgICAgRVhQT1JUX0JVQ0tFVF9OQU1FOiBgdGRuZXQtZGF0YS1jb2xsZWN0b3ItZXhwb3J0cy1kZXYtJHt0ZXN0QWNjb3VudH1gLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sInZlcnNpb24iOjN9